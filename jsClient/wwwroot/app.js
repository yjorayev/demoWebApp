webpackJsonp([1],{

/***/ 45:
/*!**********************************!*\
  !*** ./src/auth/auth.service.ts ***!
  \**********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 61);\r\nvar Observable_1 = __webpack_require__(/*! rxjs/Observable */ 0);\r\nvar Oidc = __webpack_require__(/*! oidc-client */ 635);\r\nvar AuthService = (function () {\r\n    function AuthService(_router) {\r\n        this._router = _router;\r\n        Oidc.Log.logger = console;\r\n        var settings = {\r\n            authority: \"http://localhost:5000\",\r\n            client_id: \"js\",\r\n            loadUserInfo: true,\r\n            redirect_uri: \"http://localhost:5003/logincallback\",\r\n            post_logout_redirect_uri: \"http://localhost:5003/logoutcallback\",\r\n            silent_redirect_uri: \"http://localhost:5003/loginrenew\",\r\n            response_type: \"id_token token\",\r\n            scope: \"openid profile api\"\r\n        };\r\n        this._manager = new Oidc.UserManager(settings);\r\n        console.log('AuthService.ctor() - creating Oidc.UserManager with settings:');\r\n        console.log(JSON.stringify(settings));\r\n    }\r\n    AuthService.prototype.createUnauthorizedResponse = function (error) {\r\n        var _this = this;\r\n        var promise = this._manager.removeUser();\r\n        return Observable_1.Observable.fromPromise(promise)\r\n            .mergeMap(function () { return _this.redirectToLogin(); })\r\n            .mergeMap(function (response) {\r\n            if (response) {\r\n                return Observable_1.Observable.of(null);\r\n            }\r\n            return Observable_1.Observable.throw(error);\r\n        });\r\n    };\r\n    AuthService.prototype.getAuthorizationHeader = function () {\r\n        return this.getUser().mergeMap(function (user) {\r\n            if (user && user.access_token) {\r\n                return Observable_1.Observable.of(\"Bearer \" + user.access_token);\r\n            }\r\n            return Observable_1.Observable.of(null);\r\n        });\r\n    };\r\n    AuthService.prototype.getUser = function () {\r\n        var promise = this._manager.getUser();\r\n        return Observable_1.Observable.fromPromise(promise).map(function (user) {\r\n            return user;\r\n        });\r\n    };\r\n    AuthService.prototype.getAuthorizationUrlParameter = function () {\r\n        return this.getUser().mergeMap(function (user) {\r\n            if (user && user.access_token) {\r\n                return Observable_1.Observable.of(\"bt=\" + encodeURIComponent(user.access_token));\r\n            }\r\n            return Observable_1.Observable.of(null);\r\n        });\r\n    };\r\n    AuthService.prototype.getUserInfo = function () {\r\n        return this.getUser().map(function (user) {\r\n            var userInfo = new Object();\r\n            if (user) {\r\n                var profile_1 = user.profile;\r\n                Object.keys(profile_1).forEach(function (prop) {\r\n                    userInfo[prop] = profile_1[prop];\r\n                });\r\n            }\r\n            return userInfo;\r\n        });\r\n    };\r\n    AuthService.prototype.isAuthorized = function () {\r\n        return this.getUser().map(function (user) {\r\n            if (user) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    AuthService.prototype.requestSignIn = function () {\r\n        console.log('request to signin');\r\n        this._manager.signinRedirect({ data: this._redirectedFromUrl });\r\n    };\r\n    AuthService.prototype.redirectToLogin = function () {\r\n        var url = this._router.routerState.snapshot.url;\r\n        return this.redirectToLoginFrom(url);\r\n    };\r\n    AuthService.prototype.redirectToLoginFrom = function (url) {\r\n        this._redirectedFromUrl = url;\r\n        var promise = this._router.navigate(['/login']);\r\n        console.log('navigate to login called');\r\n        return Observable_1.Observable.fromPromise(promise);\r\n    };\r\n    AuthService.prototype.redirectToSecuredResource = function (url) {\r\n        if (url && !url.startsWith('/login')) {\r\n            this._router.navigateByUrl(url);\r\n        }\r\n        else {\r\n            this._router.navigate(['/home']);\r\n        }\r\n    };\r\n    AuthService.prototype.onSignedIn = function () {\r\n        var _this = this;\r\n        this._manager.signinRedirectCallback().then(function (user) {\r\n            _this.redirectToSecuredResource(user.state);\r\n        }, function (error) {\r\n            _this.requestSignIn();\r\n        });\r\n    };\r\n    AuthService.prototype.requestSignOut = function () {\r\n        this._manager.signoutRedirect().then(function () {\r\n            console.log('AuthService.requestSignOut() - success.');\r\n            localStorage.clear();\r\n            sessionStorage.clear();\r\n        });\r\n    };\r\n    AuthService.prototype.onSignedOut = function () {\r\n        this._manager.signoutRedirectCallback();\r\n    };\r\n    AuthService.prototype.requestSilentRenew = function () {\r\n        this._manager.signinSilent();\r\n    };\r\n    AuthService.prototype.onSilentRenew = function () {\r\n        this._manager.signinSilentCallback();\r\n    };\r\n    AuthService = __decorate([\r\n        core_1.Injectable(),\r\n        __metadata(\"design:paramtypes\", [router_1.Router])\r\n    ], AuthService);\r\n    return AuthService;\r\n}());\r\nexports.AuthService = AuthService;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXV0aC9hdXRoLnNlcnZpY2UudHM/MGZhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdvaWRjLWNsaWVudCc7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbi8vaW1wb3J0ICogYXMgT2lkYyBmcm9tIFwib2lkYy1jbGllbnRcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XHJcbmltcG9ydCAqIGFzIE9pZGMgZnJvbSBcIm9pZGMtY2xpZW50XCI7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBBdXRoU2VydmljZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVkaXJlY3RlZEZyb21Vcmw6IHN0cmluZztcclxuICAgIHByaXZhdGUgX21hbmFnZXI6IE9pZGMuVXNlck1hbmFnZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBfcm91dGVyOiBSb3V0ZXJcclxuICAgICkge1xyXG4gICAgICAgIE9pZGMuTG9nLmxvZ2dlciA9IGNvbnNvbGU7XHJcblxyXG4gICAgICAgIGxldCBzZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgYXV0aG9yaXR5OiBcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMFwiLFxyXG4gICAgICAgICAgICBjbGllbnRfaWQ6IFwianNcIixcclxuICAgICAgICAgICAgbG9hZFVzZXJJbmZvOiB0cnVlLFxyXG4gICAgICAgICAgICByZWRpcmVjdF91cmk6IFwiaHR0cDovL2xvY2FsaG9zdDo1MDAzL2xvZ2luY2FsbGJhY2tcIixcclxuICAgICAgICAgICAgcG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpOiBcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMy9sb2dvdXRjYWxsYmFja1wiLFxyXG4gICAgICAgICAgICBzaWxlbnRfcmVkaXJlY3RfdXJpOiBcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMy9sb2dpbnJlbmV3XCIsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlX3R5cGU6IFwiaWRfdG9rZW4gdG9rZW5cIixcclxuICAgICAgICAgICAgc2NvcGU6IFwib3BlbmlkIHByb2ZpbGUgYXBpXCJcclxuICAgICAgICB9IGFzIE9pZGMuVXNlck1hbmFnZXJTZXR0aW5ncztcclxuXHJcbiAgICAgICAgdGhpcy5fbWFuYWdlciA9IG5ldyBPaWRjLlVzZXJNYW5hZ2VyKHNldHRpbmdzKTtcclxuICAgICAgICAvL3RoaXMuX21hbmFnZXIuYWRkU2lsZW50UmVuZXdFcnJvcihlcnJvciA9PiB0aGlzLm9uU2lsZW50UmVuZXdFcnJvcihlcnJvcikpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRoU2VydmljZS5jdG9yKCkgLSBjcmVhdGluZyBPaWRjLlVzZXJNYW5hZ2VyIHdpdGggc2V0dGluZ3M6Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlVW5hdXRob3JpemVkUmVzcG9uc2UoZXJyb3I6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gdGhpcy5fbWFuYWdlci5yZW1vdmVVc2VyKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlLmZyb21Qcm9taXNlKHByb21pc2UpXHJcbiAgICAgICAgICAgIC5tZXJnZU1hcCgoKSA9PiB0aGlzLnJlZGlyZWN0VG9Mb2dpbigpKVxyXG4gICAgICAgICAgICAubWVyZ2VNYXAocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUub2YobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUudGhyb3coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXV0aG9yaXphdGlvbkhlYWRlcigpOiBPYnNlcnZhYmxlPHN0cmluZyB8IG51bGw+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlcigpLm1lcmdlTWFwKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLmFjY2Vzc190b2tlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUub2YoYEJlYXJlciAke3VzZXIuYWNjZXNzX3Rva2VufWApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5vZihudWxsKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFVzZXIoKTogT2JzZXJ2YWJsZTxVc2VyPiB7XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gdGhpcy5fbWFuYWdlci5nZXRVc2VyKCk7XHJcbiAgICAgICAgcmV0dXJuIE9ic2VydmFibGUuZnJvbVByb21pc2UocHJvbWlzZSkubWFwKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXV0aG9yaXphdGlvblVybFBhcmFtZXRlcigpOiBPYnNlcnZhYmxlPHN0cmluZyB8IG51bGw+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlcigpLm1lcmdlTWFwKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLmFjY2Vzc190b2tlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUub2YoYGJ0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHVzZXIuYWNjZXNzX3Rva2VuKX1gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUub2YobnVsbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFVzZXJJbmZvKCk6IE9ic2VydmFibGU8YW55PiB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFVzZXIoKS5tYXAodXNlciA9PiB7XHJcbiAgICAgICAgICAgIGxldCB1c2VySW5mbzogYW55ID0gbmV3IE9iamVjdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9maWxlOiBhbnkgPSB1c2VyLnByb2ZpbGU7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwcm9maWxlKS5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJbmZvW3Byb3BdID0gcHJvZmlsZVtwcm9wXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdXNlckluZm87XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQXV0aG9yaXplZCgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlcigpLm1hcCh1c2VyID0+IHtcclxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlcXVlc3RTaWduSW4oKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgdG8gc2lnbmluJyk7XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlci5zaWduaW5SZWRpcmVjdCh7IGRhdGE6IHRoaXMuX3JlZGlyZWN0ZWRGcm9tVXJsIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWRpcmVjdFRvTG9naW4oKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XHJcblxyXG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9yb3V0ZXIucm91dGVyU3RhdGUuc25hcHNob3QudXJsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZGlyZWN0VG9Mb2dpbkZyb20odXJsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVkaXJlY3RUb0xvZ2luRnJvbSh1cmw6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xyXG5cclxuICAgICAgICB0aGlzLl9yZWRpcmVjdGVkRnJvbVVybCA9IHVybDtcclxuICAgICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuX3JvdXRlci5uYXZpZ2F0ZShbJy9sb2dpbiddKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbmF2aWdhdGUgdG8gbG9naW4gY2FsbGVkJyk7XHJcbiAgICAgICAgcmV0dXJuIE9ic2VydmFibGUuZnJvbVByb21pc2UocHJvbWlzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWRpcmVjdFRvU2VjdXJlZFJlc291cmNlKHVybDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHVybCAmJiAhdXJsLnN0YXJ0c1dpdGgoJy9sb2dpbicpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdXRlci5uYXZpZ2F0ZUJ5VXJsKHVybCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcm91dGVyLm5hdmlnYXRlKFsnL2hvbWUnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblNpZ25lZEluKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX21hbmFnZXIuc2lnbmluUmVkaXJlY3RDYWxsYmFjaygpLnRoZW4oKHVzZXI6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlZGlyZWN0VG9TZWN1cmVkUmVzb3VyY2UodXNlci5zdGF0ZSk7XHJcbiAgICAgICAgfSwgKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0U2lnbkluKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlcXVlc3RTaWduT3V0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX21hbmFnZXIuc2lnbm91dFJlZGlyZWN0KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoU2VydmljZS5yZXF1ZXN0U2lnbk91dCgpIC0gc3VjY2Vzcy4nKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uU2lnbmVkT3V0KCk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLl9tYW5hZ2VyLnNpZ25vdXRSZWRpcmVjdENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlcXVlc3RTaWxlbnRSZW5ldygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5fbWFuYWdlci5zaWduaW5TaWxlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25TaWxlbnRSZW5ldygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5fbWFuYWdlci5zaWduaW5TaWxlbnRDYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcHJpdmF0ZSBvblNpbGVudFJlbmV3RXJyb3IoZXJyb3I6IGFueSk6IHZvaWQge1xyXG5cclxuICAgIC8vICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgLy8gICAgdGhpcy5yZWRpcmVjdFRvTG9naW4oKTtcclxuICAgIC8vfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvYXV0aC9hdXRoLnNlcnZpY2UudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUEzSkE7QUFEQTtBQU9BO0FBTkE7QUFrS0E7QUFBQTtBQWxLQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45\n");

/***/ }),

/***/ 621:
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar platform_browser_dynamic_1 = __webpack_require__(/*! @angular/platform-browser-dynamic */ 164);\r\nvar app_module_1 = __webpack_require__(/*! ./app.module */ 622);\r\nif (process.env['ENV'] === 'production') {\r\n    core_1.enableProdMode();\r\n}\r\nfunction main() {\r\n    return platform_browser_dynamic_1.platformBrowserDynamic().bootstrapModule(app_module_1.AppModule);\r\n}\r\nexports.main = main;\r\nif (document.readyState === 'complete') {\r\n    main();\r\n}\r\nelse {\r\n    document.addEventListener('DOMContentLoaded', main);\r\n}\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../node_modules/process/browser.js */ 86)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHM/N2Q2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi9ub2RlX21vZHVsZXMvb2lkYy1jbGllbnQvaW5kZXguZC50c1wiIC8+XHJcblxyXG5pbXBvcnQgeyBlbmFibGVQcm9kTW9kZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcclxuaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAubW9kdWxlJztcclxuXHJcbi8vaWYgKENvbnN0YW50cy5pc1Byb2RNb2RlRW5hYmxlZCkge1xyXG4vLyAgICBlbmFibGVQcm9kTW9kZSgpO1xyXG4vL31cclxuXHJcbi8vcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUpO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52WydFTlYnXSA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICBlbmFibGVQcm9kTW9kZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIHJldHVybiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSk7XHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICBtYWluKCk7XHJcbn0gZWxzZSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbik7XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9tYWluLnRzIl0sIm1hcHBpbmdzIjoiOztBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///621\n");

/***/ }),

/***/ 622:
/*!***************************!*\
  !*** ./src/app.module.ts ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar platform_browser_1 = __webpack_require__(/*! @angular/platform-browser */ 50);\r\nvar common_1 = __webpack_require__(/*! @angular/common */ 58);\r\nvar forms_1 = __webpack_require__(/*! @angular/forms */ 176);\r\nvar http_1 = __webpack_require__(/*! @angular/http */ 107);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 61);\r\nvar app_component_1 = __webpack_require__(/*! ./app.component */ 623);\r\nvar navmenu_component_1 = __webpack_require__(/*! ./navmenu/navmenu.component */ 625);\r\nvar home_component_1 = __webpack_require__(/*! ./home/home.component */ 630);\r\nvar counter_component_1 = __webpack_require__(/*! ./counter/counter.component */ 632);\r\nvar login_callback_component_1 = __webpack_require__(/*! ./auth/login-callback.component */ 634);\r\nvar logout_callback_component_1 = __webpack_require__(/*! ./auth/logout-callback.component */ 637);\r\nvar login_renew_component_1 = __webpack_require__(/*! ./auth/login-renew.component */ 639);\r\nvar logout_component_1 = __webpack_require__(/*! ./auth/logout.component */ 641);\r\nvar login_component_1 = __webpack_require__(/*! ./auth/login.component */ 643);\r\nvar auth_service_1 = __webpack_require__(/*! ./auth/auth.service */ 45);\r\nvar secureHttp_1 = __webpack_require__(/*! ./auth/secureHttp */ 645);\r\nvar authGuard_1 = __webpack_require__(/*! ./auth/authGuard */ 646);\r\nvar AppModule = (function () {\r\n    function AppModule() {\r\n    }\r\n    AppModule = __decorate([\r\n        core_1.NgModule({\r\n            imports: [\r\n                platform_browser_1.BrowserModule,\r\n                common_1.CommonModule,\r\n                http_1.HttpModule,\r\n                forms_1.FormsModule,\r\n                forms_1.ReactiveFormsModule,\r\n                router_1.RouterModule.forRoot([\r\n                    { path: '', redirectTo: 'home', pathMatch: 'full', canActivate: [authGuard_1.AuthGuard] },\r\n                    {\r\n                        path: 'home', component: home_component_1.HomeComponent, canActivate: [authGuard_1.AuthGuard], children: [\r\n                            { path: '', redirectTo: '', pathMatch: 'full' },\r\n                            { path: 'counter', component: counter_component_1.CounterComponent }\r\n                        ]\r\n                    },\r\n                    { path: 'login', component: login_component_1.LoginComponent },\r\n                    { path: 'logincallback', component: login_callback_component_1.LoginCallbackComponent },\r\n                    { path: 'loginrenew', component: login_renew_component_1.LoginRenewComponent },\r\n                    { path: 'logout', component: logout_component_1.LogoutComponent },\r\n                    { path: 'logoutcallback', component: logout_callback_component_1.LogoutCallbackComponent },\r\n                    { path: '**', redirectTo: 'home' }\r\n                ])\r\n            ],\r\n            declarations: [\r\n                app_component_1.AppComponent,\r\n                login_component_1.LoginComponent,\r\n                logout_component_1.LogoutComponent,\r\n                login_callback_component_1.LoginCallbackComponent,\r\n                logout_callback_component_1.LogoutCallbackComponent,\r\n                login_renew_component_1.LoginRenewComponent,\r\n                navmenu_component_1.NavMenuComponent,\r\n                counter_component_1.CounterComponent,\r\n                home_component_1.HomeComponent\r\n            ],\r\n            providers: [\r\n                authGuard_1.AuthGuard,\r\n                auth_service_1.AuthService,\r\n                {\r\n                    provide: http_1.Http,\r\n                    useFactory: function (backend, defaultOptions, router, authService) {\r\n                        return new secureHttp_1.SecureHttp(backend, defaultOptions, router, authService);\r\n                    },\r\n                    deps: [http_1.XHRBackend, http_1.RequestOptions, router_1.Router, auth_service_1.AuthService]\r\n                }\r\n            ],\r\n            bootstrap: [app_component_1.AppComponent]\r\n        })\r\n    ], AppModule);\r\n    return AppModule;\r\n}());\r\nexports.AppModule = AppModule;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5tb2R1bGUudHM/ZDcxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBCcm93c2VyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IEZvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBIdHRwTW9kdWxlLCBYSFJCYWNrZW5kLCBIdHRwLCBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xyXG5pbXBvcnQgeyBSb3V0ZXJNb2R1bGUsIFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcblxyXG5pbXBvcnQgeyBBcHBDb21wb25lbnQgfSBmcm9tICcuL2FwcC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBOYXZNZW51Q29tcG9uZW50IH0gZnJvbSAnLi9uYXZtZW51L25hdm1lbnUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgSG9tZUNvbXBvbmVudCB9IGZyb20gJy4vaG9tZS9ob21lLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENvdW50ZXJDb21wb25lbnQgfSBmcm9tICcuL2NvdW50ZXIvY291bnRlci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBMb2dpbkNhbGxiYWNrQ29tcG9uZW50IH0gZnJvbSAnLi9hdXRoL2xvZ2luLWNhbGxiYWNrLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IExvZ291dENhbGxiYWNrQ29tcG9uZW50IH0gZnJvbSAnLi9hdXRoL2xvZ291dC1jYWxsYmFjay5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBMb2dpblJlbmV3Q29tcG9uZW50IH0gZnJvbSAnLi9hdXRoL2xvZ2luLXJlbmV3LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IExvZ291dENvbXBvbmVudCB9IGZyb20gJy4vYXV0aC9sb2dvdXQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTG9naW5Db21wb25lbnQgfSBmcm9tICcuL2F1dGgvbG9naW4uY29tcG9uZW50JztcclxuXHJcblxyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4vYXV0aC9hdXRoLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTZWN1cmVIdHRwIH0gZnJvbSAnLi9hdXRoL3NlY3VyZUh0dHAnO1xyXG5pbXBvcnQgeyBBdXRoR3VhcmQgfSBmcm9tICcuL2F1dGgvYXV0aEd1YXJkJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgICBpbXBvcnRzOiBbXHJcbiAgICAgICAgQnJvd3Nlck1vZHVsZSxcclxuICAgICAgICBDb21tb25Nb2R1bGUsXHJcbiAgICAgICAgSHR0cE1vZHVsZSxcclxuICAgICAgICBGb3Jtc01vZHVsZSxcclxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxyXG4gICAgICAgIFJvdXRlck1vZHVsZS5mb3JSb290KFtcclxuICAgICAgICAgICAgeyBwYXRoOiAnJywgcmVkaXJlY3RUbzogJ2hvbWUnLCBwYXRoTWF0Y2g6ICdmdWxsJywgY2FuQWN0aXZhdGU6IFtBdXRoR3VhcmRdIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhdGg6ICdob21lJywgY29tcG9uZW50OiBIb21lQ29tcG9uZW50LCBjYW5BY3RpdmF0ZTogW0F1dGhHdWFyZF0sIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBwYXRoOiAnJywgcmVkaXJlY3RUbzogJycsIHBhdGhNYXRjaDogJ2Z1bGwnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBwYXRoOiAnY291bnRlcicsIGNvbXBvbmVudDogQ291bnRlckNvbXBvbmVudCB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHsgcGF0aDogJ2xvZ2luJywgY29tcG9uZW50OiBMb2dpbkNvbXBvbmVudCB9LFxyXG4gICAgICAgICAgICB7IHBhdGg6ICdsb2dpbmNhbGxiYWNrJywgY29tcG9uZW50OiBMb2dpbkNhbGxiYWNrQ29tcG9uZW50IH0sXHJcbiAgICAgICAgICAgIHsgcGF0aDogJ2xvZ2lucmVuZXcnLCBjb21wb25lbnQ6IExvZ2luUmVuZXdDb21wb25lbnQgfSxcclxuICAgICAgICAgICAgeyBwYXRoOiAnbG9nb3V0JywgY29tcG9uZW50OiBMb2dvdXRDb21wb25lbnQgfSxcclxuICAgICAgICAgICAgeyBwYXRoOiAnbG9nb3V0Y2FsbGJhY2snLCBjb21wb25lbnQ6IExvZ291dENhbGxiYWNrQ29tcG9uZW50IH0sXHJcbiAgICAgICAgICAgIHsgcGF0aDogJyoqJywgcmVkaXJlY3RUbzogJ2hvbWUnIH1cclxuICAgICAgICBdKVxyXG4gICAgXSxcclxuICAgIGRlY2xhcmF0aW9uczogW1xyXG4gICAgICAgIEFwcENvbXBvbmVudCxcclxuICAgICAgICBMb2dpbkNvbXBvbmVudCxcclxuICAgICAgICBMb2dvdXRDb21wb25lbnQsXHJcbiAgICAgICAgTG9naW5DYWxsYmFja0NvbXBvbmVudCxcclxuICAgICAgICBMb2dvdXRDYWxsYmFja0NvbXBvbmVudCxcclxuICAgICAgICBMb2dpblJlbmV3Q29tcG9uZW50LFxyXG4gICAgICAgIE5hdk1lbnVDb21wb25lbnQsXHJcbiAgICAgICAgQ291bnRlckNvbXBvbmVudCxcclxuICAgICAgICBIb21lQ29tcG9uZW50XHJcbiAgICBdLFxyXG4gICAgcHJvdmlkZXJzOiBbXHJcbiAgICAgICAgQXV0aEd1YXJkLFxyXG4gICAgICAgIEF1dGhTZXJ2aWNlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcHJvdmlkZTogSHR0cCxcclxuICAgICAgICAgICAgdXNlRmFjdG9yeTogKGJhY2tlbmQ6IFhIUkJhY2tlbmQsIGRlZmF1bHRPcHRpb25zOiBSZXF1ZXN0T3B0aW9ucywgcm91dGVyOiBSb3V0ZXIsIGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVIdHRwKGJhY2tlbmQsIGRlZmF1bHRPcHRpb25zLCByb3V0ZXIsIGF1dGhTZXJ2aWNlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVwczogW1hIUkJhY2tlbmQsIFJlcXVlc3RPcHRpb25zLCBSb3V0ZXIsIEF1dGhTZXJ2aWNlXVxyXG4gICAgICAgIH1cclxuICAgIF0sXHJcbiAgICBib290c3RyYXA6IFtBcHBDb21wb25lbnRdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2FwcC5tb2R1bGUudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBaURBO0FBQUE7QUFDQTtBQURBO0FBL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFEQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///622\n");

/***/ }),

/***/ 623:
/*!******************************!*\
  !*** ./src/app.component.ts ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar AppComponent = (function () {\r\n    function AppComponent() {\r\n    }\r\n    AppComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'app',\r\n            template: __webpack_require__(/*! ./app.component.html */ 624)\r\n        })\r\n    ], AppComponent);\r\n    return AppComponent;\r\n}());\r\nexports.AppComponent = AppComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5jb21wb25lbnQudHM/ZTkxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdhcHAnLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vYXBwLmNvbXBvbmVudC5odG1sJylcclxufSlcclxuZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvYXBwLmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQU1BO0FBQUE7QUFDQTtBQURBO0FBSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFEQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///623\n");

/***/ }),

/***/ 624:
/*!********************************!*\
  !*** ./src/app.component.html ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"<nav-menu></nav-menu>\\r\\n<router-outlet></router-outlet>\\r\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5jb21wb25lbnQuaHRtbD9lNjNjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8bmF2LW1lbnU+PC9uYXYtbWVudT5cXHJcXG48cm91dGVyLW91dGxldD48L3JvdXRlci1vdXRsZXQ+XFxyXFxuXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwLmNvbXBvbmVudC5odG1sXG4vLyBtb2R1bGUgaWQgPSA2MjRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///624\n");

/***/ }),

/***/ 625:
/*!******************************************!*\
  !*** ./src/navmenu/navmenu.component.ts ***!
  \******************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar NavMenuComponent = (function () {\r\n    function NavMenuComponent() {\r\n    }\r\n    NavMenuComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'nav-menu',\r\n            template: __webpack_require__(/*! ./navmenu.component.html */ 626),\r\n            styles: [__webpack_require__(/*! ./navmenu.component.scss */ 627)]\r\n        })\r\n    ], NavMenuComponent);\r\n    return NavMenuComponent;\r\n}());\r\nexports.NavMenuComponent = NavMenuComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL25hdm1lbnUvbmF2bWVudS5jb21wb25lbnQudHM/ZWQ5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICduYXYtbWVudScsXHJcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9uYXZtZW51LmNvbXBvbmVudC5odG1sJyksXHJcbiAgICBzdHlsZXM6IFtyZXF1aXJlKCcuL25hdm1lbnUuY29tcG9uZW50LnNjc3MnKV1cclxufSlcclxuZXhwb3J0IGNsYXNzIE5hdk1lbnVDb21wb25lbnQge1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL25hdm1lbnUvbmF2bWVudS5jb21wb25lbnQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFPQTtBQUFBO0FBQ0E7QUFEQTtBQUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFEQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///625\n");

/***/ }),

/***/ 626:
/*!********************************************!*\
  !*** ./src/navmenu/navmenu.component.html ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"<div class='main-nav'>\\r\\n    <div class='navbar navbar-inverse'>\\r\\n        <div class='navbar-header'>\\r\\n            <button type='button' class='navbar-toggle' data-toggle='collapse' data-target='.navbar-collapse'>\\r\\n                <span class='sr-only'>Toggle navigation</span>\\r\\n                <span class='icon-bar'></span>\\r\\n                <span class='icon-bar'></span>\\r\\n                <span class='icon-bar'></span>\\r\\n            </button>\\r\\n            <a class='navbar-brand' [routerLink]=\\\"['/home']\\\">jsClient</a>\\r\\n        </div>\\r\\n        <div class='clearfix'></div>\\r\\n        <div class='navbar-collapse collapse'>\\r\\n            <ul class='nav navbar-nav'>\\r\\n                <li [routerLinkActive]=\\\"['link-active']\\\">\\r\\n                    <a [routerLink]=\\\"['/home']\\\">\\r\\n                        <span class='glyphicon glyphicon-home'></span> Home\\r\\n                    </a>\\r\\n                </li>\\r\\n                <li [routerLinkActive]=\\\"['link-active']\\\">\\r\\n                    <a [routerLink]=\\\"['/home/counter']\\\">\\r\\n                        <span class='glyphicon glyphicon-education'></span> Counter\\r\\n                    </a>\\r\\n                </li>\\r\\n                <li [routerLinkActive]=\\\"['link-active']\\\">\\r\\n                    <a [routerLink]=\\\"['/home/fetch-data']\\\">\\r\\n                        <span class='glyphicon glyphicon-th-list'></span> Fetch data\\r\\n                    </a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL25hdm1lbnUvbmF2bWVudS5jb21wb25lbnQuaHRtbD9kZDMzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPSdtYWluLW5hdic+XFxyXFxuICAgIDxkaXYgY2xhc3M9J25hdmJhciBuYXZiYXItaW52ZXJzZSc+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPSduYXZiYXItaGVhZGVyJz5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J25hdmJhci10b2dnbGUnIGRhdGEtdG9nZ2xlPSdjb2xsYXBzZScgZGF0YS10YXJnZXQ9Jy5uYXZiYXItY29sbGFwc2UnPlxcclxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nc3Itb25seSc+VG9nZ2xlIG5hdmlnYXRpb248L3NwYW4+XFxyXFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdpY29uLWJhcic+PC9zcGFuPlxcclxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0naWNvbi1iYXInPjwvc3Bhbj5cXHJcXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ljb24tYmFyJz48L3NwYW4+XFxyXFxuICAgICAgICAgICAgPC9idXR0b24+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9J25hdmJhci1icmFuZCcgW3JvdXRlckxpbmtdPVxcXCJbJy9ob21lJ11cXFwiPmpzQ2xpZW50PC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPSdjbGVhcmZpeCc+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPSduYXZiYXItY29sbGFwc2UgY29sbGFwc2UnPlxcclxcbiAgICAgICAgICAgIDx1bCBjbGFzcz0nbmF2IG5hdmJhci1uYXYnPlxcclxcbiAgICAgICAgICAgICAgICA8bGkgW3JvdXRlckxpbmtBY3RpdmVdPVxcXCJbJ2xpbmstYWN0aXZlJ11cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGEgW3JvdXRlckxpbmtdPVxcXCJbJy9ob21lJ11cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdnbHlwaGljb24gZ2x5cGhpY29uLWhvbWUnPjwvc3Bhbj4gSG9tZVxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxcclxcbiAgICAgICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgICAgICA8bGkgW3JvdXRlckxpbmtBY3RpdmVdPVxcXCJbJ2xpbmstYWN0aXZlJ11cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGEgW3JvdXRlckxpbmtdPVxcXCJbJy9ob21lL2NvdW50ZXInXVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2dseXBoaWNvbiBnbHlwaGljb24tZWR1Y2F0aW9uJz48L3NwYW4+IENvdW50ZXJcXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cXHJcXG4gICAgICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICAgICAgPGxpIFtyb3V0ZXJMaW5rQWN0aXZlXT1cXFwiWydsaW5rLWFjdGl2ZSddXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxhIFtyb3V0ZXJMaW5rXT1cXFwiWycvaG9tZS9mZXRjaC1kYXRhJ11cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdnbHlwaGljb24gZ2x5cGhpY29uLXRoLWxpc3QnPjwvc3Bhbj4gRmV0Y2ggZGF0YVxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxcclxcbiAgICAgICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgIDwvdWw+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbmF2bWVudS9uYXZtZW51LmNvbXBvbmVudC5odG1sXG4vLyBtb2R1bGUgaWQgPSA2MjZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///626\n");

/***/ }),

/***/ 627:
/*!********************************************!*\
  !*** ./src/navmenu/navmenu.component.scss ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

eval("\n        var result = __webpack_require__(/*! !../../node_modules/css-loader??ref--3-1!../../node_modules/sass-loader/lib/loader.js??ref--3-2!./navmenu.component.scss */ 628);\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL25hdm1lbnUvbmF2bWVudS5jb21wb25lbnQuc2Nzcz9mYjlmIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICB2YXIgcmVzdWx0ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0xIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTMtMiEuL25hdm1lbnUuY29tcG9uZW50LnNjc3NcIik7XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZXN1bHQudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL25hdm1lbnUvbmF2bWVudS5jb21wb25lbnQuc2Nzc1xuLy8gbW9kdWxlIGlkID0gNjI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///627\n");

/***/ }),

/***/ 628:
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader?{"sourceMap":false,"minimize":true}!./node_modules/sass-loader/lib/loader.js?{"sourceMap":false,"minimize":true}!./src/navmenu/navmenu.component.scss ***!
  \***************************************************************************************************************************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ 629)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"li .glyphicon{margin-right:10px}li.link-active a,li.link-active a:focus,li.link-active a:hover{background-color:#4189c7;color:#fff}.main-nav{position:relative;top:0;left:0;right:0;z-index:1}@media (min-width:768px){.main-nav{height:100%;width:calc(25% - 20px)}.navbar{border-radius:0;border-width:0;height:100%}.navbar-header{float:none}.navbar-collapse{border-top:1px solid #444;padding:0}.navbar ul{float:none}.navbar li{float:none;font-size:15px;margin:6px}.navbar li a{padding:10px 16px;border-radius:4px}.navbar a{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}\", \"\"]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL25hdm1lbnUvbmF2bWVudS5jb21wb25lbnQuc2Nzcz83ZmRiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwibGkgLmdseXBoaWNvbnttYXJnaW4tcmlnaHQ6MTBweH1saS5saW5rLWFjdGl2ZSBhLGxpLmxpbmstYWN0aXZlIGE6Zm9jdXMsbGkubGluay1hY3RpdmUgYTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM0MTg5Yzc7Y29sb3I6I2ZmZn0ubWFpbi1uYXZ7cG9zaXRpb246cmVsYXRpdmU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDoxfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsubWFpbi1uYXZ7aGVpZ2h0OjEwMCU7d2lkdGg6Y2FsYygyNSUgLSAyMHB4KX0ubmF2YmFye2JvcmRlci1yYWRpdXM6MDtib3JkZXItd2lkdGg6MDtoZWlnaHQ6MTAwJX0ubmF2YmFyLWhlYWRlcntmbG9hdDpub25lfS5uYXZiYXItY29sbGFwc2V7Ym9yZGVyLXRvcDoxcHggc29saWQgIzQ0NDtwYWRkaW5nOjB9Lm5hdmJhciB1bHtmbG9hdDpub25lfS5uYXZiYXIgbGl7ZmxvYXQ6bm9uZTtmb250LXNpemU6MTVweDttYXJnaW46NnB4fS5uYXZiYXIgbGkgYXtwYWRkaW5nOjEwcHggMTZweDtib3JkZXItcmFkaXVzOjRweH0ubmF2YmFyIGF7d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXI/e1wic291cmNlTWFwXCI6ZmFsc2UsXCJtaW5pbWl6ZVwiOnRydWV9IS4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/e1wic291cmNlTWFwXCI6ZmFsc2UsXCJtaW5pbWl6ZVwiOnRydWV9IS4vc3JjL25hdm1lbnUvbmF2bWVudS5jb21wb25lbnQuc2Nzc1xuLy8gbW9kdWxlIGlkID0gNjI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///628\n");

/***/ }),

/***/ 629:
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzPzE1OWYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDYyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///629\n");

/***/ }),

/***/ 630:
/*!************************************!*\
  !*** ./src/home/home.component.ts ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar HomeComponent = (function () {\r\n    function HomeComponent() {\r\n    }\r\n    HomeComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'home',\r\n            template: __webpack_require__(/*! ./home.component.html */ 631)\r\n        })\r\n    ], HomeComponent);\r\n    return HomeComponent;\r\n}());\r\nexports.HomeComponent = HomeComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hvbWUvaG9tZS5jb21wb25lbnQudHM/Njk3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdob21lJyxcclxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2hvbWUuY29tcG9uZW50Lmh0bWwnKVxyXG59KVxyXG5leHBvcnQgY2xhc3MgSG9tZUNvbXBvbmVudCB7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvaG9tZS9ob21lLmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQU1BO0FBQUE7QUFDQTtBQURBO0FBSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFEQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///630\n");

/***/ }),

/***/ 631:
/*!**************************************!*\
  !*** ./src/home/home.component.html ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"<h1>Home Component(parent to others: see routes)</h1>\\r\\n<router-outlet></router-outlet>\\r\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hvbWUvaG9tZS5jb21wb25lbnQuaHRtbD9hYTgwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8aDE+SG9tZSBDb21wb25lbnQocGFyZW50IHRvIG90aGVyczogc2VlIHJvdXRlcyk8L2gxPlxcclxcbjxyb3V0ZXItb3V0bGV0Pjwvcm91dGVyLW91dGxldD5cXHJcXG5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ob21lL2hvbWUuY29tcG9uZW50Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDYzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///631\n");

/***/ }),

/***/ 632:
/*!******************************************!*\
  !*** ./src/counter/counter.component.ts ***!
  \******************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar CounterComponent = (function () {\r\n    function CounterComponent() {\r\n        this.currentCount = 0;\r\n    }\r\n    CounterComponent.prototype.incrementCounter = function () {\r\n        this.currentCount++;\r\n    };\r\n    CounterComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'counter',\r\n            template: __webpack_require__(/*! ./counter.component.html */ 633)\r\n        })\r\n    ], CounterComponent);\r\n    return CounterComponent;\r\n}());\r\nexports.CounterComponent = CounterComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvdW50ZXIvY291bnRlci5jb21wb25lbnQudHM/Mzk5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdjb3VudGVyJyxcclxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2NvdW50ZXIuY29tcG9uZW50Lmh0bWwnKVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ291bnRlckNvbXBvbmVudCB7XHJcbiAgICBwdWJsaWMgY3VycmVudENvdW50ID0gMDtcclxuXHJcbiAgICBwdWJsaWMgaW5jcmVtZW50Q291bnRlcigpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDb3VudCsrO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2NvdW50ZXIvY291bnRlci5jb21wb25lbnQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFNQTtBQUpBO0FBS0E7QUFLQTtBQUhBO0FBQ0E7QUFDQTtBQUxBO0FBSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFOQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///632\n");

/***/ }),

/***/ 633:
/*!********************************************!*\
  !*** ./src/counter/counter.component.html ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"<h1>Counter</h1>\\r\\n\\r\\n<p>This is a simple example of an Angular component.</p>\\r\\n\\r\\n<p>Current count: <strong>{{ currentCount }}</strong></p>\\r\\n\\r\\n<button (click)=\\\"incrementCounter()\\\">Increment</button>\\r\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvdW50ZXIvY291bnRlci5jb21wb25lbnQuaHRtbD80NDZiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8aDE+Q291bnRlcjwvaDE+XFxyXFxuXFxyXFxuPHA+VGhpcyBpcyBhIHNpbXBsZSBleGFtcGxlIG9mIGFuIEFuZ3VsYXIgY29tcG9uZW50LjwvcD5cXHJcXG5cXHJcXG48cD5DdXJyZW50IGNvdW50OiA8c3Ryb25nPnt7IGN1cnJlbnRDb3VudCB9fTwvc3Ryb25nPjwvcD5cXHJcXG5cXHJcXG48YnV0dG9uIChjbGljayk9XFxcImluY3JlbWVudENvdW50ZXIoKVxcXCI+SW5jcmVtZW50PC9idXR0b24+XFxyXFxuXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY291bnRlci9jb3VudGVyLmNvbXBvbmVudC5odG1sXG4vLyBtb2R1bGUgaWQgPSA2MzNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///633\n");

/***/ }),

/***/ 634:
/*!**********************************************!*\
  !*** ./src/auth/login-callback.component.ts ***!
  \**********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar auth_service_1 = __webpack_require__(/*! ./auth.service */ 45);\r\nvar LoginCallbackComponent = (function () {\r\n    function LoginCallbackComponent(_authService) {\r\n        this._authService = _authService;\r\n    }\r\n    LoginCallbackComponent.prototype.ngOnInit = function () {\r\n        this._authService.onSignedIn();\r\n    };\r\n    LoginCallbackComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'one-login-callback',\r\n            template: __webpack_require__(/*! ./login-callback.component.html */ 636)\r\n        }),\r\n        __metadata(\"design:paramtypes\", [auth_service_1.AuthService])\r\n    ], LoginCallbackComponent);\r\n    return LoginCallbackComponent;\r\n}());\r\nexports.LoginCallbackComponent = LoginCallbackComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9naW4tY2FsbGJhY2suY29tcG9uZW50LnRzPzIxNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi9hdXRoLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ29uZS1sb2dpbi1jYWxsYmFjaycsXHJcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9sb2dpbi1jYWxsYmFjay5jb21wb25lbnQuaHRtbCcpXHJcbiAgICAvL3N0eWxlczogW3JlcXVpcmUoJy4uLy4uL3N0eWxlcy9sb2dpbi1jYWxsYmFjay5jb21wb25lbnQuc2NzcycpXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTG9naW5DYWxsYmFja0NvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfYXV0aFNlcnZpY2U6IEF1dGhTZXJ2aWNlKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgbmdPbkluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLm9uU2lnbmVkSW4oKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9hdXRoL2xvZ2luLWNhbGxiYWNrLmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBT0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFQQTtBQUxBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFGQTtBQVFBO0FBQUE7QUFSQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///634\n");

/***/ }),

/***/ 635:
/*!*********************************************************!*\
  !*** ./node_modules/oidc-client/lib/oidc-client.min.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){if(true)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)(\"object\"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=e.Log=n(1),i=e.OidcClient=n(2),s=e.OidcClientSettings=n(3),o=e.WebStorageStateStore=n(4),a=e.InMemoryWebStorage=n(26),u=e.UserManager=n(27),h=e.AccessTokenEvents=n(36),c=e.MetadataService=n(7),f=e.CordovaPopupNavigator=n(43),l=e.CordovaIFrameNavigator=n(45),d=e.CheckSessionIFrame=n(41),g=e.TokenRevocationClient=n(42),p=e.SessionMonitor=n(40),y=e.Global=n(5);e.default={Log:r,OidcClient:i,OidcClientSettings:s,WebStorageStateStore:o,InMemoryWebStorage:a,UserManager:u,AccessTokenEvents:h,MetadataService:c,CordovaPopupNavigator:f,CordovaIFrameNavigator:l,CheckSessionIFrame:d,TokenRevocationClient:g,SessionMonitor:p,Global:y}},function(t,e){\"use strict\";function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=0,o=1,a=2,u=3,h=4,c=void 0,f=void 0,l=function(){function t(){n(this,t)}return t.reset=function(){f=u,c=i},t.debug=function(){if(f>=h){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.debug.apply(c,Array.from(e))}},t.info=function(){if(f>=u){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.info.apply(c,Array.from(e))}},t.warn=function(){if(f>=a){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.warn.apply(c,Array.from(e))}},t.error=function(){if(f>=o){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.error.apply(c,Array.from(e))}},r(t,null,[{key:\"NONE\",get:function(){return s}},{key:\"ERROR\",get:function(){return o}},{key:\"WARN\",get:function(){return a}},{key:\"INFO\",get:function(){return u}},{key:\"DEBUG\",get:function(){return h}},{key:\"level\",get:function(){return f},set:function(t){if(!(s<=t&&t<=h))throw new Error(\"Invalid log level\");f=t}},{key:\"logger\",get:function(){return c},set:function(t){if(!t.debug&&t.info&&(t.debug=t.info),!(t.debug&&t.info&&t.warn&&t.error))throw new Error(\"Invalid logger\");c=t}}]),t}();e.default=l,l.reset(),t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=n(3),h=r(u),c=n(10),f=r(c),l=n(18),d=r(l),g=n(23),p=r(g),y=n(24),v=r(y),m=n(25),S=r(m),b=n(20),w=r(b),E=n(21),_=r(E),x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),e instanceof h.default?this._settings=e:this._settings=new h.default(e)}return t.prototype.createSigninRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.response_type,r=e.scope,i=e.redirect_uri,s=e.data,o=e.state,u=e.prompt,h=e.display,c=e.max_age,f=e.ui_locales,l=e.id_token_hint,g=e.login_hint,p=e.acr_values,y=e.resource,v=e.request,m=e.request_uri,S=e.extraQueryParams,b=arguments[1];a.default.debug(\"OidcClient.createSigninRequest\");var w=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,i=i||this._settings.redirect_uri,u=u||this._settings.prompt,h=h||this._settings.display,c=c||this._settings.max_age,f=f||this._settings.ui_locales,p=p||this._settings.acr_values,y=y||this._settings.resource,S=S||this._settings.extraQueryParams;var E=this._settings.authority;return this._metadataService.getAuthorizationEndpoint().then(function(e){a.default.debug(\"Received authorization endpoint\",e);var _=new d.default({url:e,client_id:w,redirect_uri:i,response_type:n,scope:r,data:s||o,authority:E,prompt:u,display:h,max_age:c,ui_locales:f,id_token_hint:l,login_hint:g,acr_values:p,resource:y,request:v,request_uri:m,extraQueryParams:S}),x=_.state;return b=b||t._stateStore,b.set(x.id,x.toStorageString()).then(function(){return _})})},t.prototype.processSigninResponse=function(t,e){var n=this;a.default.debug(\"OidcClient.processSigninResponse\");var r=new p.default(t);return r.state?(e=e||this._stateStore,e.remove(r.state).then(function(t){if(!t)throw a.default.error(\"No matching state found in storage\"),new Error(\"No matching state found in storage\");var e=w.default.fromStorageString(t);return a.default.debug(\"Received state from storage; validating response\"),n._validator.validateSigninResponse(e,r)})):(a.default.error(\"No state in response\"),Promise.reject(new Error(\"No state in response\")))},t.prototype.createSignoutRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id_token_hint,r=e.data,i=e.state,s=e.post_logout_redirect_uri,o=arguments[1];return a.default.debug(\"OidcClient.createSignoutRequest\"),s=s||this._settings.post_logout_redirect_uri,this._metadataService.getEndSessionEndpoint().then(function(e){if(!e)throw a.default.error(\"No end session endpoint url returned\"),new Error(\"no end session endpoint\");a.default.debug(\"Received end session endpoint\",e);var u=new v.default({url:e,id_token_hint:n,post_logout_redirect_uri:s,data:r||i}),h=u.state;return h&&(a.default.debug(\"Signout request has state to persist\"),o=o||t._stateStore,o.set(h.id,h.toStorageString())),u})},t.prototype.processSignoutResponse=function(t,e){var n=this;a.default.debug(\"OidcClient.processSignoutResponse\");var r=new S.default(t);if(!r.state)return a.default.debug(\"No state in response\"),r.error?(a.default.warn(\"Response was error\",r.error),Promise.reject(new f.default(r))):Promise.resolve(r);var i=r.state;return e=e||this._stateStore,e.remove(i).then(function(t){if(!t)throw a.default.error(\"No matching state found in storage\"),new Error(\"No matching state found in storage\");var e=_.default.fromStorageString(t);return a.default.debug(\"Received state from storage; validating response\"),n._validator.validateSignoutResponse(e,r)})},t.prototype.clearStaleState=function(t){return a.default.debug(\"OidcClient.clearStaleState\"),t=t||this._stateStore,_.default.clearStaleState(t,this.settings.staleStateAge)},s(t,[{key:\"_stateStore\",get:function(){return this.settings.stateStore}},{key:\"_validator\",get:function(){return this.settings.validator}},{key:\"_metadataService\",get:function(){return this.settings.metadataService}},{key:\"settings\",get:function(){return this._settings}},{key:\"metadataService\",get:function(){return this._metadataService}}]),t}();e.default=x,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),u=r(a),h=n(4),c=r(h),f=n(6),l=r(f),d=n(7),g=r(d),p=\".well-known/openid-configuration\",y=\"id_token\",v=\"openid\",m=300,S=300,b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.authority,r=e.metadataUrl,o=e.metadata,a=e.signingKeys,u=e.client_id,h=e.client_secret,f=e.response_type,d=void 0===f?y:f,p=e.scope,b=void 0===p?v:p,w=e.redirect_uri,E=e.post_logout_redirect_uri,_=e.prompt,x=e.display,A=e.max_age,F=e.ui_locales,P=e.acr_values,O=e.resource,C=e.filterProtocolClaims,T=void 0===C||C,D=e.loadUserInfo,R=void 0===D||D,j=e.staleStateAge,H=void 0===j?m:j,I=e.clockSkew,k=void 0===I?S:I,B=e.stateStore,N=void 0===B?new c.default:B,V=e.ResponseValidatorCtor,M=void 0===V?l.default:V,K=e.MetadataServiceCtor,L=void 0===K?g.default:K,U=e.extraQueryParams,q=void 0===U?{}:U;i(this,t),this._authority=n,this._metadataUrl=r,this._metadata=o,this._signingKeys=a,this._client_id=u,this._client_secret=h,this._response_type=d,this._scope=b,this._redirect_uri=w,this._post_logout_redirect_uri=E,this._prompt=_,this._display=x,this._max_age=A,this._ui_locales=F,this._acr_values=P,this._resource=O,this._filterProtocolClaims=!!T,this._loadUserInfo=!!R,this._staleStateAge=H,this._clockSkew=k,this._stateStore=N,this._validator=new M(this),this._metadataService=new L(this),this._extraQueryParams=\"object\"===(\"undefined\"==typeof q?\"undefined\":s(q))?q:{}}return o(t,[{key:\"client_id\",get:function(){return this._client_id},set:function(t){if(this._client_id)throw u.default.error(\"client_id has already been assigned.\"),new Error(\"client_id has already been assigned.\");this._client_id=t}},{key:\"client_secret\",get:function(){return this._client_secret}},{key:\"response_type\",get:function(){return this._response_type}},{key:\"scope\",get:function(){return this._scope}},{key:\"redirect_uri\",get:function(){return this._redirect_uri}},{key:\"post_logout_redirect_uri\",get:function(){return this._post_logout_redirect_uri}},{key:\"prompt\",get:function(){return this._prompt}},{key:\"display\",get:function(){return this._display}},{key:\"max_age\",get:function(){return this._max_age}},{key:\"ui_locales\",get:function(){return this._ui_locales}},{key:\"acr_values\",get:function(){return this._acr_values}},{key:\"resource\",get:function(){return this._resource}},{key:\"authority\",get:function(){return this._authority},set:function(t){if(this._authority)throw u.default.error(\"authority has already been assigned.\"),new Error(\"authority has already been assigned.\");this._authority=t}},{key:\"metadataUrl\",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(p)<0&&(\"/\"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+=\"/\"),this._metadataUrl+=p)),this._metadataUrl}},{key:\"metadata\",get:function(){return this._metadata},set:function(t){this._metadata=t}},{key:\"signingKeys\",get:function(){return this._signingKeys},set:function(t){this._signingKeys=t}},{key:\"filterProtocolClaims\",get:function(){return this._filterProtocolClaims}},{key:\"loadUserInfo\",get:function(){return this._loadUserInfo}},{key:\"staleStateAge\",get:function(){return this._staleStateAge}},{key:\"clockSkew\",get:function(){return this._clockSkew}},{key:\"stateStore\",get:function(){return this._stateStore}},{key:\"validator\",get:function(){return this._validator}},{key:\"metadataService\",get:function(){return this._metadataService}},{key:\"extraQueryParams\",get:function(){return this._extraQueryParams},set:function(t){\"object\"===(\"undefined\"==typeof t?\"undefined\":s(t))?this._extraQueryParams=t:this._extraQueryParams={}}}]),t}();e.default=b,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(5),u=r(a),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.prefix,r=void 0===n?\"oidc.\":n,s=e.store,o=void 0===s?u.default.localStorage:s;i(this,t),this._store=o,this._prefix=r}return t.prototype.set=function(t,e){return o.default.debug(\"WebStorageStateStore.set\",t),t=this._prefix+t,this._store.setItem(t,e),Promise.resolve()},t.prototype.get=function(t){o.default.debug(\"WebStorageStateStore.get\",t),t=this._prefix+t;var e=this._store.getItem(t);return Promise.resolve(e)},t.prototype.remove=function(t){o.default.debug(\"WebStorageStateStore.remove\",t),t=this._prefix+t;var e=this._store.getItem(t);return this._store.removeItem(t),Promise.resolve(e)},t.prototype.getAllKeys=function(){o.default.debug(\"WebStorageStateStore.getAllKeys\");for(var t=[],e=0;e<this._store.length;e++){var n=this._store.key(e);0===n.indexOf(this._prefix)&&t.push(n.substr(this._prefix.length))}return Promise.resolve(t)},t}();e.default=h,t.exports=e.default},function(t,e){\"use strict\";function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={setInterval:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return setInterval(t,e)}),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return clearInterval(t)})},s=!1,o=null,a=function(){function t(){n(this,t)}return t._testing=function(){s=!0},t.setXMLHttpRequest=function(t){o=t},r(t,null,[{key:\"location\",get:function(){if(!s)return location}},{key:\"localStorage\",get:function(){if(!s)return localStorage}},{key:\"sessionStorage\",get:function(){if(!s)return sessionStorage}},{key:\"XMLHttpRequest\",get:function(){if(!s)return o||XMLHttpRequest}},{key:\"timer\",get:function(){if(!s)return i}}]),t}();e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(7),u=r(a),h=n(9),c=r(h),f=n(10),l=r(f),d=n(11),g=r(d),p=[\"nonce\",\"at_hash\",\"iat\",\"nbf\",\"exp\",\"aud\",\"iss\",\"c_hash\"],y=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.default;if(i(this,t),!e)throw o.default.error(\"No settings passed to ResponseValidator\"),new Error(\"settings\");this._settings=e,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=s}return t.prototype.validateSigninResponse=function(t,e){var n=this;return o.default.debug(\"ResponseValidator.validateSigninResponse\"),this._processSigninParams(t,e).then(function(e){return o.default.debug(\"state processed\"),n._validateTokens(t,e).then(function(t){return o.default.debug(\"tokens validated\"),n._processClaims(t).then(function(t){return o.default.debug(\"claims processed\"),t})})})},t.prototype.validateSignoutResponse=function(t,e){return o.default.debug(\"ResponseValidator.validateSignoutResponse\"),t.id!==e.state?(o.default.error(\"State does not match\"),Promise.reject(new Error(\"State does not match\"))):(o.default.debug(\"state validated\"),e.state=t.data,e.error?(o.default.warn(\"Response was error\",e.error),Promise.reject(new l.default(e))):Promise.resolve(e))},t.prototype._processSigninParams=function(t,e){if(o.default.debug(\"ResponseValidator._processSigninParams\"),t.id!==e.state)return o.default.error(\"State does not match\"),Promise.reject(new Error(\"State does not match\"));if(!t.client_id)return o.default.error(\"No client_id on state\"),Promise.reject(new Error(\"No client_id on state\"));if(!t.authority)return o.default.error(\"No authority on state\"),Promise.reject(new Error(\"No authority on state\"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==t.authority)return o.default.error(\"authority mismatch on settings vs. signin state\"),Promise.reject(new Error(\"authority mismatch on settings vs. signin state\"))}else this._settings.authority=t.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==t.client_id)return o.default.error(\"client_id mismatch on settings vs. signin state\"),Promise.reject(new Error(\"client_id mismatch on settings vs. signin state\"))}else this._settings.client_id=t.client_id;return o.default.debug(\"state validated\"),e.state=t.data,e.error?(o.default.warn(\"Response was error\",e.error),Promise.reject(new l.default(e))):t.nonce&&!e.id_token?(o.default.error(\"Expecting id_token in response\"),Promise.reject(new Error(\"No id_token in response\"))):!t.nonce&&e.id_token?(o.default.error(\"Not expecting id_token in response\"),Promise.reject(new Error(\"Unexpected id_token in response\"))):Promise.resolve(e)},t.prototype._processClaims=function(t){var e=this;if(o.default.debug(\"ResponseValidator._processClaims\"),t.isOpenIdConnect){if(o.default.debug(\"response is OIDC, processing claims\"),t.profile=this._filterProtocolClaims(t.profile),this._settings.loadUserInfo&&t.access_token)return o.default.debug(\"loading user info\"),this._userInfoService.getClaims(t.access_token).then(function(n){return o.default.debug(\"user info claims received from user info endpoint\"),n.sub!==t.profile.sub?(o.default.error(\"sub from user info endpoint does not match sub in access_token\"),Promise.reject(new Error(\"sub from user info endpoint does not match sub in access_token\"))):(t.profile=e._mergeClaims(t.profile,n),o.default.debug(\"user info claims received, updated profile:\",t.profile),t)});o.default.debug(\"not loading user info\")}else o.default.debug(\"response is not OIDC, not processing claims\");return Promise.resolve(t)},t.prototype._mergeClaims=function(t,e){var n=Object.assign({},t);for(var r in e){var i=e[r];Array.isArray(i)||(i=[i]);var s=!0,o=!1,a=void 0;try{for(var u,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var c=u.value;n[r]?Array.isArray(n[r])?n[r].indexOf(c)<0&&n[r].push(c):n[r]!==c&&(n[r]=[n[r],c]):n[r]=c}}catch(t){o=!0,a=t}finally{try{!s&&h.return&&h.return()}finally{if(o)throw a}}}return n},t.prototype._filterProtocolClaims=function(t){o.default.debug(\"ResponseValidator._filterProtocolClaims, incoming claims:\",t);var e=Object.assign({},t);return this._settings._filterProtocolClaims?(p.forEach(function(t){delete e[t]}),o.default.debug(\"protocol claims filtered\",e)):o.default.debug(\"protocol claims not filtered\"),e},t.prototype._validateTokens=function(t,e){return o.default.debug(\"ResponseValidator._validateTokens\"),e.id_token?e.access_token?(o.default.debug(\"Validating id_token and access_token\"),this._validateIdTokenAndAccessToken(t,e)):(o.default.debug(\"Validating id_token\"),this._validateIdToken(t,e)):(o.default.debug(\"No id_token to validate\"),Promise.resolve(e))},t.prototype._validateIdTokenAndAccessToken=function(t,e){var n=this;return o.default.debug(\"ResponseValidator._validateIdTokenAndAccessToken\"),this._validateIdToken(t,e).then(function(t){return n._validateAccessToken(t)})},t.prototype._validateIdToken=function(t,e){var n=this;if(o.default.debug(\"ResponseValidator._validateIdToken\"),!t.nonce)return o.default.error(\"No nonce on state\"),Promise.reject(new Error(\"No nonce on state\"));var r=this._joseUtil.parseJwt(e.id_token);if(!r||!r.header||!r.payload)return o.default.error(\"Failed to parse id_token\",r),Promise.reject(new Error(\"Failed to parse id_token\"));if(t.nonce!==r.payload.nonce)return o.default.error(\"Invalid nonce in id_token\"),Promise.reject(new Error(\"Invalid nonce in id_token\"));var i=r.header.kid;return this._metadataService.getIssuer().then(function(s){return o.default.debug(\"Received issuer\"),n._metadataService.getSigningKeys().then(function(a){if(!a)return o.default.error(\"No signing keys from metadata\"),Promise.reject(new Error(\"No signing keys from metadata\"));o.default.debug(\"Received signing keys\");var u=void 0;if(i)u=a.filter(function(t){return t.kid===i})[0];else{if(a=n._filterByAlg(a,r.header.alg),a.length>1)return o.default.error(\"No kid found in id_token and more than one key found in metadata\"),Promise.reject(new Error(\"No kid found in id_token and more than one key found in metadata\"));u=a[0]}if(!u)return o.default.error(\"No key matching kid or alg found in signing keys\"),Promise.reject(new Error(\"No key matching kid or alg found in signing keys\"));var h=t.client_id,c=n._settings.clockSkew;return o.default.debug(\"Validaing JWT; using clock skew (in seconds) of: \",c),n._joseUtil.validateJwt(e.id_token,u,s,h,c).then(function(){return o.default.debug(\"JWT validation successful\"),r.payload.sub?(e.profile=r.payload,e):(o.default.error(\"No sub present in id_token\"),Promise.reject(new Error(\"No sub present in id_token\")))})})})},t.prototype._filterByAlg=function(t,e){o.default.debug(\"ResponseValidator._filterByAlg\",e);var n=null;if(e.startsWith(\"RS\"))n=\"RSA\";else if(e.startsWith(\"PS\"))n=\"PS\";else{if(!e.startsWith(\"ES\"))return o.default.debug(\"alg not supported: \",e),[];n=\"EC\"}return o.default.debug(\"Looking for keys that match kty: \",n),t=t.filter(function(t){return t.kty===n}),o.default.debug(\"Number of keys that match kty: \",n,t.length),t},t.prototype._validateAccessToken=function(t){if(o.default.debug(\"ResponseValidator._validateAccessToken\"),!t.profile)return o.default.error(\"No profile loaded from id_token\"),Promise.reject(new Error(\"No profile loaded from id_token\"));if(!t.profile.at_hash)return o.default.error(\"No at_hash in id_token\"),Promise.reject(new Error(\"No at_hash in id_token\"));if(!t.id_token)return o.default.error(\"No id_token\"),Promise.reject(new Error(\"No id_token\"));var e=this._joseUtil.parseJwt(t.id_token);if(!e||!e.header)return o.default.error(\"Failed to parse id_token\",e),Promise.reject(new Error(\"Failed to parse id_token\"));var n=e.header.alg;if(!n||5!==n.length)return o.default.error(\"Unsupported alg:\",n),Promise.reject(new Error(\"Unsupported alg: \"+n));var r=n.substr(2,3);if(!r)return o.default.error(\"Unsupported alg:\",n,r),Promise.reject(new Error(\"Unsupported alg: \"+n));if(r=parseInt(r),256!==r&&384!==r&&512!==r)return o.default.error(\"Unsupported alg:\",n,r),Promise.reject(new Error(\"Unsupported alg: \"+n));var i=\"sha\"+r,s=this._joseUtil.hashString(t.access_token,i);if(!s)return o.default.error(\"access_token hash failed:\",i),Promise.reject(new Error(\"Failed to validate at_hash\"));var a=s.substr(0,s.length/2),u=this._joseUtil.hexToBase64Url(a);return u!==t.profile.at_hash?(o.default.error(\"Failed to validate at_hash\",u,t.profile.at_hash),Promise.reject(new Error(\"Failed to validate at_hash\"))):Promise.resolve(t)},t}();e.default=y,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=n(8),h=r(u),c=\".well-known/openid-configuration\",f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default;if(i(this,t),!e)throw a.default.error(\"No settings passed to MetadataService\"),new Error(\"settings\");this._settings=e,this._jsonService=new n}return t.prototype.getMetadata=function(){var t=this;return a.default.debug(\"MetadataService.getMetadata\"),this._settings.metadata?(a.default.debug(\"Returning metadata from settings\"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(a.default.debug(\"getting metadata from\",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(e){return a.default.debug(\"json received\"),t._settings.metadata=e,e})):(a.default.error(\"No authority or metadataUrl configured on settings\"),Promise.reject(new Error(\"No authority or metadataUrl configured on settings\")))},t.prototype.getIssuer=function(){return a.default.debug(\"MetadataService.getIssuer\"),this._getMetadataProperty(\"issuer\")},t.prototype.getAuthorizationEndpoint=function(){return a.default.debug(\"MetadataService.getAuthorizationEndpoint\"),this._getMetadataProperty(\"authorization_endpoint\")},t.prototype.getUserInfoEndpoint=function(){return a.default.debug(\"MetadataService.getUserInfoEndpoint\"),this._getMetadataProperty(\"userinfo_endpoint\")},t.prototype.getTokenEndpoint=function(){return a.default.debug(\"MetadataService.getTokenEndpoint\"),this._getMetadataProperty(\"token_endpoint\",!0)},t.prototype.getCheckSessionIframe=function(){return a.default.debug(\"MetadataService.getCheckSessionIframe\"),this._getMetadataProperty(\"check_session_iframe\",!0)},t.prototype.getEndSessionEndpoint=function(){return a.default.debug(\"MetadataService.getEndSessionEndpoint\"),this._getMetadataProperty(\"end_session_endpoint\",!0)},t.prototype.getRevocationEndpoint=function(){return a.default.debug(\"MetadataService.getRevocationEndpoint\"),this._getMetadataProperty(\"revocation_endpoint\",!0)},t.prototype._getMetadataProperty=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.default.debug(\"MetadataService._getMetadataProperty\",t),this.getMetadata().then(function(n){if(a.default.debug(\"metadata recieved\"),void 0===n[t]){if(e===!0)return void a.default.warn(\"Metadata does not contain optional property \"+t);throw a.default.error(\"Metadata does not contain property \"+t),new Error(\"Metadata does not contain property \"+t)}return n[t]})},t.prototype.getSigningKeys=function(){var t=this;return a.default.debug(\"MetadataService.getSigningKeys\"),this._settings.signingKeys?(a.default.debug(\"Returning signingKeys from settings\"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty(\"jwks_uri\").then(function(e){return a.default.debug(\"jwks_uri received\",e),t._jsonService.getJson(e).then(function(e){if(a.default.debug(\"key set received\",e),!e.keys)throw a.default.error(\"Missing keys on keyset\"),new Error(\"Missing keys on keyset\");return t._settings.signingKeys=e.keys,t._settings.signingKeys})})},s(t,[{key:\"metadataUrl\",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(\"/\"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+=\"/\"),this._metadataUrl+=c))),this._metadataUrl}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(5),u=r(a),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.XMLHttpRequest;i(this,t),this._XMLHttpRequest=e}return t.prototype.getJson=function(t,e){var n=this;if(o.default.debug(\"JsonService.getJson\",t),!t)throw o.default.error(\"No url passed\"),new Error(\"url\");return new Promise(function(r,i){var s=new n._XMLHttpRequest;s.open(\"GET\",t),s.onload=function(){if(o.default.debug(\"HTTP response received, status\",s.status),200===s.status)try{r(JSON.parse(s.responseText))}catch(t){o.default.error(\"Error parsing JSON response\",t.message),i(t)}else i(Error(s.statusText+\" (\"+s.status+\")\"))},s.onerror=function(){o.default.error(\"network error\"),i(Error(\"Network Error\"))},e&&(o.default.debug(\"token passed, setting Authorization header\"),s.setRequestHeader(\"Authorization\",\"Bearer \"+e)),s.send()})},t}();e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(8),o=r(s),a=n(7),u=r(a),h=n(1),c=r(h),f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default;if(i(this,t),!e)throw c.default.error(\"No settings passed to UserInfoService\"),new Error(\"settings\");this._settings=e,this._jsonService=new n,this._metadataService=new r(this._settings)}return t.prototype.getClaims=function(t){var e=this;return c.default.debug(\"UserInfoService.getClaims\"),t?this._metadataService.getUserInfoEndpoint().then(function(n){return c.default.debug(\"received userinfo url\",n),e._jsonService.getJson(n,t).then(function(t){return c.default.debug(\"claims received\",t),t})}):(c.default.error(\"No token passed\"),Promise.reject(new Error(\"A token is required\")))},t}();e.default=f,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),u=r(a),h=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.error,o=n.error_description,a=n.error_uri,h=n.state;if(i(this,e),!r)throw u.default.error(\"No error passed to ErrorResponse\"),new Error(\"error\");var c=s(this,t.call(this,o||r));return c.name=\"ErrorResponse\",c.error=r,c.error_description=o,c.error_uri=a,c.state=h,c}return o(e,t),e}(Error);e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(12),o=n(1),a=r(o),u=[\"RS256\",\"RS384\",\"RS512\",\"PS256\",\"PS384\",\"PS512\",\"ES256\",\"ES384\",\"ES512\"],h=function(){function t(){i(this,t)}return t.parseJwt=function(t){a.default.debug(\"JoseUtil.parseJwt\");try{var e=s.jws.JWS.parse(t);return{header:e.headerObj,payload:e.payloadObj}}catch(t){a.default.error(t)}},t.validateJwt=function(e,n,r,i,o,u){a.default.debug(\"JoseUtil.validateJwt\");try{if(\"RSA\"===n.kty)if(n.e&&n.n)n=s.KEYUTIL.getKey(n);else{if(!n.x5c||!n.x5c.length)return a.default.error(\"RSA key missing key material\",n),Promise.reject(new Error(\"RSA key missing key material\"));n=s.KEYUTIL.getKey(s.X509.getPublicKeyFromCertPEM(n.x5c[0]))}else{if(\"EC\"!==n.kty)return a.default.error(\"Unsupported key type\",n&&n.kty),Promise.reject(new Error(\"Unsupported key type: \"+n&&n.kty));if(!(n.crv&&n.x&&n.y))return a.default.error(\"EC key missing key material\",n),Promise.reject(new Error(\"EC key missing key material\"));n=s.KEYUTIL.getKey(n)}return t._validateJwt(e,n,r,i,o,u)}catch(t){return a.default.error(t&&t.message||t),Promise.reject(\"JWT validation failed\")}},t._validateJwt=function(e,n,r,i,o,h){a.default.debug(\"JoseUtil._validateJwt\"),o||(o=0),h||(h=parseInt(Date.now()/1e3));var c=t.parseJwt(e).payload;if(!c.iss)return a.default.error(\"issuer was not provided\"),Promise.reject(new Error(\"issuer was not provided\"));if(c.iss!==r)return a.default.error(\"Invalid issuer in token\",c.iss),Promise.reject(new Error(\"Invalid issuer in token: \"+c.iss));if(!c.aud)return a.default.error(\"aud was not provided\"),Promise.reject(new Error(\"aud was not provided\"));var f=c.aud===i||Array.isArray(c.aud)&&c.aud.indexOf(i)>=0;\nif(!f)return a.default.error(\"Invalid audience in token\",c.aud),Promise.reject(new Error(\"Invalid audience in token: \"+c.aud));var l=h+o,d=h-o;if(!c.iat)return a.default.error(\"iat was not provided\"),Promise.reject(new Error(\"iat was not provided\"));if(l<c.iat)return a.default.error(\"iat is in the future\",c.iat),Promise.reject(new Error(\"iat is in the future: \"+c.iat));if(c.nbf&&l<c.nbf)return a.default.error(\"nbf is in the future\",c.nbf),Promise.reject(new Error(\"nbf is in the future: \"+c.nbf));if(!c.exp)return a.default.error(\"exp was not provided\"),Promise.reject(new Error(\"exp was not provided\"));if(c.exp<d)return a.default.error(\"exp is in the past\",c.exp),Promise.reject(new Error(\"exp is in the past:\"+c.exp));try{if(!s.jws.JWS.verify(e,n,u))return a.default.error(\"signature validation failed\"),Promise.reject(new Error(\"signature validation failed\"))}catch(t){return a.default.error(t&&t.message||t),Promise.reject(new Error(\"signature validation failed\"))}return Promise.resolve()},t.hashString=function(t,e){a.default.debug(\"JoseUtil.hashString\",t,e);try{return s.crypto.Util.hashString(t,e)}catch(t){a.default.error(t)}},t.hexToBase64Url=function(t){a.default.debug(\"JoseUtil.hexToBase64Url\",t);try{return(0,s.hextob64u)(t)}catch(t){a.default.error(t)}},t}();e.default=h,t.exports=e.default},function(t,e,n){(function(t){function r(t){var e,n,r=\"\";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=ur.charAt(n>>6)+ur.charAt(63&n);if(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=ur.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=ur.charAt(n>>2)+ur.charAt((3&n)<<4)),hr)for(;(3&r.length)>0;)r+=hr;return r}function i(t){var e,n,r,i=\"\",s=0;for(e=0;e<t.length&&t.charAt(e)!=hr;++e)r=ur.indexOf(t.charAt(e)),r<0||(0==s?(i+=f(r>>2),n=3&r,s=1):1==s?(i+=f(n<<2|r>>4),n=15&r,s=2):2==s?(i+=f(n),i+=f(r>>2),n=3&r,s=3):(i+=f(n<<2|r>>4),i+=f(15&r),s=0));return 1==s&&(i+=f(n<<2)),i}function s(t){var e,n=i(t),r=new Array;for(e=0;2*e<n.length;++e)r[e]=parseInt(n.substring(2*e,2*e+2),16);return r}function o(t,e,n){null!=t&&(\"number\"==typeof t?this.fromNumber(t,e,n):null==e&&\"string\"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function a(){return new o(null)}function u(t,e,n,r,i,s){for(;--s>=0;){var o=e*this[t++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i}function h(t,e,n,r,i,s){for(var o=32767&e,a=e>>15;--s>=0;){var u=32767&this[t],h=this[t++]>>15,c=a*u+h*o;u=o*u+((32767&c)<<15)+n[r]+(1073741823&i),i=(u>>>30)+(c>>>15)+a*h+(i>>>30),n[r++]=1073741823&u}return i}function c(t,e,n,r,i,s){for(var o=16383&e,a=e>>14;--s>=0;){var u=16383&this[t],h=this[t++]>>14,c=a*u+h*o;u=o*u+((16383&c)<<14)+n[r]+i,i=(u>>28)+(c>>14)+a*h,n[r++]=268435455&u}return i}function f(t){return pr.charAt(t)}function l(t,e){var n=yr[t.charCodeAt(e)];return null==n?-1:n}function d(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function g(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function p(t){var e=a();return e.fromInt(t),e}function y(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,s=0;--r>=0;){var a=8==n?255&t[r]:l(t,r);a<0?\"-\"==t.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&o.ZERO.subTo(this,this)}function v(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function m(t){if(this.s<0)return\"-\"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,s=\"\",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this[o]>>a)>0&&(i=!0,s=f(n));o>=0;)a<e?(n=(this[o]&(1<<a)-1)<<e-a,n|=this[--o]>>(a+=this.DB-e)):(n=this[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=f(n));return i?s:\"0\"}function S(){var t=a();return o.ZERO.subTo(this,t),t}function b(){return this.s<0?this.negate():this}function w(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function E(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function _(){return this.t<=0?0:this.DB*(this.t-1)+E(this[this.t-1]^this.s&this.DM)}function x(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function A(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function F(t,e){var n,r=t%this.DB,i=this.DB-r,s=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+o+1]=this[n]>>i|a,a=(this[n]&s)<<r;for(n=o-1;n>=0;--n)e[n]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()}function P(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var r=t%this.DB,i=this.DB-r,s=(1<<r)-1;e[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&s)<<i,e[o-n]=this[o]>>r;r>0&&(e[this.t-n-1]|=(this.s&s)<<i),e.t=this.t-n,e.clamp()}function O(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()}function C(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)}function T(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function D(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=a());var s=a(),u=this.s,h=t.s,c=this.DB-E(r[r.t-1]);c>0?(r.lShiftTo(c,s),i.lShiftTo(c,n)):(r.copyTo(s),i.copyTo(n));var f=s.t,l=s[f-1];if(0!=l){var d=l*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),g=this.FV/d,p=(1<<this.F1)/d,y=1<<this.F2,v=n.t,m=v-f,S=null==e?a():e;for(s.dlShiftTo(m,S),n.compareTo(S)>=0&&(n[n.t++]=1,n.subTo(S,n)),o.ONE.dlShiftTo(f,S),S.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--m>=0;){var b=n[--v]==l?this.DM:Math.floor(n[v]*g+(n[v-1]+y)*p);if((n[v]+=s.am(0,b,n,m,0,f))<b)for(s.dlShiftTo(m,S),n.subTo(S,n);n[v]<--b;)n.subTo(S,n)}null!=e&&(n.drShiftTo(f,e),u!=h&&o.ZERO.subTo(e,e)),n.t=f,n.clamp(),c>0&&n.rShiftTo(c,n),u<0&&o.ZERO.subTo(n,n)}}}function R(t){var e=a();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e}function j(t){this.m=t}function H(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function k(t){t.divRemTo(this.m,null,t)}function B(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function N(t,e){t.squareTo(e),this.reduce(e)}function V(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function M(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function K(t){var e=a();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e}function L(t){var e=a();return t.copyTo(e),this.reduce(e),e}function U(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function q(t,e){t.squareTo(e),this.reduce(e)}function W(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function J(){return 0==(this.t>0?1&this[0]:this.s)}function z(t,e){if(t>4294967295||t<1)return o.ONE;var n=a(),r=a(),i=e.convert(this),s=E(t)-1;for(i.copyTo(n);--s>=0;)if(e.sqrTo(n,r),(t&1<<s)>0)e.mulTo(r,i,n);else{var u=n;n=r,r=u}return e.revert(n)}function Y(t,e){var n;return n=t<256||e.isEven()?new j(e):new M(e),this.exp(t,n)}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n\t */\nfunction G(){var t=a();return this.copyTo(t),t}function X(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function $(){return 0==this.t?this.s:this[0]<<24>>24}function Q(){return 0==this.t?this.s:this[0]<<16>>16}function Z(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function tt(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function et(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return\"0\";var e=this.chunkSize(t),n=Math.pow(t,e),r=p(n),i=a(),s=a(),o=\"\";for(this.divRemTo(r,i,s);i.signum()>0;)o=(n+s.intValue()).toString(t).substr(1)+o,i.divRemTo(r,i,s);return s.intValue().toString(t)+o}function nt(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,s=0,a=0,u=0;u<t.length;++u){var h=l(t,u);h<0?\"-\"==t.charAt(u)&&0==this.signum()&&(i=!0):(a=e*a+h,++s>=n&&(this.dMultiply(r),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),i&&o.ZERO.subTo(this,this)}function rt(t,e,n){if(\"number\"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),ft,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=(t>>3)+1,e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function it(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function st(t){return 0==this.compareTo(t)}function ot(t){return this.compareTo(t)<0?this:t}function at(t){return this.compareTo(t)>0?this:t}function ut(t,e,n){var r,i,s=Math.min(t.t,this.t);for(r=0;r<s;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=s;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=s;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function ht(t,e){return t&e}function ct(t){var e=a();return this.bitwiseTo(t,ht,e),e}function ft(t,e){return t|e}function lt(t){var e=a();return this.bitwiseTo(t,ft,e),e}function dt(t,e){return t^e}function gt(t){var e=a();return this.bitwiseTo(t,dt,e),e}function pt(t,e){return t&~e}function yt(t){var e=a();return this.bitwiseTo(t,pt,e),e}function vt(){for(var t=a(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function mt(t){var e=a();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function St(t){var e=a();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function bt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function wt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+bt(this[t]);return this.s<0?this.t*this.DB:-1}function Et(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function _t(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=Et(this[n]^e);return t}function xt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function At(t,e){var n=o.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n}function Ft(t){return this.changeBit(t,ft)}function Pt(t){return this.changeBit(t,pt)}function Ot(t){return this.changeBit(t,dt)}function Ct(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()}function Tt(t){var e=a();return this.addTo(t,e),e}function Dt(t){var e=a();return this.subTo(t,e),e}function Rt(t){var e=a();return this.multiplyTo(t,e),e}function jt(){var t=a();return this.squareTo(t),t}function Ht(t){var e=a();return this.divRemTo(t,e,null),e}function It(t){var e=a();return this.divRemTo(t,null,e),e}function kt(t){var e=a(),n=a();return this.divRemTo(t,e,n),new Array(e,n)}function Bt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Nt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Vt(){}function Mt(t){return t}function Kt(t,e,n){t.multiplyTo(e,n)}function Lt(t,e){t.squareTo(e)}function Ut(t){return this.exp(t,new Vt)}function qt(t,e,n){var r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()}function Wt(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)}function Jt(t){this.r2=a(),this.q3=a(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=a();return t.copyTo(e),this.reduce(e),e}function Yt(t){return t}function Gt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Xt(t,e){t.squareTo(e),this.reduce(e)}function $t(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function Qt(t,e){var n,r,i=t.bitLength(),s=p(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new j(e):e.isEven()?new Jt(e):new M(e);var o=new Array,u=3,h=n-1,c=(1<<n)-1;if(o[1]=r.convert(this),n>1){var f=a();for(r.sqrTo(o[1],f);u<=c;)o[u]=a(),r.mulTo(f,o[u-2],o[u]),u+=2}var l,d,g=t.t-1,y=!0,v=a();for(i=E(t[g])-1;g>=0;){for(i>=h?l=t[g]>>i-h&c:(l=(t[g]&(1<<i+1)-1)<<h-i,g>0&&(l|=t[g-1]>>this.DB+i-h)),u=n;0==(1&l);)l>>=1,--u;if((i-=u)<0&&(i+=this.DB,--g),y)o[l].copyTo(s),y=!1;else{for(;u>1;)r.sqrTo(s,v),r.sqrTo(v,s),u-=2;u>0?r.sqrTo(s,v):(d=s,s=v,v=d),r.mulTo(v,o[l],s)}for(;g>=0&&0==(t[g]&1<<i);)r.sqrTo(s,v),d=s,s=v,v=d,--i<0&&(i=this.DB-1,--g)}return r.revert(s)}function Zt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),n.rShiftTo(s,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n}function te(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n}function ee(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return o.ZERO;for(var n=t.clone(),r=this.clone(),i=p(1),s=p(0),a=p(0),u=p(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(a,i),s.subTo(u,s)):(r.subTo(n,r),e&&a.subTo(i,a),u.subTo(s,u))}return 0!=r.compareTo(o.ONE)?o.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function ne(t){var e,n=this.abs();if(1==n.t&&n[0]<=vr[vr.length-1]){for(e=0;e<vr.length;++e)if(n[0]==vr[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<vr.length;){for(var r=vr[e],i=e+1;i<vr.length&&r<mr;)r*=vr[i++];for(r=n.modInt(r);e<i;)if(r%vr[e++]==0)return!1}return n.millerRabin(t)}function re(t){var e=this.subtract(o.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);t=t+1>>1,t>vr.length&&(t=vr.length);for(var i=a(),s=0;s<t;++s){i.fromInt(vr[Math.floor(Math.random()*vr.length)]);var u=i.modPow(r,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(e)){for(var h=1;h++<n&&0!=u.compareTo(e);)if(u=u.modPowInt(2,this),0==u.compareTo(o.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n\t */\nfunction ie(){this.i=0,this.j=0,this.S=new Array}function se(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function oe(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function ae(){return new ie}function ue(t){br[wr++]^=255&t,br[wr++]^=t>>8&255,br[wr++]^=t>>16&255,br[wr++]^=t>>24&255,wr>=Er&&(wr-=Er)}function he(){ue((new Date).getTime())}function ce(){if(null==Sr){for(he(),Sr=ae(),Sr.init(br),wr=0;wr<br.length;++wr)br[wr]=0;wr=0}return Sr.next()}function fe(t){var e;for(e=0;e<t.length;++e)t[e]=ce()}function le(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n\t */\nfunction de(t,e){return new o(t,e)}function ge(t,e){if(e<t.length+11)return alert(\"Message too long for RSA\"),null;for(var n=new Array,r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var s=new le,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new o(n)}function pe(t,e,n){for(var r=\"\",i=0;r.length<e;)r+=n(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function ye(t,e,n){if(t.length+2*Fr+2>e)throw\"Message too long for RSA\";var r,i=\"\";for(r=0;r<e-t.length-2*Fr-2;r+=1)i+=\"\\0\";var s=rstr_sha1(\"\")+i+\"\u0001\"+t,a=new Array(Fr);(new le).nextBytes(a);var u=pe(a,s.length,n||rstr_sha1),h=[];for(r=0;r<s.length;r+=1)h[r]=s.charCodeAt(r)^u.charCodeAt(r);var c=pe(h,a.length,rstr_sha1),f=[0];for(r=0;r<a.length;r+=1)f[r+1]=a[r]^c.charCodeAt(r);return new o(f.concat(h))}function ve(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function me(t,e){this.isPublic=!0,\"string\"!=typeof t?(this.n=t,this.e=e):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=de(t,16),this.e=parseInt(e,16)):alert(\"Invalid RSA public key\")}function Se(t){return t.modPowInt(this.e,this.n)}function be(t){var e=ge(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:\"0\"+r}function we(t,e){var n=ye(t,this.n.bitLength()+7>>3,e);if(null==n)return null;var r=this.doPublic(n);if(null==r)return null;var i=r.toString(16);return 0==(1&i.length)?i:\"0\"+i}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n\t */\nfunction Ee(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i=\"\";++r<n.length;){var s=255&n[r];s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((31&s)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&s)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}function _e(t,e,n){for(var r=\"\",i=0;r.length<e;)r+=n(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function xe(t,e,n){t=t.toByteArray();var r;for(r=0;r<t.length;r+=1)t[r]&=255;for(;t.length<e;)t.unshift(0);if(t=String.fromCharCode.apply(String,t),t.length<2*Fr+2)throw\"Cipher too short\";var r,i=t.substr(1,Fr),s=t.substr(Fr+1),o=_e(s,Fr,n||rstr_sha1),a=[];for(r=0;r<i.length;r+=1)a[r]=i.charCodeAt(r)^o.charCodeAt(r);var u=_e(String.fromCharCode.apply(String,a),t.length-Fr,rstr_sha1),h=[];for(r=0;r<s.length;r+=1)h[r]=s.charCodeAt(r)^u.charCodeAt(r);if(h=String.fromCharCode.apply(String,h),h.substr(0,Fr)!==rstr_sha1(\"\"))throw\"Hash mismatch\";h=h.substr(Fr);var c=h.indexOf(\"\u0001\"),f=c!=-1?h.substr(0,c).lastIndexOf(\"\\0\"):-1;if(f+1!=c)throw\"Malformed data\";return h.substr(c+1)}function Ae(t,e,n){this.isPrivate=!0,\"string\"!=typeof t?(this.n=t,this.e=e,this.d=n):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=de(t,16),this.e=parseInt(e,16),this.d=de(n,16)):alert(\"Invalid RSA private key\")}function Fe(t,e,n,r,i,s,o,a){if(this.isPrivate=!0,null==t)throw\"RSASetPrivateEx N == null\";if(null==e)throw\"RSASetPrivateEx E == null\";if(0==t.length)throw\"RSASetPrivateEx N.length == 0\";if(0==e.length)throw\"RSASetPrivateEx E.length == 0\";null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=de(t,16),this.e=parseInt(e,16),this.d=de(n,16),this.p=de(r,16),this.q=de(i,16),this.dmp1=de(s,16),this.dmq1=de(o,16),this.coeff=de(a,16)):alert(\"Invalid RSA private key in RSASetPrivateEx\")}function Pe(t,e){var n=new le,r=t>>1;this.e=parseInt(e,16);for(var i=new o(e,16);;){for(;this.p=new o(t-r,1,n),0!=this.p.subtract(o.ONE).gcd(i).compareTo(o.ONE)||!this.p.isProbablePrime(10););for(;this.q=new o(r,1,n),0!=this.q.subtract(o.ONE).gcd(i).compareTo(o.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(o.ONE),u=this.q.subtract(o.ONE),h=a.multiply(u);if(0==h.gcd(i).compareTo(o.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(h),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(u),this.coeff=this.q.modInverse(this.p);break}}}function Oe(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function Ce(t){var e=de(t,16),n=this.doPrivate(e);return null==n?null:Ee(n,this.n.bitLength()+7>>3)}function Te(t,e){var n=de(t,16),r=this.doPrivate(n);return null==r?null:xe(r,this.n.bitLength()+7>>3,e)}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n\t */\nfunction De(t,e){this.x=e,this.q=t}function Re(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)}function je(){return this.x}function He(){return new De(this.q,this.x.negate().mod(this.q))}function Ie(t){return new De(this.q,this.x.add(t.toBigInteger()).mod(this.q))}function ke(t){return new De(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))}function Be(t){return new De(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))}function Ne(){return new De(this.q,this.x.square().mod(this.q))}function Ve(t){return new De(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))}function Me(t,e,n,r){this.curve=t,this.x=e,this.y=n,null==r?this.z=o.ONE:this.z=r,this.zinv=null}function Ke(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Le(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Ue(t){if(t==this)return!0;if(this.isInfinity())return t.isInfinity();if(t.isInfinity())return this.isInfinity();var e,n;return e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),!!e.equals(o.ZERO)&&(n=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q),n.equals(o.ZERO))}function qe(){return null==this.x&&null==this.y||this.z.equals(o.ZERO)&&!this.y.toBigInteger().equals(o.ZERO)}function We(){return new Me(this.curve,this.x,this.y.negate(),this.z)}function Je(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),n=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(o.ZERO.equals(n))return o.ZERO.equals(e)?this.twice():this.curve.getInfinity();var r=new o(\"3\"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(t.x.toBigInteger(),t.y.toBigInteger(),n.square()),u=a.multiply(n),h=i.multiply(a),c=e.square().multiply(this.z),f=c.subtract(h.shiftLeft(1)).multiply(t.z).subtract(u).multiply(n).mod(this.curve.q),l=h.multiply(r).multiply(e).subtract(s.multiply(u)).subtract(c.multiply(e)).multiply(t.z).add(e.multiply(u)).mod(this.curve.q),d=u.multiply(this.z).multiply(t.z).mod(this.curve.q);return new Me(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(l),d)}function ze(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new o(\"3\"),e=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=e.square().multiply(t);o.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s))),a=a.mod(this.curve.q);var u=a.square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),h=a.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new Me(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(h),c)}function Ye(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new o(\"3\")),i=this.negate(),s=this;for(e=r.bitLength()-2;e>0;--e){s=s.twice();var a=r.testBit(e),u=n.testBit(e);a!=u&&(s=s.add(a?this:i))}return s}function Ge(t,e,n){var r;r=t.bitLength()>n.bitLength()?t.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(e);r>=0;)i=i.twice(),t.testBit(r)?i=n.testBit(r)?i.add(s):i.add(this):n.testBit(r)&&(i=i.add(e)),--r;return i}function Xe(t,e,n){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(n),this.infinity=new Me(this,null,null)}function $e(){return this.q}function Qe(){return this.a}function Ze(){return this.b}function tn(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}function en(){return this.infinity}function nn(t){return new De(this.q,t)}function rn(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,n=t.substr(2,e),r=t.substr(e+2,e);return new Me(this,this.fromBigInteger(new o(n,16)),this.fromBigInteger(new o(r,16)));default:return null}}function sn(t){for(var e=new Array,n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function on(t){for(var e=\"\",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function an(t){for(var e=\"\",n=0;n<t.length;n++){var r=t[n].toString(16);1==r.length&&(r=\"0\"+r),e+=r}return e}function un(t){return an(sn(t))}function hn(t){return r(un(t))}function cn(t){return ln(r(un(t)))}function fn(t){return on(s(dn(t)))}function ln(t){return t=t.replace(/\\=/g,\"\"),t=t.replace(/\\+/g,\"-\"),t=t.replace(/\\//g,\"_\")}function dn(t){return t.length%4==2?t+=\"==\":t.length%4==3&&(t+=\"=\"),t=t.replace(/-/g,\"+\"),t=t.replace(/_/g,\"/\")}function gn(t){return t.length%2==1&&(t=\"0\"+t),ln(r(t))}function pn(t){return i(dn(t))}function yn(t){return r(_n(An(t)))}function vn(t){return decodeURIComponent(xn(i(t)))}function mn(t){return _n(An(t))}function Sn(t){return decodeURIComponent(xn(t))}function bn(t){for(var e=\"\",n=0;n<t.length-1;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e}function wn(t){for(var e=\"\",n=0;n<t.length;n++)e+=(\"0\"+t.charCodeAt(n).toString(16)).slice(-2);return e}function En(t){return r(t)}function _n(t){return t.replace(/%/g,\"\")}function xn(t){return t.replace(/(..)/g,\"%$1\")}function An(t){for(var e=encodeURIComponent(t),n=\"\",r=0;r<e.length;r++)\"%\"==e[r]?(n+=e.substr(r,3),r+=2):n=n+\"%\"+un(e[r]);return n}function Fn(t){return t=t.replace(/\\r\\n/gm,\"\\n\")}function Pn(t){return t=t.replace(/\\r\\n/gm,\"\\n\"),t=t.replace(/\\n/gm,\"\\r\\n\")}function On(t){t=t.replace(/^\\s*\\[\\s*/,\"\"),t=t.replace(/\\s*\\]\\s*$/,\"\"),t=t.replace(/\\s*/g,\"\");try{var e=t.split(/,/).map(function(t,e,n){var r=parseInt(t);if(r<0||255<r)throw\"integer not in range 0-255\";var i=(\"00\"+r.toString(16)).slice(-2);return i}).join(\"\");return e}catch(t){throw\"malformed integer array string: \"+t}}/*! rsapem-1.1.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\nfunction Cn(t){var e=t;return e=e.replace(\"-----BEGIN RSA PRIVATE KEY-----\",\"\"),e=e.replace(\"-----END RSA PRIVATE KEY-----\",\"\"),e=e.replace(/[ \\n]+/g,\"\")}function Tn(t){var e=new Array,n=Or.getStartPosOfV_AtObj(t,0),r=Or.getPosOfNextSibling_AtObj(t,n),i=Or.getPosOfNextSibling_AtObj(t,r),s=Or.getPosOfNextSibling_AtObj(t,i),o=Or.getPosOfNextSibling_AtObj(t,s),a=Or.getPosOfNextSibling_AtObj(t,o),u=Or.getPosOfNextSibling_AtObj(t,a),h=Or.getPosOfNextSibling_AtObj(t,u),c=Or.getPosOfNextSibling_AtObj(t,h);return e.push(n,r,i,s,o,a,u,h,c),e}function Dn(t){var e=Tn(t),n=Or.getHexOfV_AtObj(t,e[0]),r=Or.getHexOfV_AtObj(t,e[1]),i=Or.getHexOfV_AtObj(t,e[2]),s=Or.getHexOfV_AtObj(t,e[3]),o=Or.getHexOfV_AtObj(t,e[4]),a=Or.getHexOfV_AtObj(t,e[5]),u=Or.getHexOfV_AtObj(t,e[6]),h=Or.getHexOfV_AtObj(t,e[7]),c=Or.getHexOfV_AtObj(t,e[8]),f=new Array;return f.push(n,r,i,s,o,a,u,h,c),f}function Rn(t){var e=Dn(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function jn(t){var e=Cn(t),n=i(e),r=Dn(n);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])}function Hn(t,e){for(var n=\"\",r=e/4-t.length,i=0;i<r;i++)n+=\"0\";return n+t}function In(t,e){var n=function(t){return Cr.crypto.Util.hashString(t,e)},r=n(t);return this.signWithMessageHash(r,e)}function kn(t,e){var n=Cr.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),r=de(n,16),i=this.doPrivate(r),s=i.toString(16);return Hn(s,this.n.bitLength())}function Bn(t){return In.call(this,t,\"sha1\")}function Nn(t){return In.call(this,t,\"sha256\")}function Vn(t,e,n){for(var r=\"\",i=0;r.length<e;)r+=bn(n(wn(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Mn(t,e,n){var r=function(t){return Cr.crypto.Util.hashHex(t,e)},i=r(wn(t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,e,n)}function Kn(t,e,n){var r,i=bn(t),s=i.length,a=this.n.bitLength()-1,u=Math.ceil(a/8),h=function(t){return Cr.crypto.Util.hashHex(t,e)};if(n===-1||void 0===n)n=s;else if(n===-2)n=u-s-2;else if(n<-2)throw\"invalid salt length\";if(u<s+n+2)throw\"data too long\";var c=\"\";n>0&&(c=new Array(n),(new le).nextBytes(c),c=String.fromCharCode.apply(String,c));var f=bn(h(wn(\"\\0\\0\\0\\0\\0\\0\\0\\0\"+i+c))),l=[];for(r=0;r<u-n-s-2;r+=1)l[r]=0;var d=String.fromCharCode.apply(String,l)+\"\u0001\"+c,g=Vn(f,d.length,h),p=[];for(r=0;r<d.length;r+=1)p[r]=d.charCodeAt(r)^g.charCodeAt(r);var y=65280>>8*u-a&255;for(p[0]&=~y,r=0;r<s;r++)p.push(f.charCodeAt(r));return p.push(188),Hn(this.doPrivate(new o(p)).toString(16),this.n.bitLength())}function Ln(t,e,n){var r=new ve;r.setPublic(e,n);var i=r.doPublic(t);return i}function Un(t,e,n){var r=Ln(t,e,n),i=r.toString(16).replace(/^1f+00/,\"\");return i}function qn(t){for(var e in Cr.crypto.Util.DIGESTINFOHEAD){var n=Cr.crypto.Util.DIGESTINFOHEAD[e],r=n.length;if(t.substring(0,r)==n){var i=[e,t.substring(r)];return i}}return[]}function Wn(t,e,n,r){var i=Un(e,n,r),s=qn(i);if(0==s.length)return!1;var o=s[0],a=s[1],u=function(t){return Cr.crypto.Util.hashString(t,o)},h=u(t);return a==h}function Jn(t,e){var n=de(t,16),r=Wn(e,n,this.n.toString(16),this.e.toString(16));return r}function zn(t,e){e=e.replace(Ir,\"\"),e=e.replace(/[ \\n]+/g,\"\");var n=de(e,16);if(n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,\"\"),s=qn(i);if(0==s.length)return!1;var o=s[0],a=s[1],u=function(t){return Cr.crypto.Util.hashString(t,o)},h=u(t);return a==h}function Yn(t,e){e=e.replace(Ir,\"\"),e=e.replace(/[ \\n]+/g,\"\");var n=de(e,16);if(n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,\"\"),s=qn(i);if(0==s.length)return!1;var o=(s[0],s[1]);return o==t}function Gn(t,e,n,r){var i=function(t){return Cr.crypto.Util.hashHex(t,n)},s=i(wn(t));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(s,e,n,r)}function Xn(t,e,n,r){var i=new o(e,16);if(i.bitLength()>this.n.bitLength())return!1;var s,a=function(t){return Cr.crypto.Util.hashHex(t,n)},u=bn(t),h=u.length,c=this.n.bitLength()-1,f=Math.ceil(c/8);if(r===-1||void 0===r)r=h;else if(r===-2)r=f-h-2;else if(r<-2)throw\"invalid salt length\";if(f<h+r+2)throw\"data too long\";var l=this.doPublic(i).toByteArray();for(s=0;s<l.length;s+=1)l[s]&=255;for(;l.length<f;)l.unshift(0);if(188!==l[f-1])throw\"encoded message does not end in 0xbc\";l=String.fromCharCode.apply(String,l);var d=l.substr(0,f-h-1),g=l.substr(d.length,h),p=65280>>8*f-c&255;if(0!==(d.charCodeAt(0)&p))throw\"bits beyond keysize not zero\";var y=Vn(g,d.length,a),v=[];for(s=0;s<d.length;s+=1)v[s]=d.charCodeAt(s)^y.charCodeAt(s);v[0]&=~p;var m=f-h-r-2;for(s=0;s<m;s+=1)if(0!==v[s])throw\"leftmost octets not zero\";if(1!==v[m])throw\"0x01 marker not found\";return g===bn(a(wn(\"\\0\\0\\0\\0\\0\\0\\0\\0\"+u+String.fromCharCode.apply(String,v.slice(-r)))))}/*! x509-1.1.9.js (c) 2012-2016 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\nfunction $n(){this.subjectPublicKeyRSA=null,this.subjectPublicKeyRSA_hN=null,this.subjectPublicKeyRSA_hE=null,this.hex=null,this.getSerialNumberHex=function(){return Or.getDecendantHexVByNthList(this.hex,0,[0,1])},this.getSignatureAlgorithmField=function(){var t=Or.getDecendantHexVByNthList(this.hex,0,[0,2,0]),e=Cr.asn1.ASN1Util.oidHexToInt(t),n=Cr.asn1.x509.OID.oid2name(e);return n},this.getIssuerHex=function(){return Or.getDecendantHexTLVByNthList(this.hex,0,[0,3])},this.getIssuerString=function(){return $n.hex2dn(Or.getDecendantHexTLVByNthList(this.hex,0,[0,3]))},this.getSubjectHex=function(){return Or.getDecendantHexTLVByNthList(this.hex,0,[0,5])},this.getSubjectString=function(){return $n.hex2dn(Or.getDecendantHexTLVByNthList(this.hex,0,[0,5]))},this.getNotBefore=function(){var t=Or.getDecendantHexVByNthList(this.hex,0,[0,4,0]);return t=t.replace(/(..)/g,\"%$1\"),t=decodeURIComponent(t)},this.getNotAfter=function(){var t=Or.getDecendantHexVByNthList(this.hex,0,[0,4,1]);return t=t.replace(/(..)/g,\"%$1\"),t=decodeURIComponent(t)},this.readCertPEM=function(t){var e=$n.pemToHex(t),n=$n.getPublicKeyHexArrayFromCertHex(e),r=new ve;r.setPublic(n[0],n[1]),this.subjectPublicKeyRSA=r,this.subjectPublicKeyRSA_hN=n[0],this.subjectPublicKeyRSA_hE=n[1],this.hex=e},this.readCertPEMWithoutRSAInit=function(t){var e=$n.pemToHex(t),n=$n.getPublicKeyHexArrayFromCertHex(e);this.subjectPublicKeyRSA.setPublic(n[0],n[1]),this.subjectPublicKeyRSA_hN=n[0],this.subjectPublicKeyRSA_hE=n[1],this.hex=e},this.getInfo=function(){var t=\"Basic Fields\\n\";t+=\"  serial number: \"+this.getSerialNumberHex()+\"\\n\",t+=\"  signature algorithm: \"+this.getSignatureAlgorithmField()+\"\\n\",t+=\"  issuer: \"+this.getIssuerString()+\"\\n\",t+=\"  notBefore: \"+this.getNotBefore()+\"\\n\",t+=\"  notAfter: \"+this.getNotAfter()+\"\\n\",t+=\"  subject: \"+this.getSubjectString()+\"\\n\",t+=\"  subject public key info: \\n\";var e=$n.getSubjectPublicKeyInfoPosFromCertHex(this.hex),n=Or.getHexOfTLV_AtObj(this.hex,e),r=Hr.getKey(n,null,\"pkcs8pub\");r instanceof ve&&(t+=\"    key algorithm: RSA\\n\",t+=\"    n=\"+r.n.toString(16).substr(0,16)+\"...\\n\",t+=\"    e=\"+r.e.toString(16)+\"\\n\"),t+=\"X509v3 Extensions:\\n\";for(var i=$n.getV3ExtInfoListOfCertHex(this.hex),s=0;s<i.length;s++){var o=i[s],a=Cr.asn1.x509.OID.oid2name(o.oid);\"\"===a&&(a=o.oid);var u=\"\";if(o.critical===!0&&(u=\"CRITICAL\"),t+=\"  \"+a+\" \"+u+\":\\n\",\"basicConstraints\"===a){var h=$n.getExtBasicConstraints(this.hex);void 0===h.cA?t+=\"    {}\\n\":(t+=\"    cA=true\",void 0!==h.pathLen&&(t+=\", pathLen=\"+h.pathLen),t+=\"\\n\")}else if(\"keyUsage\"===a)t+=\"    \"+$n.getExtKeyUsageString(this.hex)+\"\\n\";else if(\"subjectKeyIdentifier\"===a)t+=\"    \"+$n.getExtSubjectKeyIdentifier(this.hex)+\"\\n\";else if(\"authorityKeyIdentifier\"===a){var c=$n.getExtAuthorityKeyIdentifier(this.hex);void 0!==c.kid&&(t+=\"    kid=\"+c.kid+\"\\n\")}else if(\"extKeyUsage\"===a){var f=$n.getExtExtKeyUsageName(this.hex);t+=\"    \"+f.join(\", \")+\"\\n\"}else if(\"subjectAltName\"===a){var l=$n.getExtSubjectAltName(this.hex);t+=\"    \"+l.join(\", \")+\"\\n\"}else if(\"cRLDistributionPoints\"===a){var d=$n.getExtCRLDistributionPointsURI(this.hex);t+=\"    \"+d+\"\\n\"}else if(\"authorityInfoAccess\"===a){var g=$n.getExtAIAInfo(this.hex);void 0!==g.ocsp&&(t+=\"    ocsp: \"+g.ocsp.join(\",\")+\"\\n\"),void 0!==g.caissuer&&(t+=\"    caissuer: \"+g.caissuer.join(\",\")+\"\\n\")}}return t+=\"signature algorithm: \"+$n.getSignatureAlgorithmName(this.hex)+\"\\n\",t+=\"signature: \"+$n.getSignatureValueHex(this.hex).substr(0,16)+\"...\\n\"}}/*! nodeutil-1.0.0 (c) 2015 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\nfunction Qn(t){return n(17).readFileSync(t,\"utf8\")}function Zn(t){var e=n(12),r=n(17);return e.rstrtohex(r.readFileSync(t,\"binary\"))}function tr(t){var e=n(17);return e.readFileSync(t,\"binary\")}function er(t,e){var r=n(17);r.writeFileSync(t,e,\"binary\")}function nr(t,e){var r=n(17),i=n(12),s=i.hextorstr(e);r.writeFileSync(t,s,\"binary\")}var rr={};rr.userAgent=!1;var ir={};if(\"undefined\"==typeof sr||!sr)var sr={};sr.namespace=function(){var t,e,n,r=arguments,i=null;for(t=0;t<r.length;t+=1)for(n=(\"\"+r[t]).split(\".\"),i=sr,e=\"YAHOO\"==n[0]?1:0;e<n.length;e+=1)i[n[e]]=i[n[e]]||{},i=i[n[e]];return i},sr.log=function(t,e,n){var r=sr.widget.Logger;return!(!r||!r.log)&&r.log(t,e,n)},sr.register=function(t,e,n){var r,i,s,o,a,u=sr.env.modules;for(u[t]||(u[t]={versions:[],builds:[]}),r=u[t],i=n.version,s=n.build,o=sr.env.listeners,r.name=t,r.version=i,r.build=s,r.versions.push(i),r.builds.push(s),r.mainClass=e,a=0;a<o.length;a+=1)o[a](r);e?(e.VERSION=i,e.BUILD=s):sr.log(\"mainClass is undefined for module \"+t,\"warn\")},sr.env=sr.env||{modules:[],listeners:[]},sr.env.getVersion=function(t){return sr.env.modules[t]||null},sr.env.parseUA=function(t){var e,n=function(t){var e=0;return parseFloat(t.replace(/\\./g,function(){return 1==e++?\"\":\".\"}))},r=rr,i={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:r&&r.cajaVersion,secure:!1,os:null},s=t||rr&&rr.userAgent,o=ir&&ir.location,a=o&&o.href;return i.secure=a&&0===a.toLowerCase().indexOf(\"https\"),s&&(/windows|win32/i.test(s)?i.os=\"windows\":/macintosh/i.test(s)?i.os=\"macintosh\":/rhino/i.test(s)&&(i.os=\"rhino\"),/KHTML/.test(s)&&(i.webkit=1),e=s.match(/AppleWebKit\\/([^\\s]*)/),e&&e[1]&&(i.webkit=n(e[1]),/ Mobile\\//.test(s)?(i.mobile=\"Apple\",e=s.match(/OS ([^\\s]*)/),e&&e[1]&&(e=n(e[1].replace(\"_\",\".\"))),i.ios=e,i.ipad=i.ipod=i.iphone=0,e=s.match(/iPad|iPod|iPhone/),e&&e[0]&&(i[e[0].toLowerCase()]=i.ios)):(e=s.match(/NokiaN[^\\/]*|Android \\d\\.\\d|webOS\\/\\d\\.\\d/),e&&(i.mobile=e[0]),/webOS/.test(s)&&(i.mobile=\"WebOS\",e=s.match(/webOS\\/([^\\s]*);/),e&&e[1]&&(i.webos=n(e[1]))),/ Android/.test(s)&&(i.mobile=\"Android\",e=s.match(/Android ([^\\s]*);/),e&&e[1]&&(i.android=n(e[1])))),e=s.match(/Chrome\\/([^\\s]*)/),e&&e[1]?i.chrome=n(e[1]):(e=s.match(/AdobeAIR\\/([^\\s]*)/),e&&(i.air=e[0]))),i.webkit||(e=s.match(/Opera[\\s\\/]([^\\s]*)/),e&&e[1]?(i.opera=n(e[1]),e=s.match(/Version\\/([^\\s]*)/),e&&e[1]&&(i.opera=n(e[1])),e=s.match(/Opera Mini[^;]*/),e&&(i.mobile=e[0])):(e=s.match(/MSIE\\s([^;]*)/),e&&e[1]?i.ie=n(e[1]):(e=s.match(/Gecko\\/([^\\s]*)/),e&&(i.gecko=1,e=s.match(/rv:([^\\s\\)]*)/),e&&e[1]&&(i.gecko=n(e[1]))))))),i},sr.env.ua=sr.env.parseUA(),function(){if(sr.namespace(\"util\",\"widget\",\"example\"),\"undefined\"!=typeof YAHOO_config){var t,e=YAHOO_config.listener,n=sr.env.listeners,r=!0;if(e){for(t=0;t<n.length;t++)if(n[t]==e){r=!1;break}r&&n.push(e)}}}(),sr.lang=sr.lang||{},function(){var t=sr.lang,e=Object.prototype,n=\"[object Array]\",r=\"[object Function]\",i=\"[object Object]\",s=[],o={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"/\":\"&#x2F;\",\"`\":\"&#x60;\"},a=[\"toString\",\"valueOf\"],u={isArray:function(t){return e.toString.apply(t)===n},isBoolean:function(t){return\"boolean\"==typeof t},isFunction:function(t){return\"function\"==typeof t||e.toString.apply(t)===r},isNull:function(t){return null===t},isNumber:function(t){return\"number\"==typeof t&&isFinite(t)},isObject:function(e){return e&&(\"object\"==typeof e||t.isFunction(e))||!1},isString:function(t){return\"string\"==typeof t},isUndefined:function(t){return\"undefined\"==typeof t},_IEEnumFix:sr.env.ua.ie?function(n,r){var i,s,o;for(i=0;i<a.length;i+=1)s=a[i],o=r[s],t.isFunction(o)&&o!=e[s]&&(n[s]=o)}:function(){},escapeHTML:function(t){return t.replace(/[&<>\"'\\/`]/g,function(t){return o[t]})},extend:function(n,r,i){if(!r||!n)throw new Error(\"extend failed, please check that all dependencies are included.\");var s,o=function(){};if(o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n,n.superclass=r.prototype,r.prototype.constructor==e.constructor&&(r.prototype.constructor=r),i){for(s in i)t.hasOwnProperty(i,s)&&(n.prototype[s]=i[s]);t._IEEnumFix(n.prototype,i)}},augmentObject:function(e,n){if(!n||!e)throw new Error(\"Absorb failed, verify dependencies.\");var r,i,s=arguments,o=s[2];if(o&&o!==!0)for(r=2;r<s.length;r+=1)e[s[r]]=n[s[r]];else{for(i in n)!o&&i in e||(e[i]=n[i]);t._IEEnumFix(e,n)}return e},augmentProto:function(e,n){if(!n||!e)throw new Error(\"Augment failed, verify dependencies.\");var r,i=[e.prototype,n.prototype];for(r=2;r<arguments.length;r+=1)i.push(arguments[r]);return t.augmentObject.apply(this,i),e},dump:function(e,n){var r,i,s=[],o=\"{...}\",a=\"f(){...}\",u=\", \",h=\" => \";if(!t.isObject(e))return e+\"\";if(e instanceof Date||\"nodeType\"in e&&\"tagName\"in e)return e;if(t.isFunction(e))return a;if(n=t.isNumber(n)?n:3,t.isArray(e)){for(s.push(\"[\"),r=0,i=e.length;r<i;r+=1)t.isObject(e[r])?s.push(n>0?t.dump(e[r],n-1):o):s.push(e[r]),s.push(u);s.length>1&&s.pop(),s.push(\"]\")}else{s.push(\"{\");for(r in e)t.hasOwnProperty(e,r)&&(s.push(r+h),t.isObject(e[r])?s.push(n>0?t.dump(e[r],n-1):o):s.push(e[r]),s.push(u));s.length>1&&s.pop(),s.push(\"}\")}return s.join(\"\")},substitute:function(e,n,r,s){for(var o,a,u,h,c,f,l,d,g,p=[],y=e.length,v=\"dump\",m=\" \",S=\"{\",b=\"}\";(o=e.lastIndexOf(S,y),!(o<0))&&(a=e.indexOf(b,o),!(o+1>a));)l=e.substring(o+1,a),h=l,f=null,u=h.indexOf(m),u>-1&&(f=h.substring(u+1),h=h.substring(0,u)),c=n[h],r&&(c=r(h,c,f)),t.isObject(c)?t.isArray(c)?c=t.dump(c,parseInt(f,10)):(f=f||\"\",d=f.indexOf(v),d>-1&&(f=f.substring(4)),g=c.toString(),c=g===i||d>-1?t.dump(c,parseInt(f,10)):g):t.isString(c)||t.isNumber(c)||(c=\"~-\"+p.length+\"-~\",p[p.length]=l),e=e.substring(0,o)+c+e.substring(a+1),s===!1&&(y=o-1);for(o=p.length-1;o>=0;o-=1)e=e.replace(new RegExp(\"~-\"+o+\"-~\"),\"{\"+p[o]+\"}\",\"g\");return e},trim:function(t){try{return t.replace(/^\\s+|\\s+$/g,\"\")}catch(e){return t}},merge:function(){var e,n={},r=arguments,i=r.length;for(e=0;e<i;e+=1)t.augmentObject(n,r[e],!0);return n},later:function(e,n,r,i,o){e=e||0,n=n||{};var a,u,h=r,c=i;if(t.isString(r)&&(h=n[r]),!h)throw new TypeError(\"method undefined\");return t.isUndefined(i)||t.isArray(c)||(c=[i]),a=function(){h.apply(n,c||s)},u=o?setInterval(a,e):setTimeout(a,e),{interval:o,cancel:function(){this.interval?clearInterval(u):clearTimeout(u)}}},isValue:function(e){return t.isObject(e)||t.isString(e)||t.isNumber(e)||t.isBoolean(e)}};t.hasOwnProperty=e.hasOwnProperty?function(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}:function(e,n){return!t.isUndefined(e[n])&&e.constructor.prototype[n]!==e[n]},u.augmentObject(t,u,!0),sr.util.Lang=t,t.augment=t.augmentProto,sr.augment=t.augmentProto,sr.extend=t.extend}(),sr.register(\"yahoo\",sr,{version:\"2.9.0\",build:\"2800\"});/*! CryptoJS v3.1.2 core-fix.js\n\t * code.google.com/p/crypto-js\n\t * (c) 2009-2013 by Jeff Mott. All rights reserved.\n\t * code.google.com/p/crypto-js/wiki/License\n\t * THIS IS FIX of 'core.js' to fix Hmac issue.\n\t * https://code.google.com/p/crypto-js/issues/detail?id=84\n\t * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js\n\t */\nvar or=or||function(t,e){var n={},r=n.lib={},i=r.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty(\"init\")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty(\"toString\")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=r.WordArray=i.extend({init:function(t,n){t=this.words=t||[],n!=e?this.sigBytes=n:this.sigBytes=4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var o=n[s>>>2]>>>24-s%4*8&255;e[r+s>>>2]|=o<<24-(r+s)%4*8}else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],r=0;r<e;r+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),o=n.enc={},a=o.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var s=e[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join(\"\")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},u=o.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var s=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join(\"\")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},h=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error(\"Malformed UTF-8 data\")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},c=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){\"string\"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=4*o,u=i/a;u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0);var h=u*o,c=t.min(4*h,i);if(h){for(var f=0;f<h;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,h);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),f=(r.Hasher=c.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new f.HMAC.init(t,n).finalize(e)}}}),n.algo={});return n}(Math);!function(t){var e=or,n=e.lib,r=n.Base,i=n.WordArray,e=e.x64={};e.Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=r.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:8*e.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var s=t[r];n.push(s.high),n.push(s.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}})}(),or.lib.Cipher||function(t){var e=or,n=e.lib,r=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,o=e.enc.Base64,a=e.algo.EvpKDF,u=n.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,r){return(\"string\"==typeof n?g:d).encrypt(t,e,n,r)},decrypt:function(e,n,r){return(\"string\"==typeof n?g:d).decrypt(t,e,n,r)}}}});n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=e.mode={},c=function(e,n,r){var i=this._iv;i?this._iv=t:i=this._prevBlock;for(var s=0;s<r;s++)e[n+s]^=i[s]},f=(n.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();f.Encryptor=f.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize;c.call(this,t,e,r),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+r)}}),f.Decryptor=f.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=t.slice(e,e+r);n.decryptBlock(t,e),c.call(this,t,e,r),this._prevBlock=i}}),h=h.CBC=f,f=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,n=n-t.sigBytes%n,r=n<<24|n<<16|n<<8|n,s=[],o=0;o<n;o+=4)s.push(r);n=i.create(s,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:f}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var l=n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?i.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o)},parse:function(t){t=o.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var n=i.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return l.create({ciphertext:t,salt:n})}},d=n.SerializableCipher=r.extend({cfg:r.extend({format:h}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r);return e=i.finalize(e),i=i.cfg,l.create({ciphertext:e,key:n,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return\"string\"==typeof t?e.parse(t,this):t}}),e=(e.kdf={}).OpenSSL={execute:function(t,e,n,r){return r||(r=i.random(8)),t=a.create({keySize:e+n}).compute(t,r),n=i.create(t.words.slice(e),4*n),t.sigBytes=4*e,l.create({key:t,iv:n,salt:r})}},g=n.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:e}),encrypt:function(t,e,n,r){return r=this.cfg.extend(r),n=r.kdf.execute(n,t.keySize,t.ivSize),r.iv=n.iv,t=d.encrypt.call(this,t,e,n.key,r),t.mixIn(n),t},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),n=r.kdf.execute(n,t.keySize,t.ivSize,e.salt),r.iv=n.iv,d.decrypt.call(this,t,e,n.key,r)}})}(),function(){for(var t=or,e=t.lib.BlockCipher,n=t.algo,r=[],i=[],s=[],o=[],a=[],u=[],h=[],c=[],f=[],l=[],d=[],g=0;256>g;g++)d[g]=128>g?g<<1:g<<1^283;for(var p=0,y=0,g=0;256>g;g++){var v=y^y<<1^y<<2^y<<3^y<<4,v=v>>>8^255&v^99;r[p]=v,i[v]=p;var m=d[p],S=d[m],b=d[S],w=257*d[v]^16843008*v;s[p]=w<<24|w>>>8,o[p]=w<<16|w>>>16,a[p]=w<<8|w>>>24,u[p]=w,w=16843009*b^65537*S^257*m^16843008*p,h[v]=w<<24|w>>>8,c[v]=w<<16|w>>>16,f[v]=w<<8|w>>>24,l[v]=w,p?(p=m^d[d[d[b^m]]],y^=d[d[y]]):p=y=1}var E=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes/4,t=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],s=0;s<t;s++)if(s<n)i[s]=e[s];else{var o=i[s-1];s%n?6<n&&4==s%n&&(o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o]):(o=o<<8|o>>>24,o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o],o^=E[s/n|0]<<24),i[s]=i[s-n]^o}for(e=this._invKeySchedule=[],n=0;n<t;n++)s=t-n,o=n%4?i[s]:i[s-4],e[n]=4>n||4>=s?o:h[r[o>>>24]]^c[r[o>>>16&255]]^f[r[o>>>8&255]]^l[r[255&o]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,o,a,u,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,h,c,f,l,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,s,o,a){for(var u=this._nRounds,h=t[e]^n[0],c=t[e+1]^n[1],f=t[e+2]^n[2],l=t[e+3]^n[3],d=4,g=1;g<u;g++)var p=r[h>>>24]^i[c>>>16&255]^s[f>>>8&255]^o[255&l]^n[d++],y=r[c>>>24]^i[f>>>16&255]^s[l>>>8&255]^o[255&h]^n[d++],v=r[f>>>24]^i[l>>>16&255]^s[h>>>8&255]^o[255&c]^n[d++],l=r[l>>>24]^i[h>>>16&255]^s[c>>>8&255]^o[255&f]^n[d++],h=p,c=y,f=v;p=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^n[d++],y=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[d++],v=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^n[d++],l=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^n[d++],t[e]=p,t[e+1]=y,t[e+2]=v,t[e+3]=l},keySize:8});t.AES=e._createHelper(n)}(),function(){function t(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function e(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var n=or,r=n.lib,i=r.WordArray,r=r.BlockCipher,s=n.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=s.DES=r.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;56>n;n++){var r=o[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(t=this._subKeys=[],r=0;16>r;r++){for(var i=t[r]=[],s=u[r],n=0;24>n;n++)i[n/6|0]|=e[(a[n]-1+s)%28]<<31-n%6,i[4+(n/6|0)]|=e[28+(a[n+24]-1+s)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(e=this._invSubKeys=[],n=0;16>n;n++)e[n]=t[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var s=0;16>s;s++){for(var o=i[s],a=this._lBlock,u=this._rBlock,f=0,l=0;8>l;l++)f|=h[l][((u^o[l])&c[l])>>>0];this._lBlock=u,this._rBlock=a^f}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=r._createHelper(f),s=s.TripleDES=r.extend({_doReset:function(){var t=this._key.words;this._des1=f.createEncryptor(i.create(t.slice(0,2))),this._des2=f.createEncryptor(i.create(t.slice(2,4))),this._des3=f.createEncryptor(i.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=r._createHelper(s)}(),function(){var t=or,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp(),t=[];for(var i=0;i<n;i+=3)for(var s=(e[i>>>2]>>>24-8*(i%4)&255)<<16|(e[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|e[i+2>>>2]>>>24-8*((i+2)%4)&255,o=0;4>o&&i+.75*o<n;o++)t.push(r.charAt(s>>>6*(3-o)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join(\"\")},parse:function(t){var n=t.length,r=this._map,i=r.charAt(64);i&&(i=t.indexOf(i),-1!=i&&(n=i));for(var i=[],s=0,o=0;o<n;o++)if(o%4){var a=r.indexOf(t.charAt(o-1))<<2*(o%4),u=r.indexOf(t.charAt(o))>>>6-2*(o%4);i[s>>>2]|=(a|u)<<24-8*(s%4),s++}return e.create(i,s)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),function(t){function e(t,e,n,r,i,s,o){return t=t+(e&n|~e&r)+i+o,(t<<s|t>>>32-s)+e}function n(t,e,n,r,i,s,o){return t=t+(e&r|n&~r)+i+o,(t<<s|t>>>32-s)+e}function r(t,e,n,r,i,s,o){return t=t+(e^n^r)+i+o,(t<<s|t>>>32-s)+e}function i(t,e,n,r,i,s,o){return t=t+(n^(e|~r))+i+o,(t<<s|t>>>32-s)+e}for(var s=or,o=s.lib,a=o.WordArray,u=o.Hasher,o=s.algo,h=[],c=0;64>c;c++)h[c]=4294967296*t.abs(t.sin(c+1))|0;o=o.MD5=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var o=0;16>o;o++){var a=s+o,u=t[a];t[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var o=this._hash.words,a=t[s+0],u=t[s+1],c=t[s+2],f=t[s+3],l=t[s+4],d=t[s+5],g=t[s+6],p=t[s+7],y=t[s+8],v=t[s+9],m=t[s+10],S=t[s+11],b=t[s+12],w=t[s+13],E=t[s+14],_=t[s+15],x=o[0],A=o[1],F=o[2],P=o[3],x=e(x,A,F,P,a,7,h[0]),P=e(P,x,A,F,u,12,h[1]),F=e(F,P,x,A,c,17,h[2]),A=e(A,F,P,x,f,22,h[3]),x=e(x,A,F,P,l,7,h[4]),P=e(P,x,A,F,d,12,h[5]),F=e(F,P,x,A,g,17,h[6]),A=e(A,F,P,x,p,22,h[7]),x=e(x,A,F,P,y,7,h[8]),P=e(P,x,A,F,v,12,h[9]),F=e(F,P,x,A,m,17,h[10]),A=e(A,F,P,x,S,22,h[11]),x=e(x,A,F,P,b,7,h[12]),P=e(P,x,A,F,w,12,h[13]),F=e(F,P,x,A,E,17,h[14]),A=e(A,F,P,x,_,22,h[15]),x=n(x,A,F,P,u,5,h[16]),P=n(P,x,A,F,g,9,h[17]),F=n(F,P,x,A,S,14,h[18]),A=n(A,F,P,x,a,20,h[19]),x=n(x,A,F,P,d,5,h[20]),P=n(P,x,A,F,m,9,h[21]),F=n(F,P,x,A,_,14,h[22]),A=n(A,F,P,x,l,20,h[23]),x=n(x,A,F,P,v,5,h[24]),P=n(P,x,A,F,E,9,h[25]),F=n(F,P,x,A,f,14,h[26]),A=n(A,F,P,x,y,20,h[27]),x=n(x,A,F,P,w,5,h[28]),P=n(P,x,A,F,c,9,h[29]),F=n(F,P,x,A,p,14,h[30]),A=n(A,F,P,x,b,20,h[31]),x=r(x,A,F,P,d,4,h[32]),P=r(P,x,A,F,y,11,h[33]),F=r(F,P,x,A,S,16,h[34]),A=r(A,F,P,x,E,23,h[35]),x=r(x,A,F,P,u,4,h[36]),P=r(P,x,A,F,l,11,h[37]),F=r(F,P,x,A,p,16,h[38]),A=r(A,F,P,x,m,23,h[39]),x=r(x,A,F,P,w,4,h[40]),P=r(P,x,A,F,a,11,h[41]),F=r(F,P,x,A,f,16,h[42]),A=r(A,F,P,x,g,23,h[43]),x=r(x,A,F,P,v,4,h[44]),P=r(P,x,A,F,b,11,h[45]),F=r(F,P,x,A,_,16,h[46]),A=r(A,F,P,x,c,23,h[47]),x=i(x,A,F,P,a,6,h[48]),P=i(P,x,A,F,p,10,h[49]),F=i(F,P,x,A,E,15,h[50]),A=i(A,F,P,x,d,21,h[51]),x=i(x,A,F,P,b,6,h[52]),P=i(P,x,A,F,f,10,h[53]),F=i(F,P,x,A,m,15,h[54]),A=i(A,F,P,x,u,21,h[55]),x=i(x,A,F,P,y,6,h[56]),P=i(P,x,A,F,_,10,h[57]),F=i(F,P,x,A,g,15,h[58]),A=i(A,F,P,x,w,21,h[59]),x=i(x,A,F,P,l,6,h[60]),P=i(P,x,A,F,S,10,h[61]),F=i(F,P,x,A,c,15,h[62]),A=i(A,F,P,x,v,21,h[63]);o[0]=o[0]+x|0,o[1]=o[1]+A|0,o[2]=o[2]+F|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var s=t.floor(r/4294967296);for(n[(i+64>>>9<<4)+15]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[(i+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(n.length+1),this._process(),e=this._hash,n=e.words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var t=u.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=u._createHelper(o),s.HmacMD5=u._createHmacHelper(o)}(Math),function(){var t=or,e=t.lib,n=e.WordArray,r=e.Hasher,i=[],e=t.algo.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],s=n[1],o=n[2],a=n[3],u=n[4],h=0;80>h;h++){if(16>h)i[h]=0|t[e+h];else{var c=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=c<<1|c>>>31}c=(r<<5|r>>>27)+u+i[h],c=20>h?c+((s&o|~s&a)+1518500249):40>h?c+((s^o^a)+1859775393):60>h?c+((s&o|s&a|o&a)-1894007588):c+((s^o^a)-899497514),u=a,a=o,o=s<<30|s>>>2,s=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+s|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),e[(r+64>>>9<<4)+15]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=r._createHelper(e),t.HmacSHA1=r._createHmacHelper(e)}(),function(t){for(var e=or,n=e.lib,r=n.WordArray,i=n.Hasher,n=e.algo,s=[],o=[],a=function(t){return 4294967296*(t-(0|t))|0},u=2,h=0;64>h;){var c;t:{c=u;for(var f=t.sqrt(c),l=2;l<=f;l++)if(!(c%l)){c=!1;break t}c=!0}c&&(8>h&&(s[h]=a(t.pow(u,.5))),o[h]=a(t.pow(u,1/3)),h++),u++}var d=[],n=n.SHA256=i.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],h=n[5],c=n[6],f=n[7],l=0;64>l;l++){if(16>l)d[l]=0|t[e+l];else{var g=d[l-15],p=d[l-2];d[l]=((g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3)+d[l-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+d[l-16]}g=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&h^~u&c)+o[l]+d[l],p=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&s^i&s),f=c,c=h,h=u,u=a+g|0,a=s,s=i,i=r,r=g+p|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+h|0,n[6]=n[6]+c|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=t.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(n),e.HmacSHA256=i._createHmacHelper(n)}(Math),function(){var t=or,e=t.lib.WordArray,n=t.algo,r=n.SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=r._createHelper(n),t.HmacSHA224=r._createHmacHelper(n)}(),function(){function t(){return i.create.apply(i,arguments)}for(var e=or,n=e.lib.Hasher,r=e.x64,i=r.Word,s=r.WordArray,r=e.algo,o=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=t();r=r.SHA512=n.extend({_doReset:function(){this._hash=new s.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],u=n[3],h=n[4],c=n[5],f=n[6],n=n[7],l=r.high,d=r.low,g=i.high,p=i.low,y=s.high,v=s.low,m=u.high,S=u.low,b=h.high,w=h.low,E=c.high,_=c.low,x=f.high,A=f.low,F=n.high,P=n.low,O=l,C=d,T=g,D=p,R=y,j=v,H=m,I=S,k=b,B=w,N=E,V=_,M=x,K=A,L=F,U=P,q=0;80>q;q++){var W=a[q];if(16>q)var J=W.high=0|t[e+2*q],z=W.low=0|t[e+2*q+1];else{var J=a[q-15],z=J.high,Y=J.low,J=(z>>>1|Y<<31)^(z>>>8|Y<<24)^z>>>7,Y=(Y>>>1|z<<31)^(Y>>>8|z<<24)^(Y>>>7|z<<25),G=a[q-2],z=G.high,X=G.low,G=(z>>>19|X<<13)^(z<<3|X>>>29)^z>>>6,X=(X>>>19|z<<13)^(X<<3|z>>>29)^(X>>>6|z<<26),z=a[q-7],$=z.high,Q=a[q-16],Z=Q.high,Q=Q.low,z=Y+z.low,J=J+$+(z>>>0<Y>>>0?1:0),z=z+X,J=J+G+(z>>>0<X>>>0?1:0),z=z+Q,J=J+Z+(z>>>0<Q>>>0?1:0);W.high=J,W.low=z}var $=k&N^~k&M,Q=B&V^~B&K,W=O&T^O&R^T&R,tt=C&D^C&j^D&j,Y=(O>>>28|C<<4)^(O<<30|C>>>2)^(O<<25|C>>>7),G=(C>>>28|O<<4)^(C<<30|O>>>2)^(C<<25|O>>>7),X=o[q],et=X.high,nt=X.low,X=U+((B>>>14|k<<18)^(B>>>18|k<<14)^(B<<23|k>>>9)),Z=L+((k>>>14|B<<18)^(k>>>18|B<<14)^(k<<23|B>>>9))+(X>>>0<U>>>0?1:0),X=X+Q,Z=Z+$+(X>>>0<Q>>>0?1:0),X=X+nt,Z=Z+et+(X>>>0<nt>>>0?1:0),X=X+z,Z=Z+J+(X>>>0<z>>>0?1:0),z=G+tt,W=Y+W+(z>>>0<G>>>0?1:0),L=M,U=K,M=N,K=V,N=k,V=B,B=I+X|0,k=H+Z+(B>>>0<I>>>0?1:0)|0,H=R,I=j,R=T,j=D,T=O,D=C,C=X+z|0,O=Z+W+(C>>>0<X>>>0?1:0)|0}d=r.low=d+C,r.high=l+O+(d>>>0<C>>>0?1:0),p=i.low=p+D,i.high=g+T+(p>>>0<D>>>0?1:0),v=s.low=v+j,s.high=y+R+(v>>>0<j>>>0?1:0),S=u.low=S+I,u.high=m+H+(S>>>0<I>>>0?1:0),w=h.low=w+B,h.high=b+k+(w>>>0<B>>>0?1:0),_=c.low=_+V,c.high=E+N+(_>>>0<V>>>0?1:0),A=f.low=A+K,f.high=x+M+(A>>>0<K>>>0?1:0),P=n.low=P+U,n.high=F+L+(P>>>0<U>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[(r+128>>>10<<5)+30]=Math.floor(n/4294967296),e[(r+128>>>10<<5)+31]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=n._createHelper(r),e.HmacSHA512=n._createHmacHelper(r)}(),function(){var t=or,e=t.x64,n=e.Word,r=e.WordArray,e=t.algo,i=e.SHA512,e=e.SHA384=i.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=i._createHelper(e),t.HmacSHA384=i._createHmacHelper(e)}(),function(){var t=or,e=t.lib,n=e.WordArray,r=e.Hasher,e=t.algo,i=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=n.create([0,1518500249,1859775393,2400959708,2840853838]),h=n.create([1352829926,1548603684,1836072691,2053994217,0]),e=e.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;16>n;n++){var r=e+n,c=t[r];\nt[r]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var f,l,d,g,p,y,v,m,S,b,r=this._hash.words,c=u.words,w=h.words,E=i.words,_=s.words,x=o.words,A=a.words;y=f=r[0],v=l=r[1],m=d=r[2],S=g=r[3],b=p=r[4];for(var F,n=0;80>n;n+=1)F=f+t[e+E[n]]|0,F=16>n?F+((l^d^g)+c[0]):32>n?F+((l&d|~l&g)+c[1]):48>n?F+(((l|~d)^g)+c[2]):64>n?F+((l&g|d&~g)+c[3]):F+((l^(d|~g))+c[4]),F|=0,F=F<<x[n]|F>>>32-x[n],F=F+p|0,f=p,p=g,g=d<<10|d>>>22,d=l,l=F,F=y+t[e+_[n]]|0,F=16>n?F+((v^(m|~S))+w[0]):32>n?F+((v&S|m&~S)+w[1]):48>n?F+(((v|~m)^S)+w[2]):64>n?F+((v&m|~v&S)+w[3]):F+((v^m^S)+w[4]),F|=0,F=F<<A[n]|F>>>32-A[n],F=F+b|0,y=b,b=S,S=m<<10|m>>>22,m=v,v=F;F=r[1]+d+S|0,r[1]=r[2]+g+b|0,r[2]=r[3]+p+y|0,r[3]=r[4]+f+v|0,r[4]=r[0]+l+m|0,r[0]=F},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;for(e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process(),t=this._hash,e=t.words,n=0;5>n;n++)r=e[n],e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.RIPEMD160=r._createHelper(e),t.HmacRIPEMD160=r._createHmacHelper(e)}(Math),function(){var t=or,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,\"string\"==typeof n&&(n=e.parse(n));var r=t.blockSize,i=4*r;n.sigBytes>i&&(n=t.finalize(n)),n.clamp();for(var s=this._oKey=n.clone(),o=this._iKey=n.clone(),a=s.words,u=o.words,h=0;h<r;h++)a[h]^=1549556828,u[h]^=909522486;s.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t=or,e=t.lib,n=e.Base,r=e.WordArray,e=t.algo,i=e.HMAC,s=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,s=i.create(n.hasher,t),o=r.create(),a=r.create([1]),u=o.words,h=a.words,c=n.keySize,n=n.iterations;u.length<c;){var f=s.update(e).finalize(a);s.reset();for(var l=f.words,d=l.length,g=f,p=1;p<n;p++){g=s.finalize(g),s.reset();for(var y=g.words,v=0;v<d;v++)l[v]^=y[v]}o.concat(f),h[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(t,e,n){return s.create(n).compute(t,e)}}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n\t */\nvar ar,ur=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",hr=\"=\",cr=0xdeadbeefcafe,fr=15715070==(16777215&cr);fr&&\"Microsoft Internet Explorer\"==rr.appName?(o.prototype.am=h,ar=30):fr&&\"Netscape\"!=rr.appName?(o.prototype.am=u,ar=26):(o.prototype.am=c,ar=28),o.prototype.DB=ar,o.prototype.DM=(1<<ar)-1,o.prototype.DV=1<<ar;var lr=52;o.prototype.FV=Math.pow(2,lr),o.prototype.F1=lr-ar,o.prototype.F2=2*ar-lr;var dr,gr,pr=\"0123456789abcdefghijklmnopqrstuvwxyz\",yr=new Array;for(dr=\"0\".charCodeAt(0),gr=0;gr<=9;++gr)yr[dr++]=gr;for(dr=\"a\".charCodeAt(0),gr=10;gr<36;++gr)yr[dr++]=gr;for(dr=\"A\".charCodeAt(0),gr=10;gr<36;++gr)yr[dr++]=gr;j.prototype.convert=H,j.prototype.revert=I,j.prototype.reduce=k,j.prototype.mulTo=B,j.prototype.sqrTo=N,M.prototype.convert=K,M.prototype.revert=L,M.prototype.reduce=U,M.prototype.mulTo=W,M.prototype.sqrTo=q,o.prototype.copyTo=d,o.prototype.fromInt=g,o.prototype.fromString=y,o.prototype.clamp=v,o.prototype.dlShiftTo=x,o.prototype.drShiftTo=A,o.prototype.lShiftTo=F,o.prototype.rShiftTo=P,o.prototype.subTo=O,o.prototype.multiplyTo=C,o.prototype.squareTo=T,o.prototype.divRemTo=D,o.prototype.invDigit=V,o.prototype.isEven=J,o.prototype.exp=z,o.prototype.toString=m,o.prototype.negate=S,o.prototype.abs=b,o.prototype.compareTo=w,o.prototype.bitLength=_,o.prototype.mod=R,o.prototype.modPowInt=Y,o.ZERO=p(0),o.ONE=p(1),Vt.prototype.convert=Mt,Vt.prototype.revert=Mt,Vt.prototype.mulTo=Kt,Vt.prototype.sqrTo=Lt,Jt.prototype.convert=zt,Jt.prototype.revert=Yt,Jt.prototype.reduce=Gt,Jt.prototype.mulTo=$t,Jt.prototype.sqrTo=Xt;var vr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],mr=(1<<26)/vr[vr.length-1];o.prototype.chunkSize=Z,o.prototype.toRadix=et,o.prototype.fromRadix=nt,o.prototype.fromNumber=rt,o.prototype.bitwiseTo=ut,o.prototype.changeBit=At,o.prototype.addTo=Ct,o.prototype.dMultiply=Bt,o.prototype.dAddOffset=Nt,o.prototype.multiplyLowerTo=qt,o.prototype.multiplyUpperTo=Wt,o.prototype.modInt=te,o.prototype.millerRabin=re,o.prototype.clone=G,o.prototype.intValue=X,o.prototype.byteValue=$,o.prototype.shortValue=Q,o.prototype.signum=tt,o.prototype.toByteArray=it,o.prototype.equals=st,o.prototype.min=ot,o.prototype.max=at,o.prototype.and=ct,o.prototype.or=lt,o.prototype.xor=gt,o.prototype.andNot=yt,o.prototype.not=vt,o.prototype.shiftLeft=mt,o.prototype.shiftRight=St,o.prototype.getLowestSetBit=wt,o.prototype.bitCount=_t,o.prototype.testBit=xt,o.prototype.setBit=Ft,o.prototype.clearBit=Pt,o.prototype.flipBit=Ot,o.prototype.add=Tt,o.prototype.subtract=Dt,o.prototype.multiply=Rt,o.prototype.divide=Ht,o.prototype.remainder=It,o.prototype.divideAndRemainder=kt,o.prototype.modPow=Qt,o.prototype.modInverse=ee,o.prototype.pow=Ut,o.prototype.gcd=Zt,o.prototype.isProbablePrime=ne,o.prototype.square=jt,ie.prototype.init=se,ie.prototype.next=oe;var Sr,br,wr,Er=256;if(null==br){br=new Array,wr=0;var _r;if(ir.crypto&&ir.crypto.getRandomValues){var xr=new Uint8Array(32);for(ir.crypto.getRandomValues(xr),_r=0;_r<32;++_r)br[wr++]=xr[_r]}if(\"Netscape\"==rr.appName&&rr.appVersion<\"5\"&&ir.crypto){var Ar=ir.crypto.random(32);for(_r=0;_r<Ar.length;++_r)br[wr++]=255&Ar.charCodeAt(_r)}for(;wr<Er;)_r=Math.floor(65536*Math.random()),br[wr++]=_r>>>8,br[wr++]=255&_r;wr=0,he()}le.prototype.nextBytes=fe;var Fr=20;ve.prototype.doPublic=Se,ve.prototype.setPublic=me,ve.prototype.encrypt=be,ve.prototype.encryptOAEP=we,ve.prototype.type=\"RSA\";var Fr=20;ve.prototype.doPrivate=Oe,ve.prototype.setPrivate=Ae,ve.prototype.setPrivateEx=Fe,ve.prototype.generate=Pe,ve.prototype.decrypt=Ce,ve.prototype.decryptOAEP=Te,De.prototype.equals=Re,De.prototype.toBigInteger=je,De.prototype.negate=He,De.prototype.add=Ie,De.prototype.subtract=ke,De.prototype.multiply=Be,De.prototype.square=Ne,De.prototype.divide=Ve,Me.prototype.getX=Ke,Me.prototype.getY=Le,Me.prototype.equals=Ue,Me.prototype.isInfinity=qe,Me.prototype.negate=We,Me.prototype.add=Je,Me.prototype.twice=ze,Me.prototype.multiply=Ye,Me.prototype.multiplyTwo=Ge,Xe.prototype.getQ=$e,Xe.prototype.getA=Qe,Xe.prototype.getB=Ze,Xe.prototype.equals=tn,Xe.prototype.getInfinity=en,Xe.prototype.fromBigInteger=nn,Xe.prototype.decodePointHex=rn,/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib\n\t */\nDe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Me.prototype.getEncoded=function(t){var e=function(t,e){var n=t.toByteArrayUnsigned();if(e<n.length)n=n.slice(n.length-e);else for(;e>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=e(n,32);return t?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(r,32))),i},Me.decodeFrom=function(t,e){var n=(e[0],e.length-1),r=e.slice(1,1+n/2),i=e.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var s=new o(r),a=new o(i);return new Me(t,t.fromBigInteger(s),t.fromBigInteger(a))},Me.decodeFromHex=function(t,e){var n=(e.substr(0,2),e.length-2),r=e.substr(2,n/2),i=e.substr(2+n/2,n/2),s=new o(r,16),a=new o(i,16);return new Me(t,t.fromBigInteger(s),t.fromBigInteger(a))},Me.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),n=t.y.subtract(this.y),r=n.divide(e),i=r.square().subtract(this.x).subtract(t.x),s=r.multiply(this.x.subtract(i)).subtract(this.y);return new Me(this.curve,i,s)},Me.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(o.valueOf(2)),e=this.curve.fromBigInteger(o.valueOf(3)),n=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),r=n.square().subtract(this.x.multiply(t)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new Me(this.curve,r,i)},Me.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new o(\"3\")),i=this.negate(),s=this;for(e=r.bitLength()-2;e>0;--e){s=s.twice();var a=r.testBit(e),u=n.testBit(e);a!=u&&(s=s.add2D(a?this:i))}return s},Me.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=e.multiply(e).mod(i),o=t.multiply(t).multiply(t).add(n.multiply(t)).add(r).mod(i);return s.equals(o)},Me.prototype.toString=function(){return\"(\"+this.getX().toBigInteger().toString()+\",\"+this.getY().toBigInteger().toString()+\")\"},Me.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error(\"Point is at infinity.\");var e=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(e.compareTo(o.ONE)<0||e.compareTo(t.subtract(o.ONE))>0)throw new Error(\"x coordinate out of bounds\");if(n.compareTo(o.ONE)<0||n.compareTo(t.subtract(o.ONE))>0)throw new Error(\"y coordinate out of bounds\");if(!this.isOnCurve())throw new Error(\"Point is not on the curve.\");if(this.multiply(t).isInfinity())throw new Error(\"Point is not a scalar multiple of G.\");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval\n\t */\nvar Pr=function(){function t(t,e,n){return e?o[e]:String.fromCharCode(parseInt(n,16))}var e=\"(?:-?\\\\b(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\\\b)\",n='(?:[^\\\\0-\\\\x08\\\\x0a-\\\\x1f\"\\\\\\\\]|\\\\\\\\(?:[\"/\\\\\\\\bfnrt]|u[0-9A-Fa-f]{4}))',r='(?:\"'+n+'*\")',i=new RegExp(\"(?:false|true|null|[\\\\{\\\\}\\\\[\\\\]]|\"+e+\"|\"+r+\")\",\"g\"),s=new RegExp(\"\\\\\\\\(?:([^u])|u(.{4}))\",\"g\"),o={'\"':'\"',\"/\":\"/\",\"\\\\\":\"\\\\\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\"},a=new String(\"\"),u=\"\\\\\",h=({\"{\":Object,\"[\":Array},Object.hasOwnProperty);return function(e,n){var r,o=e.match(i),c=o[0],f=!1;\"{\"===c?r={}:\"[\"===c?r=[]:(r=[],f=!0);for(var l,d=[r],g=1-f,p=o.length;g<p;++g){c=o[g];var y;switch(c.charCodeAt(0)){default:y=d[0],y[l||y.length]=+c,l=void 0;break;case 34:if(c=c.substring(1,c.length-1),c.indexOf(u)!==-1&&(c=c.replace(s,t)),y=d[0],!l){if(!(y instanceof Array)){l=c||a;break}l=y.length}y[l]=c,l=void 0;break;case 91:y=d[0],d.unshift(y[l||y.length]=[]),l=void 0;break;case 93:d.shift();break;case 102:y=d[0],y[l||y.length]=!1,l=void 0;break;case 110:y=d[0],y[l||y.length]=null,l=void 0;break;case 116:y=d[0],y[l||y.length]=!0,l=void 0;break;case 123:y=d[0],d.unshift(y[l||y.length]={}),l=void 0;break;case 125:d.shift()}}if(f){if(1!==d.length)throw new Error;r=r[0]}else if(d.length)throw new Error;if(n){var v=function(t,e){var r=t[e];if(r&&\"object\"==typeof r){var i=null;for(var s in r)if(h.call(r,s)&&r!==t){var o=v(r,s);void 0!==o?r[s]=o:(i||(i=[]),i.push(s))}if(i)for(var a=i.length;--a>=0;)delete r[i[a]]}return n.call(t,e,r)};r=v({\"\":r},\"\")}return r}}();/*! asn1-1.0.10.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.asn1&&Cr.asn1||(Cr.asn1={}),Cr.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e=\"0\"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if(\"-\"!=e.substr(0,1))e.length%2==1?e=\"0\"+e:e.match(/^[0-7]/)||(e=\"00\"+e);else{var n=e.substr(1),r=n.length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var i=\"\",s=0;s<r;s++)i+=\"f\";var a=new o(i,16),u=a.xor(t).add(o.ONE);e=u.toString(16).replace(/^-/,\"\")}return e},this.getPEMStringFromHex=function(t,e){var n=En(t),r=n.replace(/(.{64})/g,\"$1\\r\\n\");return r=r.replace(/\\r\\n$/,\"\"),\"-----BEGIN \"+e+\"-----\\r\\n\"+r+\"\\r\\n-----END \"+e+\"-----\\r\\n\"},this.newObject=function(t){var e=Cr.asn1,n=Object.keys(t);if(1!=n.length)throw\"key of param shall be only one.\";var r=n[0];if(\":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:\".indexOf(\":\"+r+\":\")==-1)throw\"undefined key: \"+r;if(\"bool\"==r)return new e.DERBoolean(t[r]);if(\"int\"==r)return new e.DERInteger(t[r]);if(\"bitstr\"==r)return new e.DERBitString(t[r]);if(\"octstr\"==r)return new e.DEROctetString(t[r]);if(\"null\"==r)return new e.DERNull(t[r]);if(\"oid\"==r)return new e.DERObjectIdentifier(t[r]);if(\"enum\"==r)return new e.DEREnumerated(t[r]);if(\"utf8str\"==r)return new e.DERUTF8String(t[r]);if(\"numstr\"==r)return new e.DERNumericString(t[r]);if(\"prnstr\"==r)return new e.DERPrintableString(t[r]);if(\"telstr\"==r)return new e.DERTeletexString(t[r]);if(\"ia5str\"==r)return new e.DERIA5String(t[r]);if(\"utctime\"==r)return new e.DERUTCTime(t[r]);if(\"gentime\"==r)return new e.DERGeneralizedTime(t[r]);if(\"seq\"==r){for(var i=t[r],s=[],o=0;o<i.length;o++){var a=e.ASN1Util.newObject(i[o]);s.push(a)}return new e.DERSequence({array:s})}if(\"set\"==r){for(var i=t[r],s=[],o=0;o<i.length;o++){var a=e.ASN1Util.newObject(i[o]);s.push(a)}return new e.DERSet({array:s})}if(\"tag\"==r){var u=t[r];if(\"[object Array]\"===Object.prototype.toString.call(u)&&3==u.length){var h=e.ASN1Util.newObject(u[2]);return new e.DERTaggedObject({tag:u[0],explicit:u[1],obj:h})}var c={};if(void 0!==u.explicit&&(c.explicit=u.explicit),void 0!==u.tag&&(c.tag=u.tag),void 0===u.obj)throw\"obj shall be specified for 'tag'.\";return c.obj=e.ASN1Util.newObject(u.obj),new e.DERTaggedObject(c)}},this.jsonToASN1HEX=function(t){var e=this.newObject(t);return e.getEncodedHex()}},Cr.asn1.ASN1Util.oidHexToInt=function(t){for(var e=\"\",n=parseInt(t.substr(0,2),16),r=Math.floor(n/40),i=n%40,e=r+\".\"+i,s=\"\",a=2;a<t.length;a+=2){var u=parseInt(t.substr(a,2),16),h=(\"00000000\"+u.toString(2)).slice(-8);if(s+=h.substr(1,7),\"0\"==h.substr(0,1)){var c=new o(s,2);e=e+\".\"+c.toString(10),s=\"\"}}return e},Cr.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e=\"0\"+e),e},n=function(t){var n=\"\",r=new o(t,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var a=\"\",u=0;u<s;u++)a+=\"0\";i=a+i;for(var u=0;u<i.length-1;u+=7){var h=i.substr(u,7);u!=i.length-7&&(h=\"1\"+h),n+=e(parseInt(h,2))}return n};if(!t.match(/^[0-9.]+$/))throw\"malformed oid string: \"+t;var r=\"\",i=t.split(\".\"),s=40*parseInt(i[0])+parseInt(i[1]);r+=e(s),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},Cr.asn1.ASN1Object=function(){var t=\"\";this.getLengthHexFromValue=function(){if(\"undefined\"==typeof this.hV||null==this.hV)throw\"this.hV is null or undefined.\";if(this.hV.length%2==1)throw\"value hex must be even length: n=\"+t.length+\",v=\"+this.hV;var e=this.hV.length/2,n=e.toString(16);if(n.length%2==1&&(n=\"0\"+n),e<128)return n;var r=n.length/2;if(r>15)throw\"ASN.1 length too long to represent by 8x: n = \"+e.toString(16);var i=128+r;return i.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return\"\"}},Cr.asn1.DERAbstractString=function(t){Cr.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=un(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},\"undefined\"!=typeof t&&(\"string\"==typeof t?this.setString(t):\"undefined\"!=typeof t.str?this.setString(t.str):\"undefined\"!=typeof t.hex&&this.setStringHex(t.hex))},sr.lang.extend(Cr.asn1.DERAbstractString,Cr.asn1.ASN1Object),Cr.asn1.DERAbstractTime=function(t){Cr.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),s=String(i.getFullYear());\"utc\"==e&&(s=s.substr(2,2));var o=r(String(i.getMonth()+1),2),a=r(String(i.getDate()),2),u=r(String(i.getHours()),2),h=r(String(i.getMinutes()),2),c=r(String(i.getSeconds()),2),f=s+o+a+u+h+c;if(n===!0){var l=i.getMilliseconds();if(0!=l){var d=r(String(l),3);d=d.replace(/[0]+$/,\"\"),f=f+\".\"+d}}return f+\"Z\"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join(\"0\")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=un(t)},this.setByDateValue=function(t,e,n,r,i,s){var o=new Date(Date.UTC(t,e-1,n,r,i,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},sr.lang.extend(Cr.asn1.DERAbstractTime,Cr.asn1.ASN1Object),Cr.asn1.DERAbstractStructured=function(t){Cr.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,\"undefined\"!=typeof t&&\"undefined\"!=typeof t.array&&(this.asn1Array=t.array)},sr.lang.extend(Cr.asn1.DERAbstractStructured,Cr.asn1.ASN1Object),Cr.asn1.DERBoolean=function(){Cr.asn1.DERBoolean.superclass.constructor.call(this),this.hT=\"01\",this.hTLV=\"0101ff\"},sr.lang.extend(Cr.asn1.DERBoolean,Cr.asn1.ASN1Object),Cr.asn1.DERInteger=function(t){Cr.asn1.DERInteger.superclass.constructor.call(this),this.hT=\"02\",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Cr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new o(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.bigint?this.setByBigInteger(t.bigint):\"undefined\"!=typeof t.int?this.setByInteger(t.int):\"number\"==typeof t?this.setByInteger(t):\"undefined\"!=typeof t.hex&&this.setValueHex(t.hex))},sr.lang.extend(Cr.asn1.DERInteger,Cr.asn1.ASN1Object),Cr.asn1.DERBitString=function(t){Cr.asn1.DERBitString.superclass.constructor.call(this),this.hT=\"03\",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw\"unused bits shall be from 0 to 7: u = \"+t;var n=\"0\"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,\"\");var e=8-t.length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+=\"0\";for(var r=\"\",n=0;n<t.length-1;n+=8){var i=t.substr(n,8),s=parseInt(i,2).toString(16);1==s.length&&(s=\"0\"+s),r+=s}this.hTLV=null,this.isModified=!0,this.hV=\"0\"+e+r},this.setByBooleanArray=function(t){for(var e=\"\",n=0;n<t.length;n++)e+=1==t[n]?\"1\":\"0\";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},\"undefined\"!=typeof t&&(\"string\"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):\"undefined\"!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):\"undefined\"!=typeof t.bin?this.setByBinaryString(t.bin):\"undefined\"!=typeof t.array&&this.setByBooleanArray(t.array))},sr.lang.extend(Cr.asn1.DERBitString,Cr.asn1.ASN1Object),Cr.asn1.DEROctetString=function(t){Cr.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT=\"04\"},sr.lang.extend(Cr.asn1.DEROctetString,Cr.asn1.DERAbstractString),Cr.asn1.DERNull=function(){Cr.asn1.DERNull.superclass.constructor.call(this),this.hT=\"05\",this.hTLV=\"0500\"},sr.lang.extend(Cr.asn1.DERNull,Cr.asn1.ASN1Object),Cr.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e=\"0\"+e),e},n=function(t){var n=\"\",r=new o(t,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var a=\"\",u=0;u<s;u++)a+=\"0\";i=a+i;for(var u=0;u<i.length-1;u+=7){var h=i.substr(u,7);u!=i.length-7&&(h=\"1\"+h),n+=e(parseInt(h,2))}return n};Cr.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT=\"06\",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw\"malformed oid string: \"+t;var r=\"\",i=t.split(\".\"),s=40*parseInt(i[0])+parseInt(i[1]);r+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){if(\"undefined\"==typeof Cr.asn1.x509.OID.name2oidList[t])throw\"DERObjectIdentifier oidName undefined: \"+t;var e=Cr.asn1.x509.OID.name2oidList[t];this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},\"undefined\"!=typeof t&&(\"string\"==typeof t&&t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):void 0!==Cr.asn1.x509.OID.name2oidList[t]?this.setValueOidString(Cr.asn1.x509.OID.name2oidList[t]):\"undefined\"!=typeof t.oid?this.setValueOidString(t.oid):\"undefined\"!=typeof t.hex?this.setValueHex(t.hex):\"undefined\"!=typeof t.name&&this.setValueName(t.name))},sr.lang.extend(Cr.asn1.DERObjectIdentifier,Cr.asn1.ASN1Object),Cr.asn1.DEREnumerated=function(t){Cr.asn1.DEREnumerated.superclass.constructor.call(this),this.hT=\"0a\",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Cr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new o(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.int?this.setByInteger(t.int):\"number\"==typeof t?this.setByInteger(t):\"undefined\"!=typeof t.hex&&this.setValueHex(t.hex))},sr.lang.extend(Cr.asn1.DEREnumerated,Cr.asn1.ASN1Object),Cr.asn1.DERUTF8String=function(t){Cr.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT=\"0c\"},sr.lang.extend(Cr.asn1.DERUTF8String,Cr.asn1.DERAbstractString),Cr.asn1.DERNumericString=function(t){Cr.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT=\"12\"},sr.lang.extend(Cr.asn1.DERNumericString,Cr.asn1.DERAbstractString),Cr.asn1.DERPrintableString=function(t){Cr.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT=\"13\"},sr.lang.extend(Cr.asn1.DERPrintableString,Cr.asn1.DERAbstractString),Cr.asn1.DERTeletexString=function(t){Cr.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT=\"14\"},sr.lang.extend(Cr.asn1.DERTeletexString,Cr.asn1.DERAbstractString),Cr.asn1.DERIA5String=function(t){Cr.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT=\"16\"},sr.lang.extend(Cr.asn1.DERIA5String,Cr.asn1.DERAbstractString),Cr.asn1.DERUTCTime=function(t){Cr.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT=\"17\",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,\"utc\"),this.hV=un(this.s)},this.getFreshValueHex=function(){return\"undefined\"==typeof this.date&&\"undefined\"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,\"utc\"),this.hV=un(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):\"string\"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},sr.lang.extend(Cr.asn1.DERUTCTime,Cr.asn1.DERAbstractTime),Cr.asn1.DERGeneralizedTime=function(t){Cr.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT=\"18\",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,\"gen\",this.withMillis),this.hV=un(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,\"gen\",this.withMillis),this.hV=un(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):\"string\"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),t.millis===!0&&(this.withMillis=!0))},sr.lang.extend(Cr.asn1.DERGeneralizedTime,Cr.asn1.DERAbstractTime),Cr.asn1.DERSequence=function(t){Cr.asn1.DERSequence.superclass.constructor.call(this,t),this.hT=\"30\",this.getFreshValueHex=function(){for(var t=\"\",e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t+=n.getEncodedHex()}return this.hV=t,this.hV}},sr.lang.extend(Cr.asn1.DERSequence,Cr.asn1.DERAbstractStructured),Cr.asn1.DERSet=function(t){Cr.asn1.DERSet.superclass.constructor.call(this,t),this.hT=\"31\",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(\"\"),this.hV},\"undefined\"!=typeof t&&\"undefined\"!=typeof t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},sr.lang.extend(Cr.asn1.DERSet,Cr.asn1.DERAbstractStructured),Cr.asn1.DERTaggedObject=function(t){Cr.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT=\"a0\",this.hV=\"\",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.tag&&(this.hT=t.tag),\"undefined\"!=typeof t.explicit&&(this.isExplicit=t.explicit),\"undefined\"!=typeof t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},sr.lang.extend(Cr.asn1.DERTaggedObject,Cr.asn1.ASN1Object);/*! asn1hex-1.1.6.js (c) 2012-2015 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\nvar Or=new function(){this.getByteLengthOfL_AtObj=function(t,e){if(\"8\"!=t.substring(e+2,e+3))return 1;var n=parseInt(t.substring(e+3,e+4));return 0==n?-1:0<n&&n<10?n+1:-2},this.getHexOfL_AtObj=function(t,e){var n=this.getByteLengthOfL_AtObj(t,e);return n<1?\"\":t.substring(e+2,e+2+2*n)},this.getIntOfL_AtObj=function(t,e){var n=this.getHexOfL_AtObj(t,e);if(\"\"==n)return-1;var r;return r=parseInt(n.substring(0,1))<8?new o(n,16):new o(n.substring(2),16),r.intValue()},this.getStartPosOfV_AtObj=function(t,e){var n=this.getByteLengthOfL_AtObj(t,e);return n<0?n:e+2*(n+1)},this.getHexOfV_AtObj=function(t,e){var n=this.getStartPosOfV_AtObj(t,e),r=this.getIntOfL_AtObj(t,e);return t.substring(n,n+2*r)},this.getHexOfTLV_AtObj=function(t,e){var n=t.substr(e,2),r=this.getHexOfL_AtObj(t,e),i=this.getHexOfV_AtObj(t,e);return n+r+i},this.getPosOfNextSibling_AtObj=function(t,e){var n=this.getStartPosOfV_AtObj(t,e),r=this.getIntOfL_AtObj(t,e);return n+2*r},this.getPosArrayOfChildren_AtObj=function(t,e){var n=new Array,r=this.getStartPosOfV_AtObj(t,e);n.push(r);for(var i=this.getIntOfL_AtObj(t,e),s=r,o=0;;){var a=this.getPosOfNextSibling_AtObj(t,s);if(null==a||a-r>=2*i)break;if(o>=200)break;n.push(a),s=a,o++}return n},this.getNthChildIndex_AtObj=function(t,e,n){var r=this.getPosArrayOfChildren_AtObj(t,e);return r[n]},this.getDecendantIndexByNthList=function(t,e,n){if(0==n.length)return e;var r=n.shift(),i=this.getPosArrayOfChildren_AtObj(t,e);return this.getDecendantIndexByNthList(t,i[r],n)},this.getDecendantHexTLVByNthList=function(t,e,n){var r=this.getDecendantIndexByNthList(t,e,n);return this.getHexOfTLV_AtObj(t,r)},this.getDecendantHexVByNthList=function(t,e,n){var r=this.getDecendantIndexByNthList(t,e,n);return this.getHexOfV_AtObj(t,r)}};Or.getVbyList=function(t,e,n,r){var i=this.getDecendantIndexByNthList(t,e,n);if(void 0===i)throw\"can't find nthList object\";if(void 0!==r&&t.substr(i,2)!=r)throw\"checking tag doesn't match: \"+t.substr(i,2)+\"!=\"+r;return this.getHexOfV_AtObj(t,i)},Or.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join(\"0\")+t},n=[],r=t.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var s=t.substr(2),o=[],a=0;a<s.length/2;a++)o.push(parseInt(s.substr(2*a,2),16));for(var u=[],h=\"\",a=0;a<o.length;a++)128&o[a]?h+=e((127&o[a]).toString(2),7):(h+=e((127&o[a]).toString(2),7),u.push(new String(parseInt(h,2))),h=\"\");var c=n.join(\".\");return u.length>0&&(c=c+\".\"+u.join(\".\")),c},Or.dump=function(t,e,n,r){var i=function(t,e){if(t.length<=2*e)return t;var n=t.substr(0,e)+\"..(total \"+t.length/2+\"bytes)..\"+t.substr(t.length-e,e);return n};void 0===e&&(e={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r=\"\");var s=e.ommit_long_octet;if(\"01\"==t.substr(n,2)){var o=Or.getHexOfV_AtObj(t,n);return\"00\"==o?r+\"BOOLEAN FALSE\\n\":r+\"BOOLEAN TRUE\\n\"}if(\"02\"==t.substr(n,2)){var o=Or.getHexOfV_AtObj(t,n);return r+\"INTEGER \"+i(o,s)+\"\\n\"}if(\"03\"==t.substr(n,2)){var o=Or.getHexOfV_AtObj(t,n);return r+\"BITSTRING \"+i(o,s)+\"\\n\"}if(\"04\"==t.substr(n,2)){var o=Or.getHexOfV_AtObj(t,n);if(Or.isASN1HEX(o)){var a=r+\"OCTETSTRING, encapsulates\\n\";return a+=Or.dump(o,e,0,r+\"  \")}return r+\"OCTETSTRING \"+i(o,s)+\"\\n\"}if(\"05\"==t.substr(n,2))return r+\"NULL\\n\";if(\"06\"==t.substr(n,2)){var u=Or.getHexOfV_AtObj(t,n),h=Cr.asn1.ASN1Util.oidHexToInt(u),c=Cr.asn1.x509.OID.oid2name(h),f=h.replace(/\\./g,\" \");return\"\"!=c?r+\"ObjectIdentifier \"+c+\" (\"+f+\")\\n\":r+\"ObjectIdentifier (\"+f+\")\\n\"}if(\"0c\"==t.substr(n,2))return r+\"UTF8String '\"+Sn(Or.getHexOfV_AtObj(t,n))+\"'\\n\";if(\"13\"==t.substr(n,2))return r+\"PrintableString '\"+Sn(Or.getHexOfV_AtObj(t,n))+\"'\\n\";if(\"14\"==t.substr(n,2))return r+\"TeletexString '\"+Sn(Or.getHexOfV_AtObj(t,n))+\"'\\n\";if(\"16\"==t.substr(n,2))return r+\"IA5String '\"+Sn(Or.getHexOfV_AtObj(t,n))+\"'\\n\";if(\"17\"==t.substr(n,2))return r+\"UTCTime \"+Sn(Or.getHexOfV_AtObj(t,n))+\"\\n\";if(\"18\"==t.substr(n,2))return r+\"GeneralizedTime \"+Sn(Or.getHexOfV_AtObj(t,n))+\"\\n\";if(\"30\"==t.substr(n,2)){if(\"3000\"==t.substr(n,4))return r+\"SEQUENCE {}\\n\";var a=r+\"SEQUENCE\\n\",l=Or.getPosArrayOfChildren_AtObj(t,n),d=e;if((2==l.length||3==l.length)&&\"06\"==t.substr(l[0],2)&&\"04\"==t.substr(l[l.length-1],2)){var g=Or.getHexOfV_AtObj(t,l[0]),h=Cr.asn1.ASN1Util.oidHexToInt(g),c=Cr.asn1.x509.OID.oid2name(h),p=JSON.parse(JSON.stringify(e));p.x509ExtName=c,d=p}for(var y=0;y<l.length;y++)a+=Or.dump(t,d,l[y],r+\"  \");return a}if(\"31\"==t.substr(n,2)){for(var a=r+\"SET\\n\",l=Or.getPosArrayOfChildren_AtObj(t,n),y=0;y<l.length;y++)a+=Or.dump(t,e,l[y],r+\"  \");return a}var v=parseInt(t.substr(n,2),16);if(0!=(128&v)){var m=31&v;if(0!=(32&v)){for(var a=r+\"[\"+m+\"]\\n\",l=Or.getPosArrayOfChildren_AtObj(t,n),y=0;y<l.length;y++)a+=Or.dump(t,e,l[y],r+\"  \");return a}var o=Or.getHexOfV_AtObj(t,n);\"68747470\"==o.substr(0,8)&&(o=Sn(o)),\"subjectAltName\"===e.x509ExtName&&2==m&&(o=Sn(o));var a=r+\"[\"+m+\"] \"+o+\"\\n\";return a}return r+\"UNKNOWN(\"+t.substr(n,2)+\") \"+Or.getHexOfV_AtObj(t,n)+\"\\n\"},Or.isASN1HEX=function(t){if(t.length%2==1)return!1;var e=Or.getIntOfL_AtObj(t,0),n=t.substr(0,2),r=Or.getHexOfL_AtObj(t,0),i=t.length-n.length-r.length;return i==2*e},/*! asn1x509-1.0.14.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.asn1&&Cr.asn1||(Cr.asn1={}),\"undefined\"!=typeof Cr.asn1.x509&&Cr.asn1.x509||(Cr.asn1.x509={}),Cr.asn1.x509.Certificate=function(t){Cr.asn1.x509.Certificate.superclass.constructor.call(this);this.setRsaPrvKeyByPEMandPass=function(t,e){var n=jr.getDecryptedKeyHex(t,e),r=new ve;r.readPrivateKeyFromASN1HexString(n),this.prvKey=r},this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,sig=new Cr.crypto.Signature({alg:\"SHA1withRSA\"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new Cr.asn1.DERBitString({hex:\"00\"+this.hexSig});var t=new Cr.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(t){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=t,this.asn1Sig=new Cr.asn1.DERBitString({hex:\"00\"+this.hexSig});var e=new Cr.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw\"not signed yet\"},this.getPEMString=function(){var t=this.getEncodedHex(),e=or.enc.Hex.parse(t),n=or.enc.Base64.stringify(e),r=n.replace(/(.{64})/g,\"$1\\r\\n\");return\"-----BEGIN CERTIFICATE-----\\r\\n\"+r+\"\\r\\n-----END CERTIFICATE-----\\r\\n\"},\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.tbscertobj&&(this.asn1TBSCert=t.tbscertobj),\"undefined\"!=typeof t.prvkeyobj?this.prvKey=t.prvkeyobj:\"undefined\"!=typeof t.rsaprvkey?this.prvKey=t.rsaprvkey:\"undefined\"!=typeof t.rsaprvpem&&\"undefined\"!=typeof t.rsaprvpas&&this.setRsaPrvKeyByPEMandPass(t.rsaprvpem,t.rsaprvpas))},sr.lang.extend(Cr.asn1.x509.Certificate,Cr.asn1.ASN1Object),Cr.asn1.x509.TBSCertificate=function(t){Cr.asn1.x509.TBSCertificate.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new Cr.asn1.DERTaggedObject({obj:new Cr.asn1.DERInteger({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(t){this.asn1SerialNumber=new Cr.asn1.DERInteger(t)},this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new Cr.asn1.x509.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new Cr.asn1.x509.X500Name(t)},this.setNotBeforeByParam=function(t){this.asn1NotBefore=new Cr.asn1.x509.Time(t)},this.setNotAfterByParam=function(t){this.asn1NotAfter=new Cr.asn1.x509.Time(t)},this.setSubjectByParam=function(t){this.asn1Subject=new Cr.asn1.x509.X500Name(t)},this.setSubjectPublicKeyByParam=function(t){this.asn1SubjPKey=new Cr.asn1.x509.SubjectPublicKeyInfo(t)},this.setSubjectPublicKeyByGetKey=function(t){var e=Hr.getKey(t);this.asn1SubjPKey=new Cr.asn1.x509.SubjectPublicKeyInfo(e)},this.appendExtension=function(t){this.extensionsArray.push(t)},this.appendExtensionByName=function(t,e){if(\"basicconstraints\"==t.toLowerCase()){var n=new Cr.asn1.x509.BasicConstraints(e);this.appendExtension(n)}else if(\"keyusage\"==t.toLowerCase()){var n=new Cr.asn1.x509.KeyUsage(e);this.appendExtension(n)}else if(\"crldistributionpoints\"==t.toLowerCase()){var n=new Cr.asn1.x509.CRLDistributionPoints(e);this.appendExtension(n)}else if(\"extkeyusage\"==t.toLowerCase()){var n=new Cr.asn1.x509.ExtKeyUsage(e);this.appendExtension(n)}else{if(\"authoritykeyidentifier\"!=t.toLowerCase())throw\"unsupported extension name: \"+t;var n=new Cr.asn1.x509.AuthorityKeyIdentifier(e);this.appendExtension(n)}},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw\"notBefore and/or notAfter not set\";var t=new Cr.asn1.DERSequence({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(t),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new Cr.asn1.DERSequence({array:this.extensionsArray}),n=new Cr.asn1.DERTaggedObject({explicit:!0,tag:\"a3\",obj:e});this.asn1Array.push(n)}var r=new Cr.asn1.DERSequence({array:this.asn1Array});return this.hTLV=r.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},sr.lang.extend(Cr.asn1.x509.TBSCertificate,Cr.asn1.ASN1Object),Cr.asn1.x509.Extension=function(t){Cr.asn1.x509.Extension.superclass.constructor.call(this);this.getEncodedHex=function(){var t=new Cr.asn1.DERObjectIdentifier({oid:this.oid}),e=new Cr.asn1.DEROctetString({hex:this.getExtnValueHex()}),n=new Array;n.push(t),this.critical&&n.push(new Cr.asn1.DERBoolean),n.push(e);var r=new Cr.asn1.DERSequence({array:n});return r.getEncodedHex()},this.critical=!1,\"undefined\"!=typeof t&&\"undefined\"!=typeof t.critical&&(this.critical=t.critical)},sr.lang.extend(Cr.asn1.x509.Extension,Cr.asn1.ASN1Object),Cr.asn1.x509.KeyUsage=function(t){Cr.asn1.x509.KeyUsage.superclass.constructor.call(this,t),this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid=\"2.5.29.15\",\"undefined\"!=typeof t&&\"undefined\"!=typeof t.bin&&(this.asn1ExtnValue=new Cr.asn1.DERBitString(t))},sr.lang.extend(Cr.asn1.x509.KeyUsage,Cr.asn1.x509.Extension),Cr.asn1.x509.BasicConstraints=function(t){Cr.asn1.x509.BasicConstraints.superclass.constructor.call(this,t);this.getExtnValueHex=function(){var t=new Array;this.cA&&t.push(new Cr.asn1.DERBoolean),this.pathLen>-1&&t.push(new Cr.asn1.DERInteger({int:this.pathLen}));var e=new Cr.asn1.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.getEncodedHex()},this.oid=\"2.5.29.19\",this.cA=!1,this.pathLen=-1,\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.cA&&(this.cA=t.cA),\"undefined\"!=typeof t.pathLen&&(this.pathLen=t.pathLen))},sr.lang.extend(Cr.asn1.x509.BasicConstraints,Cr.asn1.x509.Extension),Cr.asn1.x509.CRLDistributionPoints=function(t){Cr.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t),this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(t){this.asn1ExtnValue=new Cr.asn1.DERSequence({array:t})},this.setByOneURI=function(t){var e=new Cr.asn1.x509.GeneralNames([{uri:t}]),n=new Cr.asn1.x509.DistributionPointName(e),r=new Cr.asn1.x509.DistributionPoint({dpobj:n});this.setByDPArray([r])},this.oid=\"2.5.29.31\",\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.array?this.setByDPArray(t.array):\"undefined\"!=typeof t.uri&&this.setByOneURI(t.uri))},sr.lang.extend(Cr.asn1.x509.CRLDistributionPoints,Cr.asn1.x509.Extension),Cr.asn1.x509.ExtKeyUsage=function(t){Cr.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t),this.setPurposeArray=function(t){this.asn1ExtnValue=new Cr.asn1.DERSequence;for(var e=0;e<t.length;e++){var n=new Cr.asn1.DERObjectIdentifier(t[e]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid=\"2.5.29.37\",\"undefined\"!=typeof t&&\"undefined\"!=typeof t.array&&this.setPurposeArray(t.array)},sr.lang.extend(Cr.asn1.x509.ExtKeyUsage,Cr.asn1.x509.Extension),Cr.asn1.x509.AuthorityKeyIdentifier=function(t){Cr.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t),this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=new Array;this.asn1KID&&t.push(new Cr.asn1.DERTaggedObject({explicit:!1,tag:\"80\",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new Cr.asn1.DERTaggedObject({explicit:!1,tag:\"a1\",obj:this.asn1CertIssuer})),this.asn1CertSN&&t.push(new Cr.asn1.DERTaggedObject({explicit:!1,tag:\"82\",obj:this.asn1CertSN}));var e=new Cr.asn1.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(t){this.asn1KID=new Cr.asn1.DEROctetString(t)},this.setCertIssuerByParam=function(t){this.asn1CertIssuer=new Cr.asn1.x509.X500Name(t)},this.setCertSNByParam=function(t){this.asn1CertSN=new Cr.asn1.DERInteger(t)},this.oid=\"2.5.29.35\",\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.kid&&this.setKIDByParam(t.kid),\"undefined\"!=typeof t.issuer&&this.setCertIssuerByParam(t.issuer),\"undefined\"!=typeof t.sn&&this.setCertSNByParam(t.sn))},sr.lang.extend(Cr.asn1.x509.AuthorityKeyIdentifier,Cr.asn1.x509.Extension),Cr.asn1.x509.CRL=function(t){Cr.asn1.x509.CRL.superclass.constructor.call(this);this.setRsaPrvKeyByPEMandPass=function(t,e){var n=jr.getDecryptedKeyHex(t,e),r=new ve;r.readPrivateKeyFromASN1HexString(n),this.rsaPrvKey=r},this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new Cr.crypto.Signature({alg:\"SHA1withRSA\",prov:\"cryptojs/jsrsa\"}),sig.initSign(this.rsaPrvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new Cr.asn1.DERBitString({hex:\"00\"+this.hexSig});var t=new Cr.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw\"not signed yet\"},this.getPEMString=function(){var t=this.getEncodedHex(),e=or.enc.Hex.parse(t),n=or.enc.Base64.stringify(e),r=n.replace(/(.{64})/g,\"$1\\r\\n\");return\"-----BEGIN X509 CRL-----\\r\\n\"+r+\"\\r\\n-----END X509 CRL-----\\r\\n\"},\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.tbsobj&&(this.asn1TBSCertList=t.tbsobj),\"undefined\"!=typeof t.rsaprvkey&&(this.rsaPrvKey=t.rsaprvkey),\"undefined\"!=typeof t.rsaprvpem&&\"undefined\"!=typeof t.rsaprvpas&&this.setRsaPrvKeyByPEMandPass(t.rsaprvpem,t.rsaprvpas))},sr.lang.extend(Cr.asn1.x509.CRL,Cr.asn1.ASN1Object),Cr.asn1.x509.TBSCertList=function(t){Cr.asn1.x509.TBSCertList.superclass.constructor.call(this);this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new Cr.asn1.x509.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new Cr.asn1.x509.X500Name(t)},this.setThisUpdateByParam=function(t){this.asn1ThisUpdate=new Cr.asn1.x509.Time(t)},this.setNextUpdateByParam=function(t){this.asn1NextUpdate=new Cr.asn1.x509.Time(t)},this.addRevokedCert=function(t,e){var n={};void 0!=t&&null!=t&&(n.sn=t),void 0!=e&&null!=e&&(n.time=e);var r=new Cr.asn1.x509.CRLEntry(n);this.aRevokedCert.push(r)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var t=new Cr.asn1.DERSequence({array:this.aRevokedCert});this.asn1Array.push(t)}var e=new Cr.asn1.DERSequence({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},sr.lang.extend(Cr.asn1.x509.TBSCertList,Cr.asn1.ASN1Object),Cr.asn1.x509.CRLEntry=function(t){Cr.asn1.x509.CRLEntry.superclass.constructor.call(this);this.setCertSerial=function(t){this.sn=new Cr.asn1.DERInteger(t)},this.setRevocationDate=function(t){this.time=new Cr.asn1.x509.Time(t)},this.getEncodedHex=function(){var t=new Cr.asn1.DERSequence({array:[this.sn,this.time]});return this.TLV=t.getEncodedHex(),this.TLV},\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.time&&this.setRevocationDate(t.time),\"undefined\"!=typeof t.sn&&this.setCertSerial(t.sn))},sr.lang.extend(Cr.asn1.x509.CRLEntry,Cr.asn1.ASN1Object),Cr.asn1.x509.X500Name=function(t){if(Cr.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array,this.setByString=function(t){var e=t.split(\"/\");e.shift();for(var n=0;n<e.length;n++)this.asn1Array.push(new Cr.asn1.x509.RDN({str:e[n]}))},this.setByObject=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=new Cr.asn1.x509.RDN({str:e+\"=\"+t[e]});this.asn1Array?this.asn1Array.push(n):this.asn1Array=[n]}},this.getEncodedHex=function(){if(\"string\"==typeof this.hTLV)return this.hTLV;var t=new Cr.asn1.DERSequence({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t){if(\"undefined\"!=typeof t.str?this.setByString(t.str):\"object\"==typeof t&&this.setByObject(t),\"undefined\"!=typeof t.certissuer){var e=new $n;e.hex=$n.pemToHex(t.certissuer),this.hTLV=e.getIssuerHex()}if(\"undefined\"!=typeof t.certsubject){var e=new $n;e.hex=$n.pemToHex(t.certsubject),this.hTLV=e.getSubjectHex()}}},sr.lang.extend(Cr.asn1.x509.X500Name,Cr.asn1.ASN1Object),Cr.asn1.x509.RDN=function(t){Cr.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(t){this.asn1Array.push(new Cr.asn1.x509.AttributeTypeAndValue({str:t}))},this.getEncodedHex=function(){var t=new Cr.asn1.DERSet({array:this.asn1Array});return this.TLV=t.getEncodedHex(),this.TLV},\"undefined\"!=typeof t&&\"undefined\"!=typeof t.str&&this.addByString(t.str)},sr.lang.extend(Cr.asn1.x509.RDN,Cr.asn1.ASN1Object),Cr.asn1.x509.AttributeTypeAndValue=function(t){Cr.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var e=\"utf8\";this.setByString=function(t){if(!t.match(/^([^=]+)=(.+)$/))throw\"malformed attrTypeAndValueStr: \"+t;this.setByAttrTypeAndValueStr(RegExp.$1,RegExp.$2)},this.setByAttrTypeAndValueStr=function(t,n){this.typeObj=Cr.asn1.x509.OID.atype2obj(t);var r=e;\"C\"==t&&(r=\"prn\"),this.valueObj=this.getValueObj(r,n)},this.getValueObj=function(t,e){if(\"utf8\"==t)return new Cr.asn1.DERUTF8String({str:e});if(\"prn\"==t)return new Cr.asn1.DERPrintableString({str:e});if(\"tel\"==t)return new Cr.asn1.DERTeletexString({str:e});if(\"ia5\"==t)return new Cr.asn1.DERIA5String({str:e});throw\"unsupported directory string type: type=\"+t+\" value=\"+e},this.getEncodedHex=function(){var t=new Cr.asn1.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=t.getEncodedHex(),this.TLV},\"undefined\"!=typeof t&&\"undefined\"!=typeof t.str&&this.setByString(t.str)},sr.lang.extend(Cr.asn1.x509.AttributeTypeAndValue,Cr.asn1.ASN1Object),Cr.asn1.x509.SubjectPublicKeyInfo=function(t){Cr.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);this.setRSAKey=function(t){if(!ve.prototype.isPrototypeOf(t))throw\"argument is not RSAKey instance\";this.rsaKey=t;var e=new Cr.asn1.DERInteger({bigint:t.n}),n=new Cr.asn1.DERInteger({int:t.e}),r=new Cr.asn1.DERSequence({array:[e,n]}),i=r.getEncodedHex();this.asn1AlgId=new Cr.asn1.x509.AlgorithmIdentifier({name:\"rsaEncryption\"}),this.asn1SubjPKey=new Cr.asn1.DERBitString({hex:\"00\"+i})},this.setRSAPEM=function(t){if(!t.match(/-----BEGIN PUBLIC KEY-----/))throw\"key not supported\";var e=t;e=e.replace(/^-----[^-]+-----/,\"\"),e=e.replace(/-----[^-]+-----\\s*$/,\"\");var n=e.replace(/\\s+/g,\"\"),r=or.enc.Base64.parse(n),i=or.enc.Hex.stringify(r),s=Dn(i),o=s[1],a=o.substr(2),u=Dn(a),h=new ve;h.setPublic(u[0],u[1]),this.setRSAKey(h)},this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw\"algId and/or subjPubKey not set\";var t=new Cr.asn1.DERSequence({array:[this.asn1AlgId,this.asn1SubjPKey]});return t},this.getEncodedHex=function(){var t=this.getASN1Object();return this.hTLV=t.getEncodedHex(),this.hTLV},this._setRSAKey=function(t){var e=Cr.asn1.ASN1Util.newObject({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}),n=e.getEncodedHex();this.asn1AlgId=new Cr.asn1.x509.AlgorithmIdentifier({name:\"rsaEncryption\"}),this.asn1SubjPKey=new Cr.asn1.DERBitString({hex:\"00\"+n})},this._setEC=function(t){var e=new Cr.asn1.DERObjectIdentifier({name:t.curveName});this.asn1AlgId=new Cr.asn1.x509.AlgorithmIdentifier({name:\"ecPublicKey\",asn1params:e}),this.asn1SubjPKey=new Cr.asn1.DERBitString({hex:\"00\"+t.pubKeyHex})},this._setDSA=function(t){var e=new Cr.asn1.ASN1Util.newObject({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]});this.asn1AlgId=new Cr.asn1.x509.AlgorithmIdentifier({name:\"dsa\",asn1params:e});var n=new Cr.asn1.DERInteger({bigint:t.y});this.asn1SubjPKey=new Cr.asn1.DERBitString({hex:\"00\"+n.getEncodedHex()})},\"undefined\"!=typeof t&&(\"undefined\"!=typeof ve&&t instanceof ve?this._setRSAKey(t):\"undefined\"!=typeof Cr.crypto.ECDSA&&t instanceof Cr.crypto.ECDSA?this._setEC(t):\"undefined\"!=typeof Cr.crypto.DSA&&t instanceof Cr.crypto.DSA?this._setDSA(t):\"undefined\"!=typeof t.rsakey?this.setRSAKey(t.rsakey):\"undefined\"!=typeof t.rsapem&&this.setRSAPEM(t.rsapem))},sr.lang.extend(Cr.asn1.x509.SubjectPublicKeyInfo,Cr.asn1.ASN1Object),Cr.asn1.x509.Time=function(t){Cr.asn1.x509.Time.superclass.constructor.call(this);this.setTimeParams=function(t){this.timeParams=t},this.getEncodedHex=function(){var t=null;return t=null!=this.timeParams?\"utc\"==this.type?new Cr.asn1.DERUTCTime(this.timeParams):new Cr.asn1.DERGeneralizedTime(this.timeParams):\"utc\"==this.type?new Cr.asn1.DERUTCTime:new Cr.asn1.DERGeneralizedTime,this.TLV=t.getEncodedHex(),this.TLV},this.type=\"utc\",\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.type?this.type=t.type:\"undefined\"!=typeof t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type=\"utc\"),t.str.match(/^[0-9]{14}Z$/)&&(this.type=\"gen\")),this.timeParams=t)},sr.lang.extend(Cr.asn1.x509.Time,Cr.asn1.ASN1Object),Cr.asn1.x509.AlgorithmIdentifier=function(t){Cr.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this);this.getEncodedHex=function(){if(null==this.nameAlg&&null==this.asn1Alg)throw\"algorithm not specified\";null!=this.nameAlg&&null==this.asn1Alg&&(this.asn1Alg=Cr.asn1.x509.OID.name2obj(this.nameAlg));var t=[this.asn1Alg];this.paramEmpty||t.push(this.asn1Params);var e=new Cr.asn1.DERSequence({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(\"undefined\"!=typeof t.name&&(this.nameAlg=t.name),\"undefined\"!=typeof t.asn1params&&(this.asn1Params=t.asn1params),\"undefined\"!=typeof t.paramempty&&(this.paramEmpty=t.paramempty)),null==this.asn1Params&&(this.asn1Params=new Cr.asn1.DERNull)},sr.lang.extend(Cr.asn1.x509.AlgorithmIdentifier,Cr.asn1.ASN1Object),Cr.asn1.x509.GeneralName=function(t){Cr.asn1.x509.GeneralName.superclass.constructor.call(this);var e={rfc822:\"81\",dns:\"82\",dn:\"a4\",uri:\"86\"};this.explicit=!1,this.setByParam=function(t){var n=null;if(\"undefined\"!=typeof t){if(\"undefined\"!=typeof t.rfc822&&(this.type=\"rfc822\",n=new Cr.asn1.DERIA5String({str:t[this.type]})),\"undefined\"!=typeof t.dns&&(this.type=\"dns\",n=new Cr.asn1.DERIA5String({str:t[this.type]})),\"undefined\"!=typeof t.uri&&(this.type=\"uri\",n=new Cr.asn1.DERIA5String({str:t[this.type]})),\"undefined\"!=typeof t.certissuer){this.type=\"dn\",this.explicit=!0;var r=t.certissuer,i=null;if(r.match(/^[0-9A-Fa-f]+$/),r.indexOf(\"-----BEGIN \")!=-1&&(i=$n.pemToHex(r)),null==i)throw\"certissuer param not cert\";var s=new $n;s.hex=i;var o=s.getIssuerHex();n=new Cr.asn1.ASN1Object,n.hTLV=o}if(\"undefined\"!=typeof t.certsubj){this.type=\"dn\",this.explicit=!0;var r=t.certsubj,i=null;if(r.match(/^[0-9A-Fa-f]+$/),r.indexOf(\"-----BEGIN \")!=-1&&(i=$n.pemToHex(r)),null==i)throw\"certsubj param not cert\";var s=new $n;s.hex=i;var o=s.getSubjectHex();n=new Cr.asn1.ASN1Object,n.hTLV=o}if(null==this.type)throw\"unsupported type in params=\"+t;this.asn1Obj=new Cr.asn1.DERTaggedObject({explicit:this.explicit,tag:e[this.type],obj:n})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},\"undefined\"!=typeof t&&this.setByParam(t)},sr.lang.extend(Cr.asn1.x509.GeneralName,Cr.asn1.ASN1Object),Cr.asn1.x509.GeneralNames=function(t){Cr.asn1.x509.GeneralNames.superclass.constructor.call(this);this.setByParamArray=function(t){for(var e=0;e<t.length;e++){var n=new Cr.asn1.x509.GeneralName(t[e]);this.asn1Array.push(n)}},this.getEncodedHex=function(){var t=new Cr.asn1.DERSequence({array:this.asn1Array});return t.getEncodedHex()},this.asn1Array=new Array,\"undefined\"!=typeof t&&this.setByParamArray(t)},sr.lang.extend(Cr.asn1.x509.GeneralNames,Cr.asn1.ASN1Object),Cr.asn1.x509.DistributionPointName=function(t){Cr.asn1.x509.DistributionPointName.superclass.constructor.call(this);if(this.getEncodedHex=function(){if(\"full\"!=this.type)throw\"currently type shall be 'full': \"+this.type;return this.asn1Obj=new Cr.asn1.DERTaggedObject({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t){if(!Cr.asn1.x509.GeneralNames.prototype.isPrototypeOf(t))throw\"This class supports GeneralNames only as argument\";this.type=\"full\",this.tag=\"a0\",this.asn1V=t}},sr.lang.extend(Cr.asn1.x509.DistributionPointName,Cr.asn1.ASN1Object),Cr.asn1.x509.DistributionPoint=function(t){Cr.asn1.x509.DistributionPoint.superclass.constructor.call(this);this.getEncodedHex=function(){var t=new Cr.asn1.DERSequence;if(null!=this.asn1DP){var e=new Cr.asn1.DERTaggedObject({explicit:!0,tag:\"a0\",obj:this.asn1DP});t.appendASN1Object(e)}return this.hTLV=t.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&\"undefined\"!=typeof t.dpobj&&(this.asn1DP=t.dpobj)},sr.lang.extend(Cr.asn1.x509.DistributionPoint,Cr.asn1.ASN1Object),Cr.asn1.x509.OID=new function(t){this.atype2oidList={C:\"2.5.4.6\",O:\"2.5.4.10\",OU:\"2.5.4.11\",ST:\"2.5.4.8\",L:\"2.5.4.7\",CN:\"2.5.4.3\",SN:\"2.5.4.4\",DN:\"2.5.4.49\",DC:\"0.9.2342.19200300.100.1.25\"},this.name2oidList={sha1:\"1.3.14.3.2.26\",sha256:\"2.16.840.1.101.3.4.2.1\",sha384:\"2.16.840.1.101.3.4.2.2\",sha512:\"2.16.840.1.101.3.4.2.3\",sha224:\"2.16.840.1.101.3.4.2.4\",md5:\"1.2.840.113549.2.5\",md2:\"1.3.14.7.2.2.1\",ripemd160:\"1.3.36.3.2.1\",MD2withRSA:\"1.2.840.113549.1.1.2\",MD4withRSA:\"1.2.840.113549.1.1.3\",MD5withRSA:\"1.2.840.113549.1.1.4\",SHA1withRSA:\"1.2.840.113549.1.1.5\",SHA224withRSA:\"1.2.840.113549.1.1.14\",SHA256withRSA:\"1.2.840.113549.1.1.11\",SHA384withRSA:\"1.2.840.113549.1.1.12\",SHA512withRSA:\"1.2.840.113549.1.1.13\",SHA1withECDSA:\"1.2.840.10045.4.1\",SHA224withECDSA:\"1.2.840.10045.4.3.1\",SHA256withECDSA:\"1.2.840.10045.4.3.2\",SHA384withECDSA:\"1.2.840.10045.4.3.3\",SHA512withECDSA:\"1.2.840.10045.4.3.4\",dsa:\"1.2.840.10040.4.1\",SHA1withDSA:\"1.2.840.10040.4.3\",SHA224withDSA:\"2.16.840.1.101.3.4.3.1\",SHA256withDSA:\"2.16.840.1.101.3.4.3.2\",rsaEncryption:\"1.2.840.113549.1.1.1\",countryName:\"2.5.4.6\",organization:\"2.5.4.10\",organizationalUnit:\"2.5.4.11\",stateOrProvinceName:\"2.5.4.8\",locality:\"2.5.4.7\",commonName:\"2.5.4.3\",subjectKeyIdentifier:\"2.5.29.14\",keyUsage:\"2.5.29.15\",subjectAltName:\"2.5.29.17\",basicConstraints:\"2.5.29.19\",nameConstraints:\"2.5.29.30\",cRLDistributionPoints:\"2.5.29.31\",certificatePolicies:\"2.5.29.32\",authorityKeyIdentifier:\"2.5.29.35\",policyConstraints:\"2.5.29.36\",extKeyUsage:\"2.5.29.37\",authorityInfoAccess:\"1.3.6.1.5.5.7.1.1\",anyExtendedKeyUsage:\"2.5.29.37.0\",serverAuth:\"1.3.6.1.5.5.7.3.1\",clientAuth:\"1.3.6.1.5.5.7.3.2\",codeSigning:\"1.3.6.1.5.5.7.3.3\",emailProtection:\"1.3.6.1.5.5.7.3.4\",timeStamping:\"1.3.6.1.5.5.7.3.8\",ocspSigning:\"1.3.6.1.5.5.7.3.9\",ecPublicKey:\"1.2.840.10045.2.1\",secp256r1:\"1.2.840.10045.3.1.7\",secp256k1:\"1.3.132.0.10\",secp384r1:\"1.3.132.0.34\",pkcs5PBES2:\"1.2.840.113549.1.5.13\",pkcs5PBKDF2:\"1.2.840.113549.1.5.12\",\"des-EDE3-CBC\":\"1.2.840.113549.3.7\",data:\"1.2.840.113549.1.7.1\",\"signed-data\":\"1.2.840.113549.1.7.2\",\"enveloped-data\":\"1.2.840.113549.1.7.3\",\"digested-data\":\"1.2.840.113549.1.7.5\",\"encrypted-data\":\"1.2.840.113549.1.7.6\",\"authenticated-data\":\"1.2.840.113549.1.9.16.1.2\",tstinfo:\"1.2.840.113549.1.9.16.1.4\"},this.objCache={},this.name2obj=function(t){if(\"undefined\"!=typeof this.objCache[t])return this.objCache[t];if(\"undefined\"==typeof this.name2oidList[t])throw\"Name of ObjectIdentifier not defined: \"+t;var e=this.name2oidList[t],n=new Cr.asn1.DERObjectIdentifier({oid:e});return this.objCache[t]=n,n},this.atype2obj=function(t){if(\"undefined\"!=typeof this.objCache[t])return this.objCache[t];if(\"undefined\"==typeof this.atype2oidList[t])throw\"AttributeType name undefined: \"+t;var e=this.atype2oidList[t],n=new Cr.asn1.DERObjectIdentifier({oid:e});return this.objCache[t]=n,n}},Cr.asn1.x509.OID.oid2name=function(t){var e=Cr.asn1.x509.OID.name2oidList;for(var n in e)if(e[n]==t)return n;return\"\"},Cr.asn1.x509.OID.name2oid=function(t){var e=Cr.asn1.x509.OID.name2oidList;return void 0===e[t]?\"\":e[t]},Cr.asn1.x509.X509Util=new function(){this.getPKCS8PubKeyPEMfromRSAKey=function(t){var e=null,n=Cr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t.n),r=Cr.asn1.ASN1Util.integerToByteHex(t.e),i=new Cr.asn1.DERInteger({hex:n}),s=new Cr.asn1.DERInteger({hex:r}),o=new Cr.asn1.DERSequence({array:[i,s]}),a=o.getEncodedHex(),u=new Cr.asn1.x509.AlgorithmIdentifier({name:\"rsaEncryption\"}),h=new Cr.asn1.DERBitString({hex:\"00\"+a}),c=new Cr.asn1.DERSequence({array:[u,h]}),f=c.getEncodedHex(),e=Cr.asn1.ASN1Util.getPEMStringFromHex(f,\"PUBLIC KEY\");return e}},Cr.asn1.x509.X509Util.newCertPEM=function(t){var e=Cr.asn1.x509,n=new e.TBSCertificate;if(void 0===t.serial)throw\"serial number undefined.\";if(n.setSerialNumberByParam(t.serial),\"string\"!=typeof t.sigalg.name)throw\"unproper signature algorithm name\";if(n.setSignatureAlgByParam(t.sigalg),void 0===t.issuer)throw\"issuer name undefined.\";if(n.setIssuerByParam(t.issuer),void 0===t.notbefore)throw\"notbefore undefined.\";if(n.setNotBeforeByParam(t.notbefore),void 0===t.notafter)throw\"notafter undefined.\";if(n.setNotAfterByParam(t.notafter),void 0===t.subject)throw\"subject name undefined.\";if(n.setSubjectByParam(t.subject),void 0===t.sbjpubkey)throw\"subject public key undefined.\";if(n.setSubjectPublicKeyByGetKey(t.sbjpubkey),void 0!==t.ext&&void 0!==t.ext.length)for(var r=0;r<t.ext.length;r++)for(key in t.ext[r])n.appendExtensionByName(key,t.ext[r][key]);if(void 0===t.cakey&&void 0===t.sighex)throw\"param cakey and sighex undefined.\";var i=null,s=null;return t.cakey&&(i=Hr.getKey.apply(null,t.cakey),s=new e.Certificate({tbscertobj:n,prvkeyobj:i}),s.sign()),t.sighex&&(s=new e.Certificate({tbscertobj:n}),s.setSignatureHex(t.sighex)),s.getPEMString()},/*! asn1cms-1.0.2.js (c) 2013-2014 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.asn1&&Cr.asn1||(Cr.asn1={}),\"undefined\"!=typeof Cr.asn1.cms&&Cr.asn1.cms||(Cr.asn1.cms={}),Cr.asn1.cms.Attribute=function(t){Cr.asn1.cms.Attribute.superclass.constructor.call(this);this.getEncodedHex=function(){var t,e,n;t=new Cr.asn1.DERObjectIdentifier({oid:this.attrTypeOid}),e=new Cr.asn1.DERSet({array:this.valueList});try{e.getEncodedHex()}catch(t){throw\"fail valueSet.getEncodedHex in Attribute(1)/\"+t}n=new Cr.asn1.DERSequence({array:[t,e]});try{this.hTLV=n.getEncodedHex()}catch(t){throw\"failed seq.getEncodedHex in Attribute(2)/\"+t}return this.hTLV}},sr.lang.extend(Cr.asn1.cms.Attribute,Cr.asn1.ASN1Object),Cr.asn1.cms.ContentType=function(t){Cr.asn1.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.3\";var e=null;if(\"undefined\"!=typeof t){var e=new Cr.asn1.DERObjectIdentifier(t);this.valueList=[e]}},sr.lang.extend(Cr.asn1.cms.ContentType,Cr.asn1.cms.Attribute),Cr.asn1.cms.MessageDigest=function(t){if(Cr.asn1.cms.MessageDigest.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.4\",\"undefined\"!=typeof t)if(t.eciObj instanceof Cr.asn1.cms.EncapsulatedContentInfo&&\"string\"==typeof t.hashAlg){var e=t.eciObj.eContentValueHex,n=t.hashAlg,r=Cr.crypto.Util.hashHex(e,n),i=new Cr.asn1.DEROctetString({hex:r});i.getEncodedHex(),this.valueList=[i]}else{var i=new Cr.asn1.DEROctetString(t);i.getEncodedHex(),this.valueList=[i]}},sr.lang.extend(Cr.asn1.cms.MessageDigest,Cr.asn1.cms.Attribute),Cr.asn1.cms.SigningTime=function(t){if(Cr.asn1.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.5\",\"undefined\"!=typeof t){var e=new Cr.asn1.x509.Time(t);try{e.getEncodedHex()}catch(t){throw\"SigningTime.getEncodedHex() failed/\"+t}this.valueList=[e]}},sr.lang.extend(Cr.asn1.cms.SigningTime,Cr.asn1.cms.Attribute),Cr.asn1.cms.SigningCertificate=function(t){Cr.asn1.cms.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.16.2.12\";var e=Cr.asn1,n=Cr.asn1.cms,r=Cr.crypto;this.setCerts=function(t){for(var i=[],s=0;s<t.length;s++){var o=Hr.getHexFromPEM(t[s]),a=r.Util.hashHex(o,\"sha1\"),u=new e.DEROctetString({hex:a});u.getEncodedHex();var h=new n.IssuerAndSerialNumber({cert:t[s]});h.getEncodedHex();var c=new e.DERSequence({array:[u,h]});c.getEncodedHex(),i.push(c)}var f=new e.DERSequence({array:i});f.getEncodedHex(),this.valueList=[f]},\"undefined\"!=typeof t&&\"object\"==typeof t.array&&this.setCerts(t.array)},sr.lang.extend(Cr.asn1.cms.SigningCertificate,Cr.asn1.cms.Attribute),Cr.asn1.cms.SigningCertificateV2=function(t){Cr.asn1.cms.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.16.2.47\";var e=Cr.asn1,n=Cr.asn1.x509,r=Cr.asn1.cms,i=Cr.crypto;if(this.setCerts=function(t,s){for(var o=[],a=0;a<t.length;a++){var u=Hr.getHexFromPEM(t[a]),h=[];\"sha256\"!=s&&h.push(new n.AlgorithmIdentifier({name:s}));var c=i.Util.hashHex(u,s),f=new e.DEROctetString({hex:c});f.getEncodedHex(),h.push(f);var l=new r.IssuerAndSerialNumber({cert:t[a]});l.getEncodedHex(),h.push(l);var d=new e.DERSequence({array:h});d.getEncodedHex(),o.push(d)}var g=new e.DERSequence({array:o});g.getEncodedHex(),this.valueList=[g]},\"undefined\"!=typeof t&&\"object\"==typeof t.array){var s=\"sha256\";\"string\"==typeof t.hashAlg&&(s=t.hashAlg),this.setCerts(t.array,s)}},sr.lang.extend(Cr.asn1.cms.SigningCertificateV2,Cr.asn1.cms.Attribute),Cr.asn1.cms.IssuerAndSerialNumber=function(t){Cr.asn1.cms.IssuerAndSerialNumber.superclass.constructor.call(this);var e=Cr.asn1,n=e.x509;this.setByCertPEM=function(t){var r=Hr.getHexFromPEM(t),i=new $n;i.hex=r;var s=i.getIssuerHex();this.dIssuer=new n.X500Name,this.dIssuer.hTLV=s;var o=i.getSerialNumberHex();this.dSerial=new e.DERInteger({hex:o})},this.getEncodedHex=function(){var t=new Cr.asn1.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=t.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(\"string\"==typeof t&&t.indexOf(\"-----BEGIN \")!=-1&&this.setByCertPEM(t),t.issuer&&t.serial&&(t.issuer instanceof Cr.asn1.x509.X500Name?this.dIssuer=t.issuer:this.dIssuer=new Cr.asn1.x509.X500Name(t.issuer),t.serial instanceof Cr.asn1.DERInteger?this.dSerial=t.serial:this.dSerial=new Cr.asn1.DERInteger(t.serial)),\"string\"==typeof t.cert&&this.setByCertPEM(t.cert))},sr.lang.extend(Cr.asn1.cms.IssuerAndSerialNumber,Cr.asn1.ASN1Object),Cr.asn1.cms.AttributeList=function(t){Cr.asn1.cms.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(t){t instanceof Cr.asn1.cms.Attribute&&this.list.push(t)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if(\"string\"==typeof this.hTLV)return this.hTLV;var t=new Cr.asn1.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=t.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&\"undefined\"!=typeof t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},sr.lang.extend(Cr.asn1.cms.AttributeList,Cr.asn1.ASN1Object),Cr.asn1.cms.SignerInfo=function(t){Cr.asn1.cms.SignerInfo.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.cms,r=Cr.asn1.x509;this.dCMSVersion=new e.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new n.AttributeList,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new n.AttributeList,this.setSignerIdentifier=function(t){if(\"string\"==typeof t&&t.indexOf(\"CERTIFICATE\")!=-1&&t.indexOf(\"BEGIN\")!=-1&&t.indexOf(\"END\")!=-1){this.dSignerIdentifier=new n.IssuerAndSerialNumber({cert:t})}},this.setForContentAndHash=function(t){\"undefined\"!=typeof t&&(t.eciObj instanceof Cr.asn1.cms.EncapsulatedContentInfo&&(this.dSignedAttrs.add(new n.ContentType({oid:\"1.2.840.113549.1.7.1\"})),this.dSignedAttrs.add(new n.MessageDigest({eciObj:t.eciObj,hashAlg:t.hashAlg}))),\"undefined\"!=typeof t.sdObj&&t.sdObj instanceof Cr.asn1.cms.SignedData&&t.sdObj.digestAlgNameList.join(\":\").indexOf(t.hashAlg)==-1&&t.sdObj.digestAlgNameList.push(t.hashAlg),\"string\"==typeof t.hashAlg&&(this.dDigestAlgorithm=new r.AlgorithmIdentifier({name:t.hashAlg})))},this.sign=function(t,n){this.dSigAlg=new r.AlgorithmIdentifier({name:n});var i=this.dSignedAttrs.getEncodedHex(),s=Hr.getKey(t),o=new Cr.crypto.Signature({alg:n});o.init(s),o.updateHex(i);var a=o.sign();this.dSig=new e.DEROctetString({hex:a})},this.addUnsigned=function(t){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(t)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof Cr.asn1.cms.AttributeList&&0==this.dSignedAttrs.length())throw\"SignedAttrs length = 0 (empty)\";var t=new e.DERTaggedObject({obj:this.dSignedAttrs,tag:\"a0\",explicit:!1}),n=null;this.dUnsignedAttrs.length()>0&&(n=new e.DERTaggedObject({obj:this.dUnsignedAttrs,tag:\"a1\",explicit:!1}));var r=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,t,this.dSigAlg,this.dSig];null!=n&&r.push(n);var i=new e.DERSequence({array:r});return this.hTLV=i.getEncodedHex(),this.hTLV}},sr.lang.extend(Cr.asn1.cms.SignerInfo,Cr.asn1.ASN1Object),Cr.asn1.cms.EncapsulatedContentInfo=function(t){Cr.asn1.cms.EncapsulatedContentInfo.superclass.constructor.call(this);var e=Cr.asn1;Cr.asn1.cms,Cr.asn1.x509;this.dEContentType=new e.DERObjectIdentifier({name:\"data\"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(t){t.match(/^[0-2][.][0-9.]+$/)?this.dEContentType=new e.DERObjectIdentifier({oid:t}):this.dEContentType=new e.DERObjectIdentifier({name:t})},this.setContentValue=function(t){\"undefined\"!=typeof t&&(\"string\"==typeof t.hex?this.eContentValueHex=t.hex:\"string\"==typeof t.str&&(this.eContentValueHex=mn(t.str)))},this.setContentValueHex=function(t){this.eContentValueHex=t},this.setContentValueStr=function(t){this.eContentValueHex=mn(t)},this.getEncodedHex=function(){if(\"string\"!=typeof this.eContentValueHex)throw\"eContentValue not yet set\";var t=new e.DEROctetString({hex:this.eContentValueHex});this.dEContent=new e.DERTaggedObject({obj:t,tag:\"a0\",explicit:!0});var n=[this.dEContentType];this.isDetached||n.push(this.dEContent);var r=new e.DERSequence({array:n});return this.hTLV=r.getEncodedHex(),this.hTLV}},sr.lang.extend(Cr.asn1.cms.EncapsulatedContentInfo,Cr.asn1.ASN1Object),Cr.asn1.cms.ContentInfo=function(t){Cr.asn1.cms.ContentInfo.superclass.constructor.call(this);var e=Cr.asn1,n=(Cr.asn1.cms,Cr.asn1.x509);this.dContentType=null,this.dContent=null,this.setContentType=function(t){\"string\"==typeof t&&(this.dContentType=n.OID.name2obj(t))},this.getEncodedHex=function(){var t=new e.DERTaggedObject({obj:this.dContent,tag:\"a0\",explicit:!0}),n=new e.DERSequence({array:[this.dContentType,t]});return this.hTLV=n.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(t.type&&this.setContentType(t.type),t.obj&&t.obj instanceof e.ASN1Object&&(this.dContent=t.obj))},sr.lang.extend(Cr.asn1.cms.ContentInfo,Cr.asn1.ASN1Object),Cr.asn1.cms.SignedData=function(t){Cr.asn1.cms.SignedData.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.cms,r=Cr.asn1.x509;this.dCMSVersion=new e.DERInteger({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new n.EncapsulatedContentInfo,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new n.SignerInfo],this.addCertificatesByPEM=function(t){var n=Hr.getHexFromPEM(t),r=new e.ASN1Object;r.hTLV=n,this.certificateList.push(r)},this.getEncodedHex=function(){if(\"string\"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var t=[],n=0;n<this.digestAlgNameList.length;n++){var i=this.digestAlgNameList[n],s=new r.AlgorithmIdentifier({name:i});t.push(s)}this.dDigestAlgs=new e.DERSet({array:t})}var o=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var a=new e.DERSet({array:this.certificateList});this.dCerts=new e.DERTaggedObject({obj:a,tag:\"a0\",explicit:!1})}null!=this.dCerts&&o.push(this.dCerts);var u=new e.DERSet({array:this.signerInfoList});o.push(u);var h=new e.DERSequence({array:o});return this.hTLV=h.getEncodedHex(),this.hTLV},this.getContentInfo=function(){this.getEncodedHex();var t=new n.ContentInfo({type:\"signed-data\",obj:this});return t},this.getContentInfoEncodedHex=function(){var t=this.getContentInfo(),e=t.getEncodedHex();return e},this.getPEM=function(){var t=this.getContentInfoEncodedHex(),n=e.ASN1Util.getPEMStringFromHex(t,\"CMS\");return n}},sr.lang.extend(Cr.asn1.cms.SignedData,Cr.asn1.ASN1Object),Cr.asn1.cms.CMSUtil=new function(){},Cr.asn1.cms.CMSUtil.newSignedData=function(t){var e=Cr.asn1.cms,n=Cr.asn1.cades,r=new e.SignedData;if(r.dEncapContentInfo.setContentValue(t.content),\"object\"==typeof t.certs)for(var i=0;i<t.certs.length;i++)r.addCertificatesByPEM(t.certs[i]);r.signerInfoList=[];for(var i=0;i<t.signerInfos.length;i++){var s=t.signerInfos[i],o=new e.SignerInfo;o.setSignerIdentifier(s.signerCert),o.setForContentAndHash({sdObj:r,eciObj:r.dEncapContentInfo,hashAlg:s.hashAlg});for(attrName in s.sAttr){var a=s.sAttr[attrName];if(\"SigningTime\"==attrName){var u=new e.SigningTime(a);o.dSignedAttrs.add(u)}if(\"SigningCertificate\"==attrName){var u=new e.SigningCertificate(a);o.dSignedAttrs.add(u)}if(\"SigningCertificateV2\"==attrName){var u=new e.SigningCertificateV2(a);o.dSignedAttrs.add(u)}if(\"SignaturePolicyIdentifier\"==attrName){var u=new n.SignaturePolicyIdentifier(a);o.dSignedAttrs.add(u)}}o.sign(s.signerPrvKey,s.sigAlg),r.signerInfoList.push(o)}return r},/*! asn1tsp-1.0.1.js (c) 2014 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.asn1&&Cr.asn1||(Cr.asn1={}),\"undefined\"!=typeof Cr.asn1.tsp&&Cr.asn1.tsp||(Cr.asn1.tsp={}),Cr.asn1.tsp.Accuracy=function(t){Cr.asn1.tsp.Accuracy.superclass.constructor.call(this);var e=Cr.asn1;this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var t=null,n=null,r=null,i=[];if(null!=this.seconds&&(t=new e.DERInteger({int:this.seconds}),i.push(t)),null!=this.millis){var s=new e.DERInteger({int:this.millis});n=new e.DERTaggedObject({obj:s,tag:\"80\",explicit:!1}),i.push(n)}if(null!=this.micros){var o=new e.DERInteger({int:this.micros});r=new e.DERTaggedObject({obj:o,tag:\"81\",explicit:!1}),i.push(r)}var a=new e.DERSequence({array:i});return this.hTLV=a.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(\"number\"==typeof t.seconds&&(this.seconds=t.seconds),\"number\"==typeof t.millis&&(this.millis=t.millis),\"number\"==typeof t.micros&&(this.micros=t.micros))},sr.lang.extend(Cr.asn1.tsp.Accuracy,Cr.asn1.ASN1Object),Cr.asn1.tsp.MessageImprint=function(t){Cr.asn1.tsp.MessageImprint.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.x509;this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){if(\"string\"==typeof this.hTLV)return this.hTLV;var t=new e.DERSequence({array:[this.dHashAlg,this.dHashValue]});return t.getEncodedHex()},\"undefined\"!=typeof t&&(\"string\"==typeof t.hashAlg&&(this.dHashAlg=new n.AlgorithmIdentifier({name:t.hashAlg})),\"string\"==typeof t.hashValue&&(this.dHashValue=new e.DEROctetString({hex:t.hashValue})))},sr.lang.extend(Cr.asn1.tsp.MessageImprint,Cr.asn1.ASN1Object),Cr.asn1.tsp.TimeStampReq=function(t){Cr.asn1.tsp.TimeStampReq.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.tsp;this.dVersion=new e.DERInteger({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(t){return t instanceof Cr.asn1.tsp.MessageImprint?void(this.dMessageImprint=t):void(\"object\"==typeof t&&(this.dMessageImprint=new n.MessageImprint(t)))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw\"messageImprint shall be specified\";var t=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&t.push(this.dPolicy),null!=this.dNonce&&t.push(this.dNonce),this.certReq&&t.push(new e.DERBoolean);var n=new e.DERSequence({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(\"object\"==typeof t.mi&&this.setMessageImprint(t.mi),\"object\"==typeof t.policy&&(this.dPolicy=new e.DERObjectIdentifier(t.policy)),\"object\"==typeof t.nonce&&(this.dNonce=new e.DERInteger(t.nonce)),\"boolean\"==typeof t.certreq&&(this.certReq=t.certreq))},sr.lang.extend(Cr.asn1.tsp.TimeStampReq,Cr.asn1.ASN1Object),Cr.asn1.tsp.TSTInfo=function(t){Cr.asn1.tsp.TSTInfo.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.x509,r=Cr.asn1.tsp;if(this.dVersion=new e.DERInteger({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw\"policy shall be specified.\";if(t.push(this.dPolicy),null==this.dMessageImprint)throw\"messageImprint shall be specified.\";if(t.push(this.dMessageImprint),null==this.dSerialNumber)throw\"serialNumber shall be specified.\";if(t.push(this.dSerialNumber),null==this.dGenTime)throw\"genTime shall be specified.\";t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var n=new e.DERSequence({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t){if(\"string\"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw\"policy shall be oid like 0.1.4.134\";this.dPolicy=new e.DERObjectIdentifier({oid:t.policy})}\"undefined\"!=typeof t.messageImprint&&(this.dMessageImprint=new r.MessageImprint(t.messageImprint)),\"undefined\"!=typeof t.serialNumber&&(this.dSerialNumber=new e.DERInteger(t.serialNumber)),\"undefined\"!=typeof t.genTime&&(this.dGenTime=new e.DERGeneralizedTime(t.genTime)),\"undefind\"!=typeof t.accuracy&&(this.dAccuracy=new r.Accuracy(t.accuracy)),\"undefined\"!=typeof t.ordering&&1==t.ordering&&(this.dOrdering=new e.DERBoolean),\"undefined\"!=typeof t.nonce&&(this.dNonce=new e.DERInteger(t.nonce)),\"undefined\"!=typeof t.tsa&&(this.dTsa=new n.X500Name(t.tsa))}},sr.lang.extend(Cr.asn1.tsp.TSTInfo,Cr.asn1.ASN1Object),Cr.asn1.tsp.TimeStampResp=function(t){Cr.asn1.tsp.TimeStampResp.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.tsp;this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw\"status shall be specified\";var t=[this.dStatus];null!=this.dTST&&t.push(this.dTST);var n=new e.DERSequence({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(\"object\"==typeof t.status&&(this.dStatus=new n.PKIStatusInfo(t.status)),\"undefined\"!=typeof t.tst&&t.tst instanceof Cr.asn1.ASN1Object&&(this.dTST=t.tst.getContentInfo()))},sr.lang.extend(Cr.asn1.tsp.TimeStampResp,Cr.asn1.ASN1Object),Cr.asn1.tsp.PKIStatusInfo=function(t){Cr.asn1.tsp.PKIStatusInfo.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.tsp;this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw\"status shall be specified\";var t=[this.dStatus];null!=this.dStatusString&&t.push(this.dStatusString),null!=this.dFailureInfo&&t.push(this.dFailureInfo);var n=new e.DERSequence({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(\"object\"==typeof t.status&&(this.dStatus=new n.PKIStatus(t.status)),\"object\"==typeof t.statstr&&(this.dStatusString=new n.PKIFreeText({array:t.statstr})),\"object\"==typeof t.failinfo&&(this.dFailureInfo=new n.PKIFailureInfo(t.failinfo)))},sr.lang.extend(Cr.asn1.tsp.PKIStatusInfo,Cr.asn1.ASN1Object),Cr.asn1.tsp.PKIStatus=function(t){Cr.asn1.tsp.PKIStatus.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.tsp;if(this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t)if(\"undefined\"!=typeof t.name){var r=n.PKIStatus.valueList;if(\"undefined\"==typeof r[t.name])throw\"name undefined: \"+t.name;this.dStatus=new e.DERInteger({int:r[t.name]})}else this.dStatus=new e.DERInteger(t)},sr.lang.extend(Cr.asn1.tsp.PKIStatus,Cr.asn1.ASN1Object),Cr.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},Cr.asn1.tsp.PKIFreeText=function(t){Cr.asn1.tsp.PKIFreeText.superclass.constructor.call(this);var e=Cr.asn1;this.textList=[],this.getEncodedHex=function(){for(var t=[],n=0;n<this.textList.length;n++)t.push(new e.DERUTF8String({str:this.textList[n]}));var r=new e.DERSequence({array:t});return this.hTLV=r.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&\"object\"==typeof t.array&&(this.textList=t.array)},sr.lang.extend(Cr.asn1.tsp.PKIFreeText,Cr.asn1.ASN1Object),Cr.asn1.tsp.PKIFailureInfo=function(t){Cr.asn1.tsp.PKIFailureInfo.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.tsp;if(this.value=null,this.getEncodedHex=function(){if(null==this.value)throw\"value shall be specified\";var t=new Number(this.value).toString(2),n=new e.DERBitString;return n.setByBinaryString(t),this.hTLV=n.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t)if(\"string\"==typeof t.name){var r=n.PKIFailureInfo.valueList;if(\"undefined\"==typeof r[t.name])throw\"name undefined: \"+t.name;this.value=r[t.name]}else\"number\"==typeof t.int&&(this.value=t.int)},sr.lang.extend(Cr.asn1.tsp.PKIFailureInfo,Cr.asn1.ASN1Object),Cr.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},Cr.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(t,e){throw\"not implemented yet\"}},Cr.asn1.tsp.SimpleTSAAdapter=function(t){Cr.asn1.tsp.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,e){var n=Cr.crypto.Util.hashHex(t,e);this.params.tstInfo.messageImprint={hashAlg:e,hashValue:n},this.params.tstInfo.serialNumber={int:this.serial++};var r=Math.floor(1e9*Math.random());this.params.tstInfo.nonce={int:r};var i=Cr.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return i.getContentInfoEncodedHex()},\"undefined\"!=typeof t&&(this.params=t)},sr.lang.extend(Cr.asn1.tsp.SimpleTSAAdapter,Cr.asn1.tsp.AbstractTSAAdapter),Cr.asn1.tsp.FixedTSAAdapter=function(t){Cr.asn1.tsp.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,e){var n=Cr.crypto.Util.hashHex(t,e);this.params.tstInfo.messageImprint={hashAlg:e,hashValue:n};var r=Cr.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return r.getContentInfoEncodedHex()},\"undefined\"!=typeof t&&(this.params=t)},sr.lang.extend(Cr.asn1.tsp.FixedTSAAdapter,Cr.asn1.tsp.AbstractTSAAdapter),Cr.asn1.tsp.TSPUtil=new function(){},Cr.asn1.tsp.TSPUtil.newTimeStampToken=function(t){var e=Cr.asn1.cms,n=Cr.asn1.tsp,r=new e.SignedData,i=new n.TSTInfo(t.tstInfo),s=i.getEncodedHex();if(r.dEncapContentInfo.setContentValue({hex:s}),r.dEncapContentInfo.setContentType(\"tstinfo\"),\"object\"==typeof t.certs)for(var o=0;o<t.certs.length;o++)r.addCertificatesByPEM(t.certs[o]);var a=r.signerInfoList[0];a.setSignerIdentifier(t.signerCert),a.setForContentAndHash({sdObj:r,eciObj:r.dEncapContentInfo,hashAlg:t.hashAlg});var u=new e.SigningCertificate({array:[t.signerCert]});return a.dSignedAttrs.add(u),a.sign(t.signerPrvKey,t.sigAlg),r},Cr.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){var e={};e.certreq=!1;var n=Or.getPosArrayOfChildren_AtObj(t,0);if(n.length<2)throw\"TimeStampReq must have at least 2 items\";var r=Or.getHexOfTLV_AtObj(t,n[1]);e.mi=Cr.asn1.tsp.TSPUtil.parseMessageImprint(r);for(var i=2;i<n.length;i++){var s=n[i],o=t.substr(s,2);if(\"06\"==o){var a=Or.getHexOfV_AtObj(t,s);e.policy=Or.hextooidstr(a)}\"02\"==o&&(e.nonce=Or.getHexOfV_AtObj(t,s)),\"01\"==o&&(e.certreq=!0)}return e},Cr.asn1.tsp.TSPUtil.parseMessageImprint=function(t){var e={};if(\"30\"!=t.substr(0,2))throw\"head of messageImprint hex shall be '30'\";var n=(Or.getPosArrayOfChildren_AtObj(t,0),Or.getDecendantIndexByNthList(t,0,[0,0])),r=Or.getHexOfV_AtObj(t,n),i=Or.hextooidstr(r),s=Cr.asn1.x509.OID.oid2name(i);if(\"\"==s)throw\"hashAlg name undefined: \"+i;var o=s,a=Or.getDecendantIndexByNthList(t,0,[1]);return e.hashAlg=o,e.hashValue=Or.getHexOfV_AtObj(t,a),e},/*! asn1cades-1.0.0.js (c) 2013-2014 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.asn1&&Cr.asn1||(Cr.asn1={}),\"undefined\"!=typeof Cr.asn1.cades&&Cr.asn1.cades||(Cr.asn1.cades={}),Cr.asn1.cades.SignaturePolicyIdentifier=function(t){Cr.asn1.cades.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.16.2.15\";var e=Cr.asn1,n=Cr.asn1.cades;if(\"undefined\"!=typeof t&&\"string\"==typeof t.oid&&\"object\"==typeof t.hash){var r=new e.DERObjectIdentifier({oid:t.oid}),i=new n.OtherHashAlgAndValue(t.hash),s=new e.DERSequence({array:[r,i]});this.valueList=[s]}},sr.lang.extend(Cr.asn1.cades.SignaturePolicyIdentifier,Cr.asn1.cms.Attribute),Cr.asn1.cades.OtherHashAlgAndValue=function(t){Cr.asn1.cades.OtherHashAlgAndValue.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.x509;this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var t=new e.DERSequence({array:[this.dAlg,this.dHash]});return this.hTLV=t.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&\"string\"==typeof t.alg&&\"string\"==typeof t.hash&&(this.dAlg=new n.AlgorithmIdentifier({name:t.alg}),this.dHash=new e.DEROctetString({hex:t.hash}))},sr.lang.extend(Cr.asn1.cades.OtherHashAlgAndValue,Cr.asn1.ASN1Object),Cr.asn1.cades.SignatureTimeStamp=function(t){Cr.asn1.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.16.2.14\",this.tstHex=null;var e=Cr.asn1;if(\"undefined\"!=typeof t){if(\"undefined\"!=typeof t.res)if(\"string\"==typeof t.res&&t.res.match(/^[0-9A-Fa-f]+$/));else if(!(t.res instanceof Cr.asn1.ASN1Object))throw\"res param shall be ASN1Object or hex string\";if(\"undefined\"!=typeof t.tst)if(\"string\"==typeof t.tst&&t.tst.match(/^[0-9A-Fa-f]+$/)){var n=new e.ASN1Object;this.tstHex=t.tst,n.hTLV=this.tstHex,n.getEncodedHex(),this.valueList=[n]}else if(!(t.tst instanceof Cr.asn1.ASN1Object))throw\"tst param shall be ASN1Object or hex string\"}},sr.lang.extend(Cr.asn1.cades.SignatureTimeStamp,Cr.asn1.cms.Attribute),Cr.asn1.cades.CompleteCertificateRefs=function(t){Cr.asn1.cades.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid=\"1.2.840.113549.1.9.16.2.21\";var e=(Cr.asn1,Cr.asn1.cades);this.setByArray=function(t){this.valueList=[];for(var n=0;n<t.length;n++){var r=new e.OtherCertID(t[n]);this.valueList.push(r)}},\"undefined\"!=typeof t&&\"object\"==typeof t&&\"number\"==typeof t.length&&this.setByArray(t)},sr.lang.extend(Cr.asn1.cades.CompleteCertificateRefs,Cr.asn1.cms.Attribute),Cr.asn1.cades.OtherCertID=function(t){Cr.asn1.cades.OtherCertID.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.cms,r=Cr.asn1.cades;this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(t){this.dOtherCertHash=new r.OtherHash(t),this.hasIssuerSerial&&(this.dIssuerSerial=new n.IssuerAndSerialNumber(t))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw\"otherCertHash not set\";var t=[this.dOtherCertHash];null!=this.dIssuerSerial&&t.push(this.dIssuerSerial);var n=new e.DERSequence({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},\"undefined\"!=typeof t&&(\"string\"==typeof t&&t.indexOf(\"-----BEGIN \")!=-1&&this.setByCertPEM(t),\"object\"==typeof t&&(t.hasis===!1&&(this.hasIssuerSerial=!1),\"string\"==typeof t.cert&&this.setByCertPEM(t.cert)))},sr.lang.extend(Cr.asn1.cades.OtherCertID,Cr.asn1.ASN1Object),Cr.asn1.cades.OtherHash=function(t){Cr.asn1.cades.OtherHash.superclass.constructor.call(this);var e=Cr.asn1,n=Cr.asn1.cades;if(this.alg=\"sha256\",this.dOtherHash=null,this.setByCertPEM=function(t){if(t.indexOf(\"-----BEGIN \")==-1)throw\"certPEM not to seem PEM format\";var e=$n.pemToHex(t),r=Cr.crypto.Util.hashHex(e,this.alg);this.dOtherHash=new n.OtherHashAlgAndValue({alg:this.alg,hash:r})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw\"OtherHash not set\";return this.dOtherHash.getEncodedHex()},\"undefined\"!=typeof t)if(\"string\"==typeof t)if(t.indexOf(\"-----BEGIN \")!=-1)this.setByCertPEM(t);else{if(!t.match(/^[0-9A-Fa-f]+$/))throw\"unsupported string value for params\";this.dOtherHash=new e.DEROctetString({hex:t})}else\"object\"==typeof t&&(\"string\"==typeof t.cert?(\"string\"==typeof t.alg&&(this.alg=t.alg),this.setByCertPEM(t.cert)):this.dOtherHash=new n.OtherHashAlgAndValue(t))},sr.lang.extend(Cr.asn1.cades.OtherHash,Cr.asn1.ASN1Object),Cr.asn1.cades.CAdESUtil=new function(){},Cr.asn1.cades.CAdESUtil.addSigTS=function(t,e,n){},Cr.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){var e=Cr.asn1,n=Cr.asn1.cms,r=Cr.asn1.cades.CAdESUtil,i={};if(\"06092a864886f70d010702\"!=Or.getDecendantHexTLVByNthList(t,0,[0]))throw\"hex is not CMS SignedData\";var s=Or.getDecendantIndexByNthList(t,0,[1,0]),o=Or.getPosArrayOfChildren_AtObj(t,s);if(o.length<4)throw\"num of SignedData elem shall be 4 at least\";var a=o.shift();i.version=Or.getHexOfTLV_AtObj(t,a);var u=o.shift();i.algs=Or.getHexOfTLV_AtObj(t,u);var h=o.shift();i.encapcontent=Or.getHexOfTLV_AtObj(t,h),i.certs=null,i.revs=null,i.si=[];var c=o.shift();\"a0\"==t.substr(c,2)&&(i.certs=Or.getHexOfTLV_AtObj(t,c),c=o.shift()),\"a1\"==t.substr(c,2)&&(i.revs=Or.getHexOfTLV_AtObj(t,c),c=o.shift());var f=c;if(\"31\"!=t.substr(f,2))throw\"Can't find signerInfos\";for(var l=Or.getPosArrayOfChildren_AtObj(t,f),d=0;d<l.length;d++){var g=l[d],p=r.parseSignerInfoForAddingUnsigned(t,g,d);i.si[d]=p}var y=null;i.obj=new n.SignedData,y=new e.ASN1Object,y.hTLV=i.version,i.obj.dCMSVersion=y,y=new e.ASN1Object,y.hTLV=i.algs,i.obj.dDigestAlgs=y,y=new e.ASN1Object,y.hTLV=i.encapcontent,i.obj.dEncapContentInfo=y,y=new e.ASN1Object,y.hTLV=i.certs,i.obj.dCerts=y,i.obj.signerInfoList=[];for(var d=0;d<i.si.length;d++)i.obj.signerInfoList.push(i.si[d].obj);return i},Cr.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,n){var r=Cr.asn1,i=Cr.asn1.cms,s={},o=Or.getPosArrayOfChildren_AtObj(t,e);if(6!=o.length)throw\"not supported items for SignerInfo (!=6)\";var a=o.shift();s.version=Or.getHexOfTLV_AtObj(t,a);var u=o.shift();s.si=Or.getHexOfTLV_AtObj(t,u);var h=o.shift();s.digalg=Or.getHexOfTLV_AtObj(t,h);var c=o.shift();s.sattrs=Or.getHexOfTLV_AtObj(t,c);var f=o.shift();s.sigalg=Or.getHexOfTLV_AtObj(t,f);var l=o.shift();s.sig=Or.getHexOfTLV_AtObj(t,l),s.sigval=Or.getHexOfV_AtObj(t,l);var d=null;return s.obj=new i.SignerInfo,d=new r.ASN1Object,d.hTLV=s.version,s.obj.dCMSVersion=d,d=new r.ASN1Object,d.hTLV=s.si,s.obj.dSignerIdentifier=d,d=new r.ASN1Object,d.hTLV=s.digalg,s.obj.dDigestAlgorithm=d,d=new r.ASN1Object,d.hTLV=s.sattrs,s.obj.dSignedAttrs=d,d=new r.ASN1Object,d.hTLV=s.sigalg,s.obj.dSigAlg=d,d=new r.ASN1Object,d.hTLV=s.sig,s.obj.dSig=d,s.obj.dUnsignedAttrs=new i.AttributeList,s},/*! asn1csr-1.0.0.js (c) 2015 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr.asn1.csr&&Cr.asn1.csr||(Cr.asn1.csr={}),Cr.asn1.csr.CertificationRequest=function(t){Cr.asn1.csr.CertificationRequest.superclass.constructor.call(this);this.sign=function(t,e){null==this.prvKey&&(this.prvKey=e),this.asn1SignatureAlg=new Cr.asn1.x509.AlgorithmIdentifier({name:t}),sig=new Cr.crypto.Signature({alg:t}),sig.initSign(this.prvKey),sig.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new Cr.asn1.DERBitString({hex:\"00\"+this.hexSig});var n=new Cr.asn1.DERSequence({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=n.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){var t=Cr.asn1.ASN1Util.getPEMStringFromHex(this.getEncodedHex(),\"CERTIFICATE REQUEST\");return t},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw\"not signed yet\"},\"undefined\"!=typeof t&&\"undefined\"!=typeof t.csrinfo&&(this.asn1CSRInfo=t.csrinfo)},sr.lang.extend(Cr.asn1.csr.CertificationRequest,Cr.asn1.ASN1Object),Cr.asn1.csr.CertificationRequestInfo=function(t){Cr.asn1.csr.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new Cr.asn1.DERInteger({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(t){this.asn1Subject=new Cr.asn1.x509.X500Name(t)},this.setSubjectPublicKeyByGetKey=function(t){var e=Hr.getKey(t);this.asn1SubjPKey=new Cr.asn1.x509.SubjectPublicKeyInfo(e)},this.getEncodedHex=function(){this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey);var t=new Cr.asn1.DERSequence({array:this.extensionsArray}),e=new Cr.asn1.DERTaggedObject({explicit:!1,tag:\"a0\",obj:t});this.asn1Array.push(e);var n=new Cr.asn1.DERSequence({array:this.asn1Array});return this.hTLV=n.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},sr.lang.extend(Cr.asn1.csr.CertificationRequestInfo,Cr.asn1.ASN1Object),Cr.asn1.csr.CSRUtil=new function(){},Cr.asn1.csr.CSRUtil.newCSRPEM=function(t){var e=Cr.asn1.csr;if(void 0===t.subject)throw\"parameter subject undefined\";if(void 0===t.sbjpubkey)throw\"parameter sbjpubkey undefined\";if(void 0===t.sigalg)throw\"parameter sigalg undefined\";if(void 0===t.sbjprvkey)throw\"parameter sbjpubkey undefined\";var n=new e.CertificationRequestInfo;n.setSubjectByParam(t.subject),n.setSubjectPublicKeyByGetKey(t.sbjpubkey);var r=new e.CertificationRequest({csrinfo:n}),i=Hr.getKey(t.sbjprvkey);r.sign(t.sigalg,i);var s=r.getPEMString();return s};/*! base64x-1.1.7 (c) 2012-2016 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\nvar Cr;\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.lang&&Cr.lang||(Cr.lang={}),Cr.lang.String=function(){};var Tr,Dr;\"function\"==typeof t?(Tr=function(e){return ln(new t(e,\"utf8\").toString(\"base64\"))},Dr=function(e){return new t(dn(e),\"base64\").toString(\"utf8\")}):(Tr=function(t){return gn(_n(An(t)))},Dr=function(t){return decodeURIComponent(xn(pn(t)))}),Cr.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},Cr.lang.String.isHex=function(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))},Cr.lang.String.isBase64=function(t){return t=t.replace(/\\s+/g,\"\"),!(!t.match(/^[0-9A-Za-z+\\/]+={0,3}$/)||t.length%4!=0)},Cr.lang.String.isBase64URL=function(t){return!t.match(/[+\\/=]/)&&(t=dn(t),Cr.lang.String.isBase64(t))},Cr.lang.String.isIntegerArray=function(t){return t=t.replace(/\\s+/g,\"\"),!!t.match(/^\\[[0-9,]+\\]$/)};var Rr=function(t,e){var n=t.length;t.length>e.length&&(n=e.length);for(var r=0;r<n;r++)if(t.charCodeAt(r)!=e.charCodeAt(r))return r;return t.length!=e.length?n:-1};/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.crypto&&Cr.crypto||(Cr.crypto={}),Cr.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:\"3021300906052b0e03021a05000414\",sha224:\"302d300d06096086480165030402040500041c\",sha256:\"3031300d060960864801650304020105000420\",sha384:\"3041300d060960864801650304020205000430\",sha512:\"3051300d060960864801650304020305000440\",md2:\"3020300c06082a864886f70d020205000410\",md5:\"3020300c06082a864886f70d020505000410\",ripemd160:\"3021300906052b2403020105000414\"},this.DEFAULTPROVIDER={md5:\"cryptojs\",sha1:\"cryptojs\",sha224:\"cryptojs\",sha256:\"cryptojs\",sha384:\"cryptojs\",sha512:\"cryptojs\",ripemd160:\"cryptojs\",hmacmd5:\"cryptojs\",hmacsha1:\"cryptojs\",hmacsha224:\"cryptojs\",hmacsha256:\"cryptojs\",hmacsha384:\"cryptojs\",hmacsha512:\"cryptojs\",hmacripemd160:\"cryptojs\",MD5withRSA:\"cryptojs/jsrsa\",SHA1withRSA:\"cryptojs/jsrsa\",SHA224withRSA:\"cryptojs/jsrsa\",SHA256withRSA:\"cryptojs/jsrsa\",SHA384withRSA:\"cryptojs/jsrsa\",SHA512withRSA:\"cryptojs/jsrsa\",RIPEMD160withRSA:\"cryptojs/jsrsa\",MD5withECDSA:\"cryptojs/jsrsa\",SHA1withECDSA:\"cryptojs/jsrsa\",SHA224withECDSA:\"cryptojs/jsrsa\",SHA256withECDSA:\"cryptojs/jsrsa\",SHA384withECDSA:\"cryptojs/jsrsa\",SHA512withECDSA:\"cryptojs/jsrsa\",RIPEMD160withECDSA:\"cryptojs/jsrsa\",SHA1withDSA:\"cryptojs/jsrsa\",SHA224withDSA:\"cryptojs/jsrsa\",SHA256withDSA:\"cryptojs/jsrsa\",MD5withRSAandMGF1:\"cryptojs/jsrsa\",SHA1withRSAandMGF1:\"cryptojs/jsrsa\",SHA224withRSAandMGF1:\"cryptojs/jsrsa\",SHA256withRSAandMGF1:\"cryptojs/jsrsa\",SHA384withRSAandMGF1:\"cryptojs/jsrsa\",SHA512withRSAandMGF1:\"cryptojs/jsrsa\",RIPEMD160withRSAandMGF1:\"cryptojs/jsrsa\"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:or.algo.MD5,sha1:or.algo.SHA1,sha224:or.algo.SHA224,sha256:or.algo.SHA256,sha384:or.algo.SHA384,sha512:or.algo.SHA512,ripemd160:or.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(\"undefined\"==typeof this.DIGESTINFOHEAD[e])throw\"alg not supported in Util.DIGESTINFOHEAD: \"+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,n){var r=this.getDigestInfoHex(t,e),i=n/4;if(r.length+22>i)throw\"key is too short for SigAlg: keylen=\"+n+\",\"+e;for(var s=\"0001\",o=\"00\"+r,a=\"\",u=i-s.length-o.length,h=0;h<u;h+=2)a+=\"ff\";var c=s+a+o;return c},this.hashString=function(t,e){var n=new Cr.crypto.MessageDigest({alg:e});return n.digestString(t)},this.hashHex=function(t,e){var n=new Cr.crypto.MessageDigest({alg:e});return n.digestHex(t)},this.sha1=function(t){var e=new Cr.crypto.MessageDigest({alg:\"sha1\",prov:\"cryptojs\"});return e.digestString(t)},this.sha256=function(t){var e=new Cr.crypto.MessageDigest({alg:\"sha256\",prov:\"cryptojs\"});return e.digestString(t)},this.sha256Hex=function(t){var e=new Cr.crypto.MessageDigest({alg:\"sha256\",prov:\"cryptojs\"});return e.digestHex(t)},this.sha512=function(t){var e=new Cr.crypto.MessageDigest({alg:\"sha512\",prov:\"cryptojs\"});return e.digestString(t)},this.sha512Hex=function(t){var e=new Cr.crypto.MessageDigest({alg:\"sha512\",prov:\"cryptojs\"});return e.digestHex(t)},this.md5=function(t){var e=new Cr.crypto.MessageDigest({alg:\"md5\",prov:\"cryptojs\"});return e.digestString(t)},this.ripemd160=function(t){var e=new Cr.crypto.MessageDigest({alg:\"ripemd160\",prov:\"cryptojs\"});return e.digestString(t)},this.getCryptoJSMDByName=function(t){}},Cr.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!=t&&void 0===e&&(e=Cr.crypto.Util.DEFAULTPROVIDER[t]),\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(t)!=-1&&\"cryptojs\"==e){try{this.md=Cr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+t+\"/\"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=or.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return t.toString(or.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(\":sha256:\".indexOf(t)!=-1&&\"sjcl\"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+t+\"/\"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw\"updateString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digest=function(){throw\"digest() not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digestString=function(t){throw\"digestString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digestHex=function(t){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Cr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Cr.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(t=t.toLowerCase(),null==t&&(t=\"hmacsha1\"),t=t.toLowerCase(),\"hmac\"!=t.substr(0,4))throw\"setAlgAndProvider unsupported HMAC alg: \"+t;void 0===e&&(e=Cr.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+\"/\"+e;var n=t.substr(4);if(\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(n)!=-1&&\"cryptojs\"==e){try{var r=Cr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=or.algo.HMAC.create(r,this.pass)}catch(t){throw\"setAlgAndProvider hash alg set fail hashAlg=\"+n+\"/\"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=or.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){var t=this.mac.finalize();return t.toString(or.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw\"updateString(str) not supported for this alg/prov: \"+this.algProv},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algProv},this.doFinal=function(){throw\"digest() not supported for this alg/prov: \"+this.algProv},this.doFinalString=function(t){throw\"digestString(str) not supported for this alg/prov: \"+this.algProv},this.doFinalHex=function(t){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algProv},this.setPassword=function(t){if(\"string\"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=wn(t)),void(this.pass=or.enc.Hex.parse(e))}if(\"object\"!=typeof t)throw\"KJUR.crypto.Mac unsupported password type: \"+t;var e=null;if(void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw\"Mac: wrong hex password: \"+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=mn(t.utf8)),void 0!==t.rstr&&(e=wn(t.rstr)),void 0!==t.b64&&(e=i(t.b64)),void 0!==t.b64u&&(e=pn(t.b64u)),null==e)throw\"KJUR.crypto.Mac unsupported password type: \"+t;this.pass=or.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Cr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Cr.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){this.algName.match(/^(.+)with(.+)$/)&&(this.mdAlgName=RegExp.$1.toLowerCase(),this.pubkeyAlgName=RegExp.$2.toLowerCase())},this._zeroPaddingOfSignature=function(t,e){for(var n=\"\",r=e/4-t.length,i=0;i<r;i++)n+=\"0\";return n+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),\"cryptojs/jsrsa\"!=e)throw\"provider not supported: \"+e;if(\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(this.mdAlgName)!=-1){try{this.md=new Cr.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw\"setAlgAndProvider hash alg set fail alg=\"+this.mdAlgName+\"/\"+t}this.init=function(t,e){var n=null;try{n=void 0===e?Hr.getKey(t):Hr.getKey(t,e)}catch(t){throw\"init failed:\"+t}if(n.isPrivate===!0)this.prvKey=n,this.state=\"SIGN\";else{if(n.isPublic!==!0)throw\"init failed.:\"+n;this.pubKey=n,this.state=\"VERIFY\"}},this.initSign=function(t){\"string\"==typeof t.ecprvhex&&\"string\"==typeof t.eccurvename?(this.ecprvhex=t.ecprvhex,this.eccurvename=t.eccurvename):this.prvKey=t,this.state=\"SIGN\"},this.initVerifyByPublicKey=function(t){\"string\"==typeof t.ecpubhex&&\"string\"==typeof t.eccurvename?(this.ecpubhex=t.ecpubhex,this.eccurvename=t.eccurvename):t instanceof Cr.crypto.ECDSA?this.pubKey=t:t instanceof ve&&(this.pubKey=t),this.state=\"VERIFY\"},this.initVerifyByCertificatePEM=function(t){var e=new $n;e.readCertPEM(t),this.pubKey=e.subjectPublicKeyRSA,this.state=\"VERIFY\"},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),\"undefined\"!=typeof this.ecprvhex&&\"undefined\"!=typeof this.eccurvename){var t=new Cr.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof ve&&\"rsaandmgf1\"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ve&&\"rsa\"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Cr.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Cr.crypto.DSA))throw\"Signature: unsupported public key alg: \"+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),\"undefined\"!=typeof this.ecpubhex&&\"undefined\"!=typeof this.eccurvename){var e=new Cr.crypto.ECDSA({curve:this.eccurvename});return e.verifyHex(this.sHashHex,t,this.ecpubhex)}if(this.pubKey instanceof ve&&\"rsaandmgf1\"==this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ve&&\"rsa\"==this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(this.pubKey instanceof Cr.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(this.pubKey instanceof Cr.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw\"Signature: unsupported public key alg: \"+this.pubkeyAlgName}}},this.init=function(t,e){throw\"init(key, pass) not supported for this alg:prov=\"+this.algProvName},this.initVerifyByPublicKey=function(t){throw\"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov=\"+this.algProvName},this.initVerifyByCertificatePEM=function(t){throw\"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov=\"+this.algProvName},this.initSign=function(t){throw\"initSign(prvKey) not supported for this alg:prov=\"+this.algProvName},this.updateString=function(t){throw\"updateString(str) not supported for this alg:prov=\"+this.algProvName},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg:prov=\"+this.algProvName},this.sign=function(){throw\"sign() not supported for this alg:prov=\"+this.algProvName},this.signString=function(t){throw\"digestString(str) not supported for this alg:prov=\"+this.algProvName},this.signHex=function(t){throw\"digestHex(hex) not supported for this alg:prov=\"+this.algProvName},this.verify=function(t){throw\"verify(hSigVal) not supported for this alg:prov=\"+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=Cr.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+\":\"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw\"both prvkeypem and prvkeypas parameters not supported\";try{var e=new ve;e.readPrivateKeyFromPEMString(t.prvkeypem),this.initSign(e)}catch(t){throw\"fatal error to load pem private key: \"+t}}},Cr.crypto.OID=new function(){this.oidhex2name={\"2a864886f70d010101\":\"rsaEncryption\",\"2a8648ce3d0201\":\"ecPublicKey\",\"2a8648ce380401\":\"dsa\",\"2a8648ce3d030107\":\"secp256r1\",\"2b8104001f\":\"secp192k1\",\"2b81040021\":\"secp224r1\",\"2b8104000a\":\"secp256k1\",\"2b81040023\":\"secp521r1\",\"2b81040022\":\"secp384r1\",\"2a8648ce380403\":\"SHA1withDSA\",\"608648016503040301\":\"SHA224withDSA\",\"608648016503040302\":\"SHA256withDSA\"}},/*! ecdsa-modified-1.0.5.js (c) Stephan Thomas, Kenji Urushima | github.com/bitcoinjs/bitcoinjs-lib/blob/master/LICENSE\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.crypto&&Cr.crypto||(Cr.crypto={}),Cr.crypto.ECDSA=function(t){var e=\"secp256r1\",n=new le;this.type=\"EC\",this.getBigRandom=function(t){return new o(t.bitLength(),n).mod(t.subtract(o.ONE)).add(o.ONE)},this.setNamedCurve=function(t){this.ecparams=Cr.crypto.ECParameterDB.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if(\"04\"!==t.substr(0,2))throw\"this method supports uncompressed format(04) only\";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw\"malformed public key hex length\";var n={};return n.x=t.substr(2,e),n.y=t.substr(2+e),n},this.getShortNISTPCurveName=function(){var t=this.curveName;return\"secp256r1\"===t||\"NIST P-256\"===t||\"P-256\"===t||\"prime256v1\"===t?\"P-256\":\"secp384r1\"===t||\"NIST P-384\"===t||\"P-384\"===t?\"P-384\":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),n=this.ecparams.G.multiply(e),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),s=this.ecparams.keylen/4,o=(\"0000000000\"+e.toString(16)).slice(-s),a=(\"0000000000\"+r.toString(16)).slice(-s),u=(\"0000000000\"+i.toString(16)).slice(-s),h=\"04\"+a+u;return this.setPrivateKeyHex(o),this.setPublicKeyHex(h),{ecprvhex:o,ecpubhex:h}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new o(e,16),r=this.ecparams.n,i=new o(t,16);do var s=this.getBigRandom(r),a=this.ecparams.G,u=a.multiply(s),h=u.getX().toBigInteger().mod(r);while(h.compareTo(o.ZERO)<=0);var c=s.modInverse(r).multiply(i.add(n.multiply(h))).mod(r);return Cr.crypto.ECDSA.biRSSigToASN1Sig(h,c)},this.sign=function(t,e){var n=e,r=this.ecparams.n,i=o.fromByteArrayUnsigned(t);do var s=this.getBigRandom(r),a=this.ecparams.G,u=a.multiply(s),h=u.getX().toBigInteger().mod(r);while(h.compareTo(o.ZERO)<=0);var c=s.modInverse(r).multiply(i.add(n.multiply(h))).mod(r);return this.serializeSig(h,c)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,n){var r,i,s=Cr.crypto.ECDSA.parseSigHex(e);r=s.r,i=s.s;var a;a=Me.decodeFromHex(this.ecparams.curve,n);var u=new o(t,16);return this.verifyRaw(u,r,i,a)},this.verify=function(t,e,n){var r,i;if(Bitcoin.Util.isArray(e)){var s=this.parseSig(e);r=s.r,i=s.s}else{if(\"object\"!=typeof e||!e.r||!e.s)throw\"Invalid value for signature\";r=e.r,i=e.s}var a;if(n instanceof Me)a=n;else{if(!Bitcoin.Util.isArray(n))throw\"Invalid format for pubkey value, must be byte array or ECPointFp\";a=Me.decodeFrom(this.ecparams.curve,n)}var u=o.fromByteArrayUnsigned(t);return this.verifyRaw(u,r,i,a)},this.verifyRaw=function(t,e,n,r){var i=this.ecparams.n,s=this.ecparams.G;if(e.compareTo(o.ONE)<0||e.compareTo(i)>=0)return!1;if(n.compareTo(o.ONE)<0||n.compareTo(i)>=0)return!1;var a=n.modInverse(i),u=t.multiply(a).mod(i),h=e.multiply(a).mod(i),c=s.multiply(u).add(r.multiply(h)),f=c.getX().toBigInteger().mod(i);return f.equals(e)},this.serializeSig=function(t,e){var n=t.toByteArraySigned(),r=e.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),i=i.concat(n),i.push(2),i.push(r.length),i=i.concat(r),i.unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error(\"Signature not a valid DERSequence\");if(e=2,2!=t[e])throw new Error(\"First element in signature must be a DERInteger\");var n=t.slice(e+2,e+2+t[e+1]);if(e+=2+t[e+1],2!=t[e])throw new Error(\"Second element in signature must be a DERInteger\");var r=t.slice(e+2,e+2+t[e+1]);e+=2+t[e+1];var i=o.fromByteArrayUnsigned(n),s=o.fromByteArrayUnsigned(r);return{r:i,s:s}},this.parseSigCompact=function(t){if(65!==t.length)throw\"Signature has the wrong length\";var e=t[0]-27;if(e<0||e>7)throw\"Invalid signature type\";var n=this.ecparams.n,r=o.fromByteArrayUnsigned(t.slice(1,33)).mod(n),i=o.fromByteArrayUnsigned(t.slice(33,65)).mod(n);return{r:r,s:i,i:e}},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName=e),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},Cr.crypto.ECDSA.parseSigHex=function(t){var e=Cr.crypto.ECDSA.parseSigHexInHexRS(t),n=new o(e.r,16),r=new o(e.s,16);return{r:n,s:r}},Cr.crypto.ECDSA.parseSigHexInHexRS=function(t){if(\"30\"!=t.substr(0,2))throw\"signature is not a ASN.1 sequence\";var e=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=e.length)throw\"number of signature ASN.1 sequence elements seem wrong\";var n=e[0],r=e[1];if(\"02\"!=t.substr(n,2))throw\"1st item of sequene of signature is not ASN.1 integer\";if(\"02\"!=t.substr(r,2))throw\"2nd item of sequene of signature is not ASN.1 integer\";var i=Or.getHexOfV_AtObj(t,n),s=Or.getHexOfV_AtObj(t,r);return{r:i,s:s}},Cr.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=Cr.crypto.ECDSA.parseSigHexInHexRS(t),n=e.r,r=e.s;if(\"00\"==n.substr(0,2)&&n.length/2*8%128==8&&(n=n.substr(2)),\"00\"==r.substr(0,2)&&r.length/2*8%128==8&&(r=r.substr(2)),n.length/2*8%128!=0)throw\"unknown ECDSA sig r length error\";if(r.length/2*8%128!=0)throw\"unknown ECDSA sig s length error\";return n+r},Cr.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw\"unknown ECDSA concatinated r-s sig  length error\";var e=t.substr(0,t.length/2),n=t.substr(t.length/2);return Cr.crypto.ECDSA.hexRSSigToASN1Sig(e,n)},Cr.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var n=new o(t,16),r=new o(e,16);return Cr.crypto.ECDSA.biRSSigToASN1Sig(n,r)},Cr.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var n=new Cr.asn1.DERInteger({bigint:t}),r=new Cr.asn1.DERInteger({bigint:e}),i=new Cr.asn1.DERSequence({array:[n,r]});return i.getEncodedHex()},/*! ecparam-1.0.0.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.crypto&&Cr.crypto||(Cr.crypto={}),Cr.crypto.ECParameterDB=new function(){function t(t){return new o(t,16)}var e={},n={};this.getByName=function(t){var r=t;if(\"undefined\"!=typeof n[r]&&(r=n[t]),\"undefined\"!=typeof e[r])return e[r];throw\"unregistered EC curve name: \"+r},this.regist=function(r,i,s,o,a,u,h,c,f,l,d,g){e[r]={};var p=t(s),y=t(o),v=t(a),m=t(u),S=t(h),b=new Xe(p,y,v),w=b.decodePointHex(\"04\"+c+f);e[r].name=r,e[r].keylen=i,e[r].curve=b,e[r].G=w,e[r].n=m,e[r].h=S,e[r].oid=d,e[r].info=g;for(var E=0;E<l.length;E++)n[l[E]]=r}},Cr.crypto.ECParameterDB.regist(\"secp128r1\",128,\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\",\"E87579C11079F43DD824993C2CEE5ED3\",\"FFFFFFFE0000000075A30D1B9038A115\",\"1\",\"161FF7528B899B2D0C28607CA52C5B86\",\"CF5AC8395BAFEB13C02DA292DDED7A83\",[],\"\",\"secp128r1 : SECG curve over a 128 bit prime field\"),Cr.crypto.ECParameterDB.regist(\"secp160k1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\",\"0\",\"7\",\"0100000000000000000001B8FA16DFAB9ACA16B6B3\",\"1\",\"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\",\"938CF935318FDCED6BC28286531733C3F03C4FEE\",[],\"\",\"secp160k1 : SECG curve over a 160 bit prime field\"),Cr.crypto.ECParameterDB.regist(\"secp160r1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\",\"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\",\"0100000000000000000001F4C8F927AED3CA752257\",\"1\",\"4A96B5688EF573284664698968C38BB913CBFC82\",\"23A628553168947D59DCC912042351377AC5FB32\",[],\"\",\"secp160r1 : SECG curve over a 160 bit prime field\"),Cr.crypto.ECParameterDB.regist(\"secp192k1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\",\"0\",\"3\",\"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\",\"1\",\"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\",\"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\",[]),Cr.crypto.ECParameterDB.regist(\"secp192r1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\",\"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\",\"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\",\"1\",\"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\",\"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\",[]),Cr.crypto.ECParameterDB.regist(\"secp224r1\",224,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\",\"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\",\"1\",\"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\",\"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\",[]),Cr.crypto.ECParameterDB.regist(\"secp256k1\",256,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F\",\"0\",\"7\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\",\"1\",\"79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798\",\"483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\",[]),Cr.crypto.ECParameterDB.regist(\"secp256r1\",256,\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\",\"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\",\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\",\"1\",\"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\",\"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\",[\"NIST P-256\",\"P-256\",\"prime256v1\"]),Cr.crypto.ECParameterDB.regist(\"secp384r1\",384,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC\",\"B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973\",\"1\",\"AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7\",\"3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\",[\"NIST P-384\",\"P-384\"]),Cr.crypto.ECParameterDB.regist(\"secp521r1\",521,\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC\",\"051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409\",\"1\",\"C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66\",\"011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\",[\"NIST P-521\",\"P-521\"]),/*! dsa-modified-1.0.1.js (c) Recurity Labs GmbH, Kenji Urushimma | github.com/openpgpjs/openpgpjs/blob/master/LICENSE\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.crypto&&Cr.crypto||(Cr.crypto={}),Cr.crypto.DSA=function(){function t(t,e,n,i,s,a){var u=Cr.crypto.Util.hashString(e,t.toLowerCase()),u=u.substr(0,s.bitLength()/4),h=new o(u,16),c=r(o.ONE.add(o.ONE),s.subtract(o.ONE)),f=n.modPow(c,i).mod(s),l=c.modInverse(s).multiply(h.add(a.multiply(f))).mod(s),d=new Array;return d[0]=f,d[1]=l,d}function e(t){var e=openpgp.config.config.prefer_hash_algorithm;switch(Math.round(t.bitLength()/8)){case 20:return 2!=e&&e>11&&10!=e&&e<8?2:e;case 28:return e>11&&e<8?11:e;case 32:return e>10&&e<8?8:e;default:return util.print_debug(\"DSA select hash algorithm: returning null for an unknown length of q\"),null}}function n(t,e,n,r,i,s,a,u){var h=Cr.crypto.Util.hashString(r,t.toLowerCase()),h=h.substr(0,s.bitLength()/4),c=new o(h,16);if(o.ZERO.compareTo(e)>0||e.compareTo(s)>0||o.ZERO.compareTo(n)>0||n.compareTo(s)>0)return util.print_error(\"invalid DSA Signature\"),null;var f=n.modInverse(s),l=c.multiply(f).mod(s),d=e.multiply(f).mod(s),g=a.modPow(l,i).multiply(u.modPow(d,i)).mod(i).mod(s);return 0==g.compareTo(e)}function r(t,e){if(!(e.compareTo(t)<=0)){for(var n=e.subtract(t),r=i(n.bitLength());r>n;)r=i(n.bitLength());return t.add(r)}}function i(t){if(t<0)return null;var e=Math.floor((t+7)/8),n=s(e);return t%8>0&&(n=String.fromCharCode(Math.pow(2,t%8)-1&n.charCodeAt(0))+n.substring(1)),new o(u(n),16)}function s(t){for(var e=\"\",n=0;n<t;n++)e+=String.fromCharCode(a());return e}function a(){var t=new Uint32Array(1);return ir.crypto.getRandomValues(t),255&t[0]}function u(t){if(null==t)return\"\";for(var e,n=[],r=t.length,i=0;i<r;){for(e=t[i++].charCodeAt().toString(16);e.length<2;)e=\"0\"+e;n.push(\"\"+e)}return n.join(\"\")}this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type=\"DSA\",this.setPrivate=function(t,e,n,r,i){this.isPrivate=!0,this.p=t,this.q=e,this.g=n,this.y=r,this.x=i},this.setPublic=function(t,e,n,r){this.isPublic=!0,this.p=t,this.q=e,this.g=n,this.y=r,this.x=null},this.signWithMessageHash=function(t){var e=this.p,n=this.q,i=this.g,s=(this.y,this.x),a=(t.substr(0,n.bitLength()/4),new o(t,16)),u=r(o.ONE.add(o.ONE),n.subtract(o.ONE)),h=i.modPow(u,e).mod(n),c=u.modInverse(n).multiply(a.add(s.multiply(h))).mod(n),f=Cr.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:h}},{int:{bigint:c}}]});return f},this.verifyWithMessageHash=function(t,e){var n=this.p,r=this.q,i=this.g,s=this.y,a=this.parseASN1Signature(e),u=a[0],h=a[1],t=t.substr(0,r.bitLength()/4),c=new o(t,16);if(o.ZERO.compareTo(u)>0||u.compareTo(r)>0||o.ZERO.compareTo(h)>0||h.compareTo(r)>0)throw\"invalid DSA signature\";var f=h.modInverse(r),l=c.multiply(f).mod(r),d=u.multiply(f).mod(r),g=i.modPow(l,n).multiply(s.modPow(d,n)).mod(n).mod(r);return 0==g.compareTo(u)},this.parseASN1Signature=function(t){try{var e=new o(Or.getVbyList(t,0,[0],\"02\"),16),n=new o(Or.getVbyList(t,0,[1],\"02\"),16);return[e,n]}catch(t){throw\"malformed DSA signature\"}},this.select_hash_algorithm=e,this.sign=t,this.verify=n,this.getRandomBigIntegerInRange=r,this.getRandomBigInteger=i,this.getRandomBytes=s};/*! pkcs5pkey-1.0.6.js (c) 2013-2014 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\nvar jr=function(){var t=function(t,e,r){return n(or.AES,t,e,r)},e=function(t,e,r){return n(or.TripleDES,t,e,r)},n=function(t,e,n,r){var i=or.enc.Hex.parse(e),s=or.enc.Hex.parse(n),o=or.enc.Hex.parse(r),a={};a.key=s,a.iv=o,a.ciphertext=i;var u=t.decrypt(a,s,{iv:o});return or.enc.Hex.stringify(u)},r=function(t,e,n){return o(or.AES,t,e,n)},s=function(t,e,n){return o(or.TripleDES,t,e,n)},o=function(t,e,n,r){var i=or.enc.Hex.parse(e),s=or.enc.Hex.parse(n),o=or.enc.Hex.parse(r),a=t.encrypt(i,s,{iv:o}),u=or.enc.Hex.parse(a.toString()),h=or.enc.Base64.stringify(u);return h},a={\"AES-256-CBC\":{proc:t,eproc:r,keylen:32,ivlen:16},\"AES-192-CBC\":{proc:t,eproc:r,keylen:24,ivlen:16},\"AES-128-CBC\":{proc:t,eproc:r,keylen:16,ivlen:16},\"DES-EDE3-CBC\":{proc:e,eproc:s,keylen:24,ivlen:8}},u=function(t){return a[t].proc},h=function(t){var e=or.lib.WordArray.random(t),n=or.enc.Hex.stringify(e);return n},c=function(t){var e={};t.match(new RegExp(\"DEK-Info: ([^,]+),([0-9A-Fa-f]+)\",\"m\"))&&(e.cipher=RegExp.$1,e.ivsalt=RegExp.$2),t.match(new RegExp(\"-----BEGIN ([A-Z]+) PRIVATE KEY-----\"))&&(e.type=RegExp.$1);var n=-1,r=0;t.indexOf(\"\\r\\n\\r\\n\")!=-1&&(n=t.indexOf(\"\\r\\n\\r\\n\"),r=2),t.indexOf(\"\\n\\n\")!=-1&&(n=t.indexOf(\"\\n\\n\"),r=1);var i=t.indexOf(\"-----END\");if(n!=-1&&i!=-1){var s=t.substring(n+2*r,i-r);s=s.replace(/\\s+/g,\"\"),e.data=s}return e},f=function(t,e,n){for(var r=n.substring(0,16),i=or.enc.Hex.parse(r),s=or.enc.Utf8.parse(e),o=a[t].keylen+a[t].ivlen,u=\"\",h=null;;){var c=or.algo.MD5.create();if(null!=h&&c.update(h),c.update(s),c.update(i),h=c.finalize(),u+=or.enc.Hex.stringify(h),u.length>=2*o)break}var f={};return f.keyhex=u.substr(0,2*a[t].keylen),f.ivhex=u.substr(2*a[t].keylen,2*a[t].ivlen),f},l=function(t,e,n,r){var i=or.enc.Base64.parse(t),s=or.enc.Hex.stringify(i),o=a[e].proc,u=o(s,n,r);return u},d=function(t,e,n,r){var i=a[e].eproc,s=i(t,n,r);return s};return{version:\"1.0.5\",getHexFromPEM:function(t,e){var n=t;if(n.indexOf(\"BEGIN \"+e)==-1)throw\"can't find PEM header: \"+e;n=n.replace(\"-----BEGIN \"+e+\"-----\",\"\"),n=n.replace(\"-----END \"+e+\"-----\",\"\");var r=n.replace(/\\s+/g,\"\"),s=i(r);return s},getDecryptedKeyHexByKeyIV:function(t,e,n,r){var i=u(e);return i(t,n,r)},parsePKCS5PEM:function(t){return c(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,n){return f(t,e,n)},decryptKeyB64:function(t,e,n,r){return l(t,e,n,r)},getDecryptedKeyHex:function(t,e){var n=c(t),r=(n.type,n.cipher),i=n.ivsalt,s=n.data,o=f(r,e,i),a=o.keyhex,u=l(s,r,a,i);return u},getRSAKeyFromEncryptedPKCS5PEM:function(t,e){var n=this.getDecryptedKeyHex(t,e),r=new ve;return r.readPrivateKeyFromASN1HexString(n),r},getEryptedPKCS5PEMFromPrvKeyHex:function(t,e,n,r){var i=\"\";if(\"undefined\"!=typeof n&&null!=n||(n=\"AES-256-CBC\"),\"undefined\"==typeof a[n])throw\"PKCS5PKEY unsupported algorithm: \"+n;if(\"undefined\"==typeof r||null==r){var s=a[n].ivlen,o=h(s);r=o.toUpperCase()}var u=f(n,e,r),c=u.keyhex,l=d(t,n,c,r),g=l.replace(/(.{64})/g,\"$1\\r\\n\"),i=\"-----BEGIN RSA PRIVATE KEY-----\\r\\n\";return i+=\"Proc-Type: 4,ENCRYPTED\\r\\n\",i+=\"DEK-Info: \"+n+\",\"+r+\"\\r\\n\",i+=\"\\r\\n\",i+=g,i+=\"\\r\\n-----END RSA PRIVATE KEY-----\\r\\n\"},getEryptedPKCS5PEMFromRSAKey:function(t,e,n,r){var i=new Cr.asn1.DERInteger({int:0}),s=new Cr.asn1.DERInteger({bigint:t.n}),o=new Cr.asn1.DERInteger({int:t.e}),a=new Cr.asn1.DERInteger({bigint:t.d}),u=new Cr.asn1.DERInteger({bigint:t.p}),h=new Cr.asn1.DERInteger({bigint:t.q}),c=new Cr.asn1.DERInteger({bigint:t.dmp1}),f=new Cr.asn1.DERInteger({bigint:t.dmq1}),l=new Cr.asn1.DERInteger({bigint:t.coeff}),d=new Cr.asn1.DERSequence({array:[i,s,o,a,u,h,c,f,l]}),g=d.getEncodedHex();return this.getEryptedPKCS5PEMFromPrvKeyHex(g,e,n,r)},newEncryptedPKCS5PEM:function(t,e,n,r){\"undefined\"!=typeof e&&null!=e||(e=1024),\"undefined\"!=typeof n&&null!=n||(n=\"10001\");var i=new ve;i.generate(e,n);var s=null;return s=\"undefined\"==typeof r||null==r?this.getEncryptedPKCS5PEMFromRSAKey(pkey,t):this.getEncryptedPKCS5PEMFromRSAKey(pkey,t,r)},getRSAKeyFromPlainPKCS8PEM:function(t){if(t.match(/ENCRYPTED/))throw\"pem shall be not ENCRYPTED\";var e=this.getHexFromPEM(t,\"PRIVATE KEY\"),n=this.getRSAKeyFromPlainPKCS8Hex(e);return n},getRSAKeyFromPlainPKCS8Hex:function(t){var e=Or.getPosArrayOfChildren_AtObj(t,0);if(3!=e.length)throw\"outer DERSequence shall have 3 elements: \"+e.length;var n=Or.getHexOfTLV_AtObj(t,e[1]);if(\"300d06092a864886f70d0101010500\"!=n)throw\"PKCS8 AlgorithmIdentifier is not rsaEnc: \"+n;var n=Or.getHexOfTLV_AtObj(t,e[1]),r=Or.getHexOfTLV_AtObj(t,e[2]),i=Or.getHexOfV_AtObj(r,0),s=new ve;return s.readPrivateKeyFromASN1HexString(i),s},parseHexOfEncryptedPKCS8:function(t){var e={},n=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=n.length)throw\"malformed format: SEQUENCE(0).items != 2: \"+n.length;e.ciphertext=Or.getHexOfV_AtObj(t,n[1]);var r=Or.getPosArrayOfChildren_AtObj(t,n[0]);if(2!=r.length)throw\"malformed format: SEQUENCE(0.0).items != 2: \"+r.length;if(\"2a864886f70d01050d\"!=Or.getHexOfV_AtObj(t,r[0]))throw\"this only supports pkcs5PBES2\";var i=Or.getPosArrayOfChildren_AtObj(t,r[1]);if(2!=r.length)throw\"malformed format: SEQUENCE(0.0.1).items != 2: \"+i.length;var s=Or.getPosArrayOfChildren_AtObj(t,i[1]);if(2!=s.length)throw\"malformed format: SEQUENCE(0.0.1.1).items != 2: \"+s.length;if(\"2a864886f70d0307\"!=Or.getHexOfV_AtObj(t,s[0]))throw\"this only supports TripleDES\";e.encryptionSchemeAlg=\"TripleDES\",e.encryptionSchemeIV=Or.getHexOfV_AtObj(t,s[1]);var o=Or.getPosArrayOfChildren_AtObj(t,i[0]);if(2!=o.length)throw\"malformed format: SEQUENCE(0.0.1.0).items != 2: \"+o.length;if(\"2a864886f70d01050c\"!=Or.getHexOfV_AtObj(t,o[0]))throw\"this only supports pkcs5PBKDF2\";var a=Or.getPosArrayOfChildren_AtObj(t,o[1]);if(a.length<2)throw\"malformed format: SEQUENCE(0.0.1.0.1).items < 2: \"+a.length;e.pbkdf2Salt=Or.getHexOfV_AtObj(t,a[0]);var u=Or.getHexOfV_AtObj(t,a[1]);try{e.pbkdf2Iter=parseInt(u,16)}catch(t){throw\"malformed format pbkdf2Iter: \"+u}return e},getPBKDF2KeyHexFromParam:function(t,e){var n=or.enc.Hex.parse(t.pbkdf2Salt),r=t.pbkdf2Iter,i=or.PBKDF2(e,n,{keySize:6,iterations:r}),s=or.enc.Hex.stringify(i);return s},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var n=this.getHexFromPEM(t,\"ENCRYPTED PRIVATE KEY\"),r=this.parseHexOfEncryptedPKCS8(n),i=jr.getPBKDF2KeyHexFromParam(r,e),s={};s.ciphertext=or.enc.Hex.parse(r.ciphertext);var o=or.enc.Hex.parse(i),a=or.enc.Hex.parse(r.encryptionSchemeIV),u=or.TripleDES.decrypt(s,o,{iv:a}),h=or.enc.Hex.stringify(u);return h},getRSAKeyFromEncryptedPKCS8PEM:function(t,e){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e),r=this.getRSAKeyFromPlainPKCS8Hex(n);return r},getKeyFromEncryptedPKCS8PEM:function(t,e){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e),r=this.getKeyFromPlainPrivatePKCS8Hex(n);return r},parsePlainPrivatePKCS8Hex:function(t){var e={};if(e.algparam=null,\"30\"!=t.substr(0,2))throw\"malformed plain PKCS8 private key(code:001)\";var n=Or.getPosArrayOfChildren_AtObj(t,0);if(3!=n.length)throw\"malformed plain PKCS8 private key(code:002)\";if(\"30\"!=t.substr(n[1],2))throw\"malformed PKCS8 private key(code:003)\";var r=Or.getPosArrayOfChildren_AtObj(t,n[1]);if(2!=r.length)throw\"malformed PKCS8 private key(code:004)\";if(\"06\"!=t.substr(r[0],2))throw\"malformed PKCS8 private key(code:005)\";if(e.algoid=Or.getHexOfV_AtObj(t,r[0]),\"06\"==t.substr(r[1],2)&&(e.algparam=Or.getHexOfV_AtObj(t,r[1])),\"04\"!=t.substr(n[2],2))throw\"malformed PKCS8 private key(code:006)\";return e.keyidx=Or.getStartPosOfV_AtObj(t,n[2]),e},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=this.getHexFromPEM(t,\"PRIVATE KEY\"),n=this.getKeyFromPlainPrivatePKCS8Hex(e);return n},getKeyFromPlainPrivatePKCS8Hex:function(t){var e=this.parsePlainPrivatePKCS8Hex(t);if(\"2a864886f70d010101\"==e.algoid){this.parsePrivateRawRSAKeyHexAtObj(t,e);var n=e.key,r=new ve;return r.setPrivateEx(n.n,n.e,n.d,n.p,n.q,n.dp,n.dq,n.co),r}if(\"2a8648ce3d0201\"==e.algoid){if(this.parsePrivateRawECKeyHexAtObj(t,e),void 0===Cr.crypto.OID.oidhex2name[e.algparam])throw\"KJUR.crypto.OID.oidhex2name undefined: \"+e.algparam;var i=Cr.crypto.OID.oidhex2name[e.algparam],r=new Cr.crypto.ECDSA({curve:i,prv:e.key});return r}throw\"unsupported private key algorithm\"},getRSAKeyFromPublicPKCS8PEM:function(t){var e=this.getHexFromPEM(t,\"PUBLIC KEY\"),n=this.getRSAKeyFromPublicPKCS8Hex(e);return n},getKeyFromPublicPKCS8PEM:function(t){var e=this.getHexFromPEM(t,\"PUBLIC KEY\"),n=this.getKeyFromPublicPKCS8Hex(e);return n},getKeyFromPublicPKCS8Hex:function(t){var e=this.parsePublicPKCS8Hex(t);if(\"2a864886f70d010101\"==e.algoid){var n=this.parsePublicRawRSAKeyHex(e.key),r=new ve;return r.setPublic(n.n,n.e),r}if(\"2a8648ce3d0201\"==e.algoid){if(void 0===Cr.crypto.OID.oidhex2name[e.algparam])throw\"KJUR.crypto.OID.oidhex2name undefined: \"+e.algparam;var i=Cr.crypto.OID.oidhex2name[e.algparam],r=new Cr.crypto.ECDSA({curve:i,pub:e.key});return r}throw\"unsupported public key algorithm\"},parsePublicRawRSAKeyHex:function(t){var e={};if(\"30\"!=t.substr(0,2))throw\"malformed RSA key(code:001)\";var n=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=n.length)throw\"malformed RSA key(code:002)\";if(\"02\"!=t.substr(n[0],2))throw\"malformed RSA key(code:003)\";if(e.n=Or.getHexOfV_AtObj(t,n[0]),\"02\"!=t.substr(n[1],2))throw\"malformed RSA key(code:004)\";return e.e=Or.getHexOfV_AtObj(t,n[1]),e},parsePrivateRawRSAKeyHexAtObj:function(t,e){var n=e.keyidx;if(\"30\"!=t.substr(n,2))throw\"malformed RSA private key(code:001)\";var r=Or.getPosArrayOfChildren_AtObj(t,n);if(9!=r.length)throw\"malformed RSA private key(code:002)\";e.key={},e.key.n=Or.getHexOfV_AtObj(t,r[1]),e.key.e=Or.getHexOfV_AtObj(t,r[2]),e.key.d=Or.getHexOfV_AtObj(t,r[3]),e.key.p=Or.getHexOfV_AtObj(t,r[4]),e.key.q=Or.getHexOfV_AtObj(t,r[5]),e.key.dp=Or.getHexOfV_AtObj(t,r[6]),e.key.dq=Or.getHexOfV_AtObj(t,r[7]),e.key.co=Or.getHexOfV_AtObj(t,r[8])},parsePrivateRawECKeyHexAtObj:function(t,e){var n=e.keyidx;if(\"30\"!=t.substr(n,2))throw\"malformed ECC private key(code:001)\";var r=Or.getPosArrayOfChildren_AtObj(t,n);if(3!=r.length)throw\"malformed ECC private key(code:002)\";if(\"04\"!=t.substr(r[1],2))throw\"malformed ECC private key(code:003)\";e.key=Or.getHexOfV_AtObj(t,r[1])},parsePublicPKCS8Hex:function(t){var e={};e.algparam=null;var n=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=n.length)throw\"outer DERSequence shall have 2 elements: \"+n.length;var r=n[0];if(\"30\"!=t.substr(r,2))throw\"malformed PKCS8 public key(code:001)\";var i=Or.getPosArrayOfChildren_AtObj(t,r);if(2!=i.length)throw\"malformed PKCS8 public key(code:002)\";if(\"06\"!=t.substr(i[0],2))throw\"malformed PKCS8 public key(code:003)\";if(e.algoid=Or.getHexOfV_AtObj(t,i[0]),\"06\"==t.substr(i[1],2)&&(e.algparam=Or.getHexOfV_AtObj(t,i[1])),\"03\"!=t.substr(n[1],2))throw\"malformed PKCS8 public key(code:004)\";return e.key=Or.getHexOfV_AtObj(t,n[1]).substr(2),e},getRSAKeyFromPublicPKCS8Hex:function(t){var e=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=e.length)throw\"outer DERSequence shall have 2 elements: \"+e.length;var n=Or.getHexOfTLV_AtObj(t,e[0]);if(\"300d06092a864886f70d0101010500\"!=n)throw\"PKCS8 AlgorithmId is not rsaEncryption\";if(\"03\"!=t.substr(e[1],2))throw\"PKCS8 Public Key is not BITSTRING encapslated.\";var r=Or.getStartPosOfV_AtObj(t,e[1])+2;if(\"30\"!=t.substr(r,2))throw\"PKCS8 Public Key is not SEQUENCE.\";var i=Or.getPosArrayOfChildren_AtObj(t,r);if(2!=i.length)throw\"inner DERSequence shall have 2 elements: \"+i.length;if(\"02\"!=t.substr(i[0],2))throw\"N is not ASN.1 INTEGER\";if(\"02\"!=t.substr(i[1],2))throw\"E is not ASN.1 INTEGER\";var s=Or.getHexOfV_AtObj(t,i[0]),o=Or.getHexOfV_AtObj(t,i[1]),a=new ve;return a.setPublic(s,o),a}}}(),Hr=function(){var t=function(t,e,n){return r(or.AES,t,e,n)},e=function(t,e,n){return r(or.TripleDES,t,e,n)},n=function(t,e,n){return r(or.DES,t,e,n)},r=function(t,e,n,r){var i=or.enc.Hex.parse(e),s=or.enc.Hex.parse(n),o=or.enc.Hex.parse(r),a={};a.key=s,a.iv=o,a.ciphertext=i;var u=t.decrypt(a,s,{iv:o});return or.enc.Hex.stringify(u)},s=function(t,e,n){return h(or.AES,t,e,n)},a=function(t,e,n){return h(or.TripleDES,t,e,n)},u=function(t,e,n){return h(or.DES,t,e,n)},h=function(t,e,n,r){var i=or.enc.Hex.parse(e),s=or.enc.Hex.parse(n),o=or.enc.Hex.parse(r),a=t.encrypt(i,s,{iv:o}),u=or.enc.Hex.parse(a.toString()),h=or.enc.Base64.stringify(u);return h},c={\"AES-256-CBC\":{proc:t,eproc:s,keylen:32,ivlen:16},\"AES-192-CBC\":{proc:t,eproc:s,keylen:24,ivlen:16},\"AES-128-CBC\":{proc:t,eproc:s,keylen:16,ivlen:16},\"DES-EDE3-CBC\":{proc:e,eproc:a,keylen:24,ivlen:8},\"DES-CBC\":{proc:n,eproc:u,keylen:8,ivlen:8}},f=function(t){return c[t].proc},l=function(t){var e=or.lib.WordArray.random(t),n=or.enc.Hex.stringify(e);return n},d=function(t){var e={};t.match(new RegExp(\"DEK-Info: ([^,]+),([0-9A-Fa-f]+)\",\"m\"))&&(e.cipher=RegExp.$1,e.ivsalt=RegExp.$2),t.match(new RegExp(\"-----BEGIN ([A-Z]+) PRIVATE KEY-----\"))&&(e.type=RegExp.$1);var n=-1,r=0;t.indexOf(\"\\r\\n\\r\\n\")!=-1&&(n=t.indexOf(\"\\r\\n\\r\\n\"),r=2),t.indexOf(\"\\n\\n\")!=-1&&(n=t.indexOf(\"\\n\\n\"),r=1);var i=t.indexOf(\"-----END\");if(n!=-1&&i!=-1){var s=t.substring(n+2*r,i-r);s=s.replace(/\\s+/g,\"\"),e.data=s}return e},g=function(t,e,n){for(var r=n.substring(0,16),i=or.enc.Hex.parse(r),s=or.enc.Utf8.parse(e),o=c[t].keylen+c[t].ivlen,a=\"\",u=null;;){var h=or.algo.MD5.create();if(null!=u&&h.update(u),h.update(s),h.update(i),u=h.finalize(),a+=or.enc.Hex.stringify(u),a.length>=2*o)break}var f={};return f.keyhex=a.substr(0,2*c[t].keylen),f.ivhex=a.substr(2*c[t].keylen,2*c[t].ivlen),f},p=function(t,e,n,r){var i=or.enc.Base64.parse(t),s=or.enc.Hex.stringify(i),o=c[e].proc,a=o(s,n,r);return a},y=function(t,e,n,r){var i=c[e].eproc,s=i(t,n,r);return s};return{version:\"1.0.0\",getHexFromPEM:function(t,e){var n=t;if(n.indexOf(\"-----BEGIN \")==-1)throw\"can't find PEM header: \"+e;\"string\"==typeof e&&\"\"!=e?(n=n.replace(\"-----BEGIN \"+e+\"-----\",\"\"),n=n.replace(\"-----END \"+e+\"-----\",\"\")):(n=n.replace(/-----BEGIN [^-]+-----/,\"\"),n=n.replace(/-----END [^-]+-----/,\"\"));var r=n.replace(/\\s+/g,\"\"),s=i(r);return s},getDecryptedKeyHexByKeyIV:function(t,e,n,r){var i=f(e);return i(t,n,r)},parsePKCS5PEM:function(t){return d(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,n){return g(t,e,n)},decryptKeyB64:function(t,e,n,r){return p(t,e,n,r)},getDecryptedKeyHex:function(t,e){var n=d(t),r=(n.type,n.cipher),i=n.ivsalt,s=n.data,o=g(r,e,i),a=o.keyhex,u=p(s,r,a,i);return u},getRSAKeyFromEncryptedPKCS5PEM:function(t,e){var n=this.getDecryptedKeyHex(t,e),r=new ve;return r.readPrivateKeyFromASN1HexString(n),r},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,n,r,i){var s=\"\";if(\"undefined\"!=typeof r&&null!=r||(r=\"AES-256-CBC\"),\"undefined\"==typeof c[r])throw\"KEYUTIL unsupported algorithm: \"+r;if(\"undefined\"==typeof i||null==i){var o=c[r].ivlen,a=l(o);i=a.toUpperCase()}var u=g(r,n,i),h=u.keyhex,f=y(e,r,h,i),d=f.replace(/(.{64})/g,\"$1\\r\\n\"),s=\"-----BEGIN \"+t+\" PRIVATE KEY-----\\r\\n\";return s+=\"Proc-Type: 4,ENCRYPTED\\r\\n\",s+=\"DEK-Info: \"+r+\",\"+i+\"\\r\\n\",s+=\"\\r\\n\",s+=d,s+=\"\\r\\n-----END \"+t+\" PRIVATE KEY-----\\r\\n\"},getEncryptedPKCS5PEMFromRSAKey:function(t,e,n,r){var i=new Cr.asn1.DERInteger({int:0}),s=new Cr.asn1.DERInteger({bigint:t.n}),o=new Cr.asn1.DERInteger({int:t.e}),a=new Cr.asn1.DERInteger({bigint:t.d}),u=new Cr.asn1.DERInteger({bigint:t.p}),h=new Cr.asn1.DERInteger({bigint:t.q}),c=new Cr.asn1.DERInteger({bigint:t.dmp1}),f=new Cr.asn1.DERInteger({bigint:t.dmq1}),l=new Cr.asn1.DERInteger({bigint:t.coeff}),d=new Cr.asn1.DERSequence({array:[i,s,o,a,u,h,c,f,l]}),g=d.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex(\"RSA\",g,e,n,r)},newEncryptedPKCS5PEM:function(t,e,n,r){\"undefined\"!=typeof e&&null!=e||(e=1024),\"undefined\"!=typeof n&&null!=n||(n=\"10001\");var i=new ve;i.generate(e,n);var s=null;return s=\"undefined\"==typeof r||null==r?this.getEncryptedPKCS5PEMFromRSAKey(i,t):this.getEncryptedPKCS5PEMFromRSAKey(i,t,r)},getRSAKeyFromPlainPKCS8PEM:function(t){if(t.match(/ENCRYPTED/))throw\"pem shall be not ENCRYPTED\";var e=this.getHexFromPEM(t,\"PRIVATE KEY\"),n=this.getRSAKeyFromPlainPKCS8Hex(e);return n},getRSAKeyFromPlainPKCS8Hex:function(t){var e=Or.getPosArrayOfChildren_AtObj(t,0);if(3!=e.length)throw\"outer DERSequence shall have 3 elements: \"+e.length;var n=Or.getHexOfTLV_AtObj(t,e[1]);if(\"300d06092a864886f70d0101010500\"!=n)throw\"PKCS8 AlgorithmIdentifier is not rsaEnc: \"+n;var n=Or.getHexOfTLV_AtObj(t,e[1]),r=Or.getHexOfTLV_AtObj(t,e[2]),i=Or.getHexOfV_AtObj(r,0),s=new ve;return s.readPrivateKeyFromASN1HexString(i),s},parseHexOfEncryptedPKCS8:function(t){var e={},n=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=n.length)throw\"malformed format: SEQUENCE(0).items != 2: \"+n.length;e.ciphertext=Or.getHexOfV_AtObj(t,n[1]);var r=Or.getPosArrayOfChildren_AtObj(t,n[0]);if(2!=r.length)throw\"malformed format: SEQUENCE(0.0).items != 2: \"+r.length;if(\"2a864886f70d01050d\"!=Or.getHexOfV_AtObj(t,r[0]))throw\"this only supports pkcs5PBES2\";var i=Or.getPosArrayOfChildren_AtObj(t,r[1]);if(2!=r.length)throw\"malformed format: SEQUENCE(0.0.1).items != 2: \"+i.length;var s=Or.getPosArrayOfChildren_AtObj(t,i[1]);if(2!=s.length)throw\"malformed format: SEQUENCE(0.0.1.1).items != 2: \"+s.length;if(\"2a864886f70d0307\"!=Or.getHexOfV_AtObj(t,s[0]))throw\"this only supports TripleDES\";e.encryptionSchemeAlg=\"TripleDES\",e.encryptionSchemeIV=Or.getHexOfV_AtObj(t,s[1]);var o=Or.getPosArrayOfChildren_AtObj(t,i[0]);if(2!=o.length)throw\"malformed format: SEQUENCE(0.0.1.0).items != 2: \"+o.length;if(\"2a864886f70d01050c\"!=Or.getHexOfV_AtObj(t,o[0]))throw\"this only supports pkcs5PBKDF2\";var a=Or.getPosArrayOfChildren_AtObj(t,o[1]);if(a.length<2)throw\"malformed format: SEQUENCE(0.0.1.0.1).items < 2: \"+a.length;e.pbkdf2Salt=Or.getHexOfV_AtObj(t,a[0]);var u=Or.getHexOfV_AtObj(t,a[1]);try{e.pbkdf2Iter=parseInt(u,16)}catch(t){throw\"malformed format pbkdf2Iter: \"+u}return e},getPBKDF2KeyHexFromParam:function(t,e){var n=or.enc.Hex.parse(t.pbkdf2Salt),r=t.pbkdf2Iter,i=or.PBKDF2(e,n,{keySize:6,iterations:r}),s=or.enc.Hex.stringify(i);return s},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var n=this.getHexFromPEM(t,\"ENCRYPTED PRIVATE KEY\"),r=this.parseHexOfEncryptedPKCS8(n),i=Hr.getPBKDF2KeyHexFromParam(r,e),s={};s.ciphertext=or.enc.Hex.parse(r.ciphertext);var o=or.enc.Hex.parse(i),a=or.enc.Hex.parse(r.encryptionSchemeIV),u=or.TripleDES.decrypt(s,o,{iv:a}),h=or.enc.Hex.stringify(u);return h},getRSAKeyFromEncryptedPKCS8PEM:function(t,e){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e),r=this.getRSAKeyFromPlainPKCS8Hex(n);return r},getKeyFromEncryptedPKCS8PEM:function(t,e){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e),r=this.getKeyFromPlainPrivatePKCS8Hex(n);return r},parsePlainPrivatePKCS8Hex:function(t){var e={};if(e.algparam=null,\"30\"!=t.substr(0,2))throw\"malformed plain PKCS8 private key(code:001)\";var n=Or.getPosArrayOfChildren_AtObj(t,0);if(3!=n.length)throw\"malformed plain PKCS8 private key(code:002)\";if(\"30\"!=t.substr(n[1],2))throw\"malformed PKCS8 private key(code:003)\";var r=Or.getPosArrayOfChildren_AtObj(t,n[1]);if(2!=r.length)throw\"malformed PKCS8 private key(code:004)\";if(\"06\"!=t.substr(r[0],2))throw\"malformed PKCS8 private key(code:005)\";if(e.algoid=Or.getHexOfV_AtObj(t,r[0]),\"06\"==t.substr(r[1],2)&&(e.algparam=Or.getHexOfV_AtObj(t,r[1])),\"04\"!=t.substr(n[2],2))throw\"malformed PKCS8 private key(code:006)\";return e.keyidx=Or.getStartPosOfV_AtObj(t,n[2]),e},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=this.getHexFromPEM(t,\"PRIVATE KEY\"),n=this.getKeyFromPlainPrivatePKCS8Hex(e);return n},getKeyFromPlainPrivatePKCS8Hex:function(t){var e=this.parsePlainPrivatePKCS8Hex(t);if(\"2a864886f70d010101\"==e.algoid){this.parsePrivateRawRSAKeyHexAtObj(t,e);var n=e.key,r=new ve;return r.setPrivateEx(n.n,n.e,n.d,n.p,n.q,n.dp,n.dq,n.co),r}if(\"2a8648ce3d0201\"==e.algoid){if(this.parsePrivateRawECKeyHexAtObj(t,e),void 0===Cr.crypto.OID.oidhex2name[e.algparam])throw\"KJUR.crypto.OID.oidhex2name undefined: \"+e.algparam;var i=Cr.crypto.OID.oidhex2name[e.algparam],r=new Cr.crypto.ECDSA({curve:i});return r.setPublicKeyHex(e.pubkey),r.setPrivateKeyHex(e.key),r.isPublic=!1,r}if(\"2a8648ce380401\"==e.algoid){var s=Or.getVbyList(t,0,[1,1,0],\"02\"),a=Or.getVbyList(t,0,[1,1,1],\"02\"),u=Or.getVbyList(t,0,[1,1,2],\"02\"),h=Or.getVbyList(t,0,[2,0],\"02\"),c=new o(s,16),f=new o(a,16),l=new o(u,16),d=new o(h,16),r=new Cr.crypto.DSA;return r.setPrivate(c,f,l,null,d),r}throw\"unsupported private key algorithm\"},getRSAKeyFromPublicPKCS8PEM:function(t){var e=this.getHexFromPEM(t,\"PUBLIC KEY\"),n=this.getRSAKeyFromPublicPKCS8Hex(e);return n},getKeyFromPublicPKCS8PEM:function(t){var e=this.getHexFromPEM(t,\"PUBLIC KEY\"),n=this.getKeyFromPublicPKCS8Hex(e);return n},getKeyFromPublicPKCS8Hex:function(t){var e=this.parsePublicPKCS8Hex(t);if(\"2a864886f70d010101\"==e.algoid){var n=this.parsePublicRawRSAKeyHex(e.key),r=new ve;return r.setPublic(n.n,n.e),r}if(\"2a8648ce3d0201\"==e.algoid){if(void 0===Cr.crypto.OID.oidhex2name[e.algparam])throw\"KJUR.crypto.OID.oidhex2name undefined: \"+e.algparam;var i=Cr.crypto.OID.oidhex2name[e.algparam],r=new Cr.crypto.ECDSA({curve:i,pub:e.key});return r}if(\"2a8648ce380401\"==e.algoid){var s=e.algparam,a=Or.getHexOfV_AtObj(e.key,0),r=new Cr.crypto.DSA;return r.setPublic(new o(s.p,16),new o(s.q,16),new o(s.g,16),new o(a,16)),r}throw\"unsupported public key algorithm\"},parsePublicRawRSAKeyHex:function(t){var e={};if(\"30\"!=t.substr(0,2))throw\"malformed RSA key(code:001)\";var n=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=n.length)throw\"malformed RSA key(code:002)\";if(\"02\"!=t.substr(n[0],2))throw\"malformed RSA key(code:003)\";if(e.n=Or.getHexOfV_AtObj(t,n[0]),\"02\"!=t.substr(n[1],2))throw\"malformed RSA key(code:004)\";return e.e=Or.getHexOfV_AtObj(t,n[1]),e},parsePrivateRawRSAKeyHexAtObj:function(t,e){var n=e.keyidx;if(\"30\"!=t.substr(n,2))throw\"malformed RSA private key(code:001)\";var r=Or.getPosArrayOfChildren_AtObj(t,n);if(9!=r.length)throw\"malformed RSA private key(code:002)\";e.key={},e.key.n=Or.getHexOfV_AtObj(t,r[1]),e.key.e=Or.getHexOfV_AtObj(t,r[2]),e.key.d=Or.getHexOfV_AtObj(t,r[3]),e.key.p=Or.getHexOfV_AtObj(t,r[4]),e.key.q=Or.getHexOfV_AtObj(t,r[5]),e.key.dp=Or.getHexOfV_AtObj(t,r[6]),e.key.dq=Or.getHexOfV_AtObj(t,r[7]),e.key.co=Or.getHexOfV_AtObj(t,r[8])},parsePrivateRawECKeyHexAtObj:function(t,e){var n=e.keyidx,r=Or.getVbyList(t,n,[1],\"04\"),i=Or.getVbyList(t,n,[2,0],\"03\").substr(2);e.key=r,e.pubkey=i},parsePublicPKCS8Hex:function(t){var e={};e.algparam=null;var n=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=n.length)throw\"outer DERSequence shall have 2 elements: \"+n.length;var r=n[0];if(\"30\"!=t.substr(r,2))throw\"malformed PKCS8 public key(code:001)\";var i=Or.getPosArrayOfChildren_AtObj(t,r);if(2!=i.length)throw\"malformed PKCS8 public key(code:002)\";if(\"06\"!=t.substr(i[0],2))throw\"malformed PKCS8 public key(code:003)\";if(e.algoid=Or.getHexOfV_AtObj(t,i[0]),\"06\"==t.substr(i[1],2)?e.algparam=Or.getHexOfV_AtObj(t,i[1]):\"30\"==t.substr(i[1],2)&&(e.algparam={},e.algparam.p=Or.getVbyList(t,i[1],[0],\"02\"),e.algparam.q=Or.getVbyList(t,i[1],[1],\"02\"),e.algparam.g=Or.getVbyList(t,i[1],[2],\"02\")),\"03\"!=t.substr(n[1],2))throw\"malformed PKCS8 public key(code:004)\";return e.key=Or.getHexOfV_AtObj(t,n[1]).substr(2),e},getRSAKeyFromPublicPKCS8Hex:function(t){var e=Or.getPosArrayOfChildren_AtObj(t,0);if(2!=e.length)throw\"outer DERSequence shall have 2 elements: \"+e.length;var n=Or.getHexOfTLV_AtObj(t,e[0]);if(\"300d06092a864886f70d0101010500\"!=n)throw\"PKCS8 AlgorithmId is not rsaEncryption\";if(\"03\"!=t.substr(e[1],2))throw\"PKCS8 Public Key is not BITSTRING encapslated.\";var r=Or.getStartPosOfV_AtObj(t,e[1])+2;if(\"30\"!=t.substr(r,2))throw\"PKCS8 Public Key is not SEQUENCE.\";var i=Or.getPosArrayOfChildren_AtObj(t,r);if(2!=i.length)throw\"inner DERSequence shall have 2 elements: \"+i.length;if(\"02\"!=t.substr(i[0],2))throw\"N is not ASN.1 INTEGER\";if(\"02\"!=t.substr(i[1],2))throw\"E is not ASN.1 INTEGER\";var s=Or.getHexOfV_AtObj(t,i[0]),o=Or.getHexOfV_AtObj(t,i[1]),a=new ve;return a.setPublic(s,o),a}}}();Hr.getKey=function(t,e,n){if(\"undefined\"!=typeof ve&&t instanceof ve)return t;if(\"undefined\"!=typeof Cr.crypto.ECDSA&&t instanceof Cr.crypto.ECDSA)return t;if(\"undefined\"!=typeof Cr.crypto.DSA&&t instanceof Cr.crypto.DSA)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new Cr.crypto.ECDSA({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new Cr.crypto.ECDSA({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d){var r=new ve;return r.setPublic(t.n,t.e),r}if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi){var r=new ve;return r.setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),r}if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p){var r=new ve;return r.setPrivate(t.n,t.e,t.d),r}if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x){var r=new Cr.crypto.DSA;return r.setPublic(t.p,t.q,t.g,t.y),r}if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x){var r=new Cr.crypto.DSA;return r.setPrivate(t.p,t.q,t.g,t.y,t.x),r}if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d){var r=new ve;return r.setPublic(pn(t.n),pn(t.e)),r}if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi){var r=new ve;return r.setPrivateEx(pn(t.n),pn(t.e),pn(t.d),pn(t.p),pn(t.q),pn(t.dp),pn(t.dq),pn(t.qi)),r}if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d){var r=new ve;return r.setPrivate(pn(t.n),pn(t.e),pn(t.d)),r}if(\"EC\"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var i=new Cr.crypto.ECDSA({curve:t.crv}),s=i.ecparams.keylen/4,a=(\"0000000000\"+pn(t.x)).slice(-s),u=(\"0000000000\"+pn(t.y)).slice(-s),h=\"04\"+a+u;return i.setPublicKeyHex(h),i}if(\"EC\"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){var i=new Cr.crypto.ECDSA({curve:t.crv}),s=i.ecparams.keylen/4,a=(\"0000000000\"+pn(t.x)).slice(-s),u=(\"0000000000\"+pn(t.y)).slice(-s),h=\"04\"+a+u,c=(\"0000000000\"+pn(t.d)).slice(-s);return i.setPublicKeyHex(h),i.setPrivateKeyHex(c),i}if(t.indexOf(\"-END CERTIFICATE-\",0)!=-1||t.indexOf(\"-END X509 CERTIFICATE-\",0)!=-1||t.indexOf(\"-END TRUSTED CERTIFICATE-\",0)!=-1)return $n.getPublicKeyFromCertPEM(t);if(\"pkcs8pub\"===n)return Hr.getKeyFromPublicPKCS8Hex(t);if(t.indexOf(\"-END PUBLIC KEY-\")!=-1)return Hr.getKeyFromPublicPKCS8PEM(t);if(\"pkcs5prv\"===n){var r=new ve;return r.readPrivateKeyFromASN1HexString(t),r}if(\"pkcs5prv\"===n){var r=new ve;return r.readPrivateKeyFromASN1HexString(t),r}if(t.indexOf(\"-END RSA PRIVATE KEY-\")!=-1&&t.indexOf(\"4,ENCRYPTED\")==-1){var f=Hr.getHexFromPEM(t,\"RSA PRIVATE KEY\");return Hr.getKey(f,null,\"pkcs5prv\")}if(t.indexOf(\"-END DSA PRIVATE KEY-\")!=-1&&t.indexOf(\"4,ENCRYPTED\")==-1){var l=this.getHexFromPEM(t,\"DSA PRIVATE KEY\"),d=Or.getVbyList(l,0,[1],\"02\"),g=Or.getVbyList(l,0,[2],\"02\"),p=Or.getVbyList(l,0,[3],\"02\"),y=Or.getVbyList(l,0,[4],\"02\"),v=Or.getVbyList(l,0,[5],\"02\"),r=new Cr.crypto.DSA;return r.setPrivate(new o(d,16),new o(g,16),new o(p,16),new o(y,16),new o(v,16)),r}if(t.indexOf(\"-END PRIVATE KEY-\")!=-1)return Hr.getKeyFromPlainPrivatePKCS8PEM(t);if(t.indexOf(\"-END RSA PRIVATE KEY-\")!=-1&&t.indexOf(\"4,ENCRYPTED\")!=-1)return Hr.getRSAKeyFromEncryptedPKCS5PEM(t,e);if(t.indexOf(\"-END EC PRIVATE KEY-\")!=-1&&t.indexOf(\"4,ENCRYPTED\")!=-1){var l=Hr.getDecryptedKeyHex(t,e),r=Or.getVbyList(l,0,[1],\"04\"),m=Or.getVbyList(l,0,[2,0],\"06\"),S=Or.getVbyList(l,0,[3,0],\"03\").substr(2),b=\"\";if(void 0===Cr.crypto.OID.oidhex2name[m])throw\"undefined OID(hex) in KJUR.crypto.OID: \"+m;b=Cr.crypto.OID.oidhex2name[m];var i=new Cr.crypto.ECDSA({name:b});return i.setPublicKeyHex(S),i.setPrivateKeyHex(r),i.isPublic=!1,i}if(t.indexOf(\"-END DSA PRIVATE KEY-\")!=-1&&t.indexOf(\"4,ENCRYPTED\")!=-1){var l=Hr.getDecryptedKeyHex(t,e),d=Or.getVbyList(l,0,[1],\"02\"),g=Or.getVbyList(l,0,[2],\"02\"),p=Or.getVbyList(l,0,[3],\"02\"),y=Or.getVbyList(l,0,[4],\"02\"),v=Or.getVbyList(l,0,[5],\"02\"),r=new Cr.crypto.DSA;return r.setPrivate(new o(d,16),new o(g,16),new o(p,16),new o(y,16),new o(v,16)),r}if(t.indexOf(\"-END ENCRYPTED PRIVATE KEY-\")!=-1)return Hr.getKeyFromEncryptedPKCS8PEM(t,e);throw\"not supported argument\"},Hr.generateKeypair=function(t,e){if(\"RSA\"==t){var n=e,r=new ve;r.generate(n,\"10001\"),r.isPrivate=!0,r.isPublic=!0;var i=new ve,s=r.n.toString(16),o=r.e.toString(16);i.setPublic(s,o),i.isPrivate=!1,i.isPublic=!0;var a={};return a.prvKeyObj=r,a.pubKeyObj=i,a}if(\"EC\"==t){var u=e,h=new Cr.crypto.ECDSA({curve:u}),c=h.generateKeyPairHex(),r=new Cr.crypto.ECDSA({curve:u});r.setPublicKeyHex(c.ecpubhex),r.setPrivateKeyHex(c.ecprvhex),r.isPrivate=!0,r.isPublic=!1;var i=new Cr.crypto.ECDSA({curve:u});i.setPublicKeyHex(c.ecpubhex),i.isPrivate=!1,i.isPublic=!0;var a={};return a.prvKeyObj=r,a.pubKeyObj=i,a}throw\"unknown algorithm: \"+t},Hr.getPEM=function(t,e,n,r,i){function s(t){var e=Cr.asn1.ASN1Util.newObject({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]});return e}function o(t){var e=Cr.asn1.ASN1Util.newObject({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:[\"a0\",!0,{oid:{name:t.curveName}}]},{tag:[\"a1\",!0,{bitstr:{hex:\"00\"+t.pubKeyHex}}]}]});return e}function a(t){var e=Cr.asn1.ASN1Util.newObject({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]});return e}var u=Cr.asn1,h=Cr.crypto;if((\"undefined\"!=typeof ve&&t instanceof ve||\"undefined\"!=typeof h.DSA&&t instanceof h.DSA||\"undefined\"!=typeof h.ECDSA&&t instanceof h.ECDSA)&&1==t.isPublic&&(void 0===e||\"PKCS8PUB\"==e)){var c=new Cr.asn1.x509.SubjectPublicKeyInfo(t),f=c.getEncodedHex();return u.ASN1Util.getPEMStringFromHex(f,\"PUBLIC KEY\")}if(\"PKCS1PRV\"==e&&\"undefined\"!=typeof ve&&t instanceof ve&&(void 0===n||null==n)&&1==t.isPrivate){var c=s(t),f=c.getEncodedHex();return u.ASN1Util.getPEMStringFromHex(f,\"RSA PRIVATE KEY\")}if(\"PKCS1PRV\"==e&&\"undefined\"!=typeof ve&&t instanceof Cr.crypto.ECDSA&&(void 0===n||null==n)&&1==t.isPrivate){var l=new Cr.asn1.DERObjectIdentifier({name:t.curveName}),d=l.getEncodedHex(),g=o(t),p=g.getEncodedHex(),y=\"\";return y+=u.ASN1Util.getPEMStringFromHex(d,\"EC PARAMETERS\"),y+=u.ASN1Util.getPEMStringFromHex(p,\"EC PRIVATE KEY\")}if(\"PKCS1PRV\"==e&&\"undefined\"!=typeof Cr.crypto.DSA&&t instanceof Cr.crypto.DSA&&(void 0===n||null==n)&&1==t.isPrivate){var c=a(t),f=c.getEncodedHex();return u.ASN1Util.getPEMStringFromHex(f,\"DSA PRIVATE KEY\")}if(\"PKCS5PRV\"==e&&\"undefined\"!=typeof ve&&t instanceof ve&&void 0!==n&&null!=n&&1==t.isPrivate){var c=s(t),f=c.getEncodedHex();return void 0===r&&(r=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"RSA\",f,n,r)}if(\"PKCS5PRV\"==e&&\"undefined\"!=typeof Cr.crypto.ECDSA&&t instanceof Cr.crypto.ECDSA&&void 0!==n&&null!=n&&1==t.isPrivate){var c=o(t),f=c.getEncodedHex();return void 0===r&&(r=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"EC\",f,n,r)}if(\"PKCS5PRV\"==e&&\"undefined\"!=typeof Cr.crypto.DSA&&t instanceof Cr.crypto.DSA&&void 0!==n&&null!=n&&1==t.isPrivate){var c=a(t),f=c.getEncodedHex();return void 0===r&&(r=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"DSA\",f,n,r)}var v=function(t,e){var n=m(t,e),r=new Cr.asn1.ASN1Util.newObject({seq:[{seq:[{oid:{name:\"pkcs5PBES2\"}},{seq:[{seq:[{oid:{name:\"pkcs5PBKDF2\"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:\"des-EDE3-CBC\"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]});return r.getEncodedHex()},m=function(t,e){var n=100,r=or.lib.WordArray.random(8),i=\"DES-EDE3-CBC\",s=or.lib.WordArray.random(8),o=or.PBKDF2(e,r,{keySize:6,iterations:n}),a=or.enc.Hex.parse(t),u=or.TripleDES.encrypt(a,o,{iv:s})+\"\",h={};return h.ciphertext=u,h.pbkdf2Salt=or.enc.Hex.stringify(r),h.pbkdf2Iter=n,h.encryptionSchemeAlg=i,h.encryptionSchemeIV=or.enc.Hex.stringify(s),h};if(\"PKCS8PRV\"==e&&\"undefined\"!=typeof ve&&t instanceof ve&&1==t.isPrivate){var S=s(t),b=S.getEncodedHex(),c=Cr.asn1.ASN1Util.newObject({seq:[{int:0},{seq:[{oid:{name:\"rsaEncryption\"}},{null:!0}]},{octstr:{hex:b}}]}),f=c.getEncodedHex();if(void 0===n||null==n)return u.ASN1Util.getPEMStringFromHex(f,\"PRIVATE KEY\");var p=v(f,n);return u.ASN1Util.getPEMStringFromHex(p,\"ENCRYPTED PRIVATE KEY\");\n}if(\"PKCS8PRV\"==e&&\"undefined\"!=typeof Cr.crypto.ECDSA&&t instanceof Cr.crypto.ECDSA&&1==t.isPrivate){var S=new Cr.asn1.ASN1Util.newObject({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:[\"a1\",!0,{bitstr:{hex:\"00\"+t.pubKeyHex}}]}]}),b=S.getEncodedHex(),c=Cr.asn1.ASN1Util.newObject({seq:[{int:0},{seq:[{oid:{name:\"ecPublicKey\"}},{oid:{name:t.curveName}}]},{octstr:{hex:b}}]}),f=c.getEncodedHex();if(void 0===n||null==n)return u.ASN1Util.getPEMStringFromHex(f,\"PRIVATE KEY\");var p=v(f,n);return u.ASN1Util.getPEMStringFromHex(p,\"ENCRYPTED PRIVATE KEY\")}if(\"PKCS8PRV\"==e&&\"undefined\"!=typeof Cr.crypto.DSA&&t instanceof Cr.crypto.DSA&&1==t.isPrivate){var S=new Cr.asn1.DERInteger({bigint:t.x}),b=S.getEncodedHex(),c=Cr.asn1.ASN1Util.newObject({seq:[{int:0},{seq:[{oid:{name:\"dsa\"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:b}}]}),f=c.getEncodedHex();if(void 0===n||null==n)return u.ASN1Util.getPEMStringFromHex(f,\"PRIVATE KEY\");var p=v(f,n);return u.ASN1Util.getPEMStringFromHex(p,\"ENCRYPTED PRIVATE KEY\")}throw\"unsupported object nor format\"},Hr.getKeyFromCSRPEM=function(t){var e=Hr.getHexFromPEM(t,\"CERTIFICATE REQUEST\"),n=Hr.getKeyFromCSRHex(e);return n},Hr.getKeyFromCSRHex=function(t){var e=Hr.parseCSRHex(t),n=Hr.getKey(e.p8pubkeyhex,null,\"pkcs8pub\");return n},Hr.parseCSRHex=function(t){var e={},n=t;if(\"30\"!=n.substr(0,2))throw\"malformed CSR(code:001)\";var r=Or.getPosArrayOfChildren_AtObj(n,0);if(r.length<1)throw\"malformed CSR(code:002)\";if(\"30\"!=n.substr(r[0],2))throw\"malformed CSR(code:003)\";var i=Or.getPosArrayOfChildren_AtObj(n,r[0]);if(i.length<3)throw\"malformed CSR(code:004)\";return e.p8pubkeyhex=Or.getHexOfTLV_AtObj(n,i[2]),e},Hr.getJWKFromKey=function(t){var e={};if(t instanceof ve&&t.isPrivate)return e.kty=\"RSA\",e.n=gn(t.n.toString(16)),e.e=gn(t.e.toString(16)),e.d=gn(t.d.toString(16)),e.p=gn(t.p.toString(16)),e.q=gn(t.q.toString(16)),e.dp=gn(t.dmp1.toString(16)),e.dq=gn(t.dmq1.toString(16)),e.qi=gn(t.coeff.toString(16)),e;if(t instanceof ve&&t.isPublic)return e.kty=\"RSA\",e.n=gn(t.n.toString(16)),e.e=gn(t.e.toString(16)),e;if(t instanceof Cr.crypto.ECDSA&&t.isPrivate){var n=t.getShortNISTPCurveName();if(\"P-256\"!==n&&\"P-384\"!==n)throw\"unsupported curve name for JWT: \"+n;var r=t.getPublicKeyXYHex();return e.kty=\"EC\",e.crv=n,e.x=gn(r.x),e.y=gn(r.y),e.d=gn(t.prvKeyHex),e}if(t instanceof Cr.crypto.ECDSA&&t.isPublic){var n=t.getShortNISTPCurveName();if(\"P-256\"!==n&&\"P-384\"!==n)throw\"unsupported curve name for JWT: \"+n;var r=t.getPublicKeyXYHex();return e.kty=\"EC\",e.crv=n,e.x=gn(r.x),e.y=gn(r.y),e}throw\"not supported key object\"},ve.prototype.readPrivateKeyFromPEMString=jn,ve.prototype.readPrivateKeyFromASN1HexString=Rn;/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\nvar Ir=new RegExp(\"\");Ir.compile(\"[^0-9a-f]\",\"gi\"),ve.prototype.signWithMessageHash=kn,ve.prototype.signString=In,ve.prototype.signStringWithSHA1=Bn,ve.prototype.signStringWithSHA256=Nn,ve.prototype.sign=In,ve.prototype.signWithSHA1=Bn,ve.prototype.signWithSHA256=Nn,ve.prototype.signWithMessageHashPSS=Kn,ve.prototype.signStringPSS=Mn,ve.prototype.signPSS=Mn,ve.SALT_LEN_HLEN=-1,ve.SALT_LEN_MAX=-2,ve.prototype.verifyWithMessageHash=Yn,ve.prototype.verifyString=zn,ve.prototype.verifyHexSignatureForMessage=Jn,ve.prototype.verify=zn,ve.prototype.verifyHexSignatureForByteArrayMessage=Jn,ve.prototype.verifyWithMessageHashPSS=Xn,ve.prototype.verifyStringPSS=Gn,ve.prototype.verifyPSS=Gn,ve.SALT_LEN_RECOVER=-2,$n.pemToBase64=function(t){var e=t;return e=e.replace(\"-----BEGIN CERTIFICATE-----\",\"\"),e=e.replace(\"-----END CERTIFICATE-----\",\"\"),e=e.replace(/[ \\n]+/g,\"\")},$n.pemToHex=function(t){var e=$n.pemToBase64(t),n=i(e);return n},$n.getSubjectPublicKeyPosFromCertHex=function(t){var e=$n.getSubjectPublicKeyInfoPosFromCertHex(t);if(e==-1)return-1;var n=Or.getPosArrayOfChildren_AtObj(t,e);if(2!=n.length)return-1;var r=n[1];if(\"03\"!=t.substring(r,r+2))return-1;var i=Or.getStartPosOfV_AtObj(t,r);return\"00\"!=t.substring(i,i+2)?-1:i+2},$n.getSubjectPublicKeyInfoPosFromCertHex=function(t){var e=Or.getStartPosOfV_AtObj(t,0),n=Or.getPosArrayOfChildren_AtObj(t,e);return n.length<1?-1:\"a003020102\"==t.substring(n[0],n[0]+10)?n.length<6?-1:n[6]:n.length<5?-1:n[5]},$n.getPublicKeyHexArrayFromCertHex=function(t){var e=$n.getSubjectPublicKeyPosFromCertHex(t),n=Or.getPosArrayOfChildren_AtObj(t,e);if(2!=n.length)return[];var r=Or.getHexOfV_AtObj(t,n[0]),i=Or.getHexOfV_AtObj(t,n[1]);return null!=r&&null!=i?[r,i]:[]},$n.getHexTbsCertificateFromCert=function(t){var e=Or.getStartPosOfV_AtObj(t,0);return e},$n.getPublicKeyHexArrayFromCertPEM=function(t){var e=$n.pemToHex(t),n=$n.getPublicKeyHexArrayFromCertHex(e);return n},$n.hex2dn=function(t){for(var e=\"\",n=Or.getPosArrayOfChildren_AtObj(t,0),r=0;r<n.length;r++){var i=Or.getHexOfTLV_AtObj(t,n[r]);e=e+\"/\"+$n.hex2rdn(i)}return e},$n.hex2rdn=function(t){var e=Or.getDecendantHexTLVByNthList(t,0,[0,0]),n=Or.getDecendantHexVByNthList(t,0,[0,1]),r=\"\";try{r=$n.DN_ATTRHEX[e]}catch(t){r=e}n=n.replace(/(..)/g,\"%$1\");var i=decodeURIComponent(n);return r+\"=\"+i},$n.DN_ATTRHEX={\"0603550406\":\"C\",\"060355040a\":\"O\",\"060355040b\":\"OU\",\"0603550403\":\"CN\",\"0603550405\":\"SN\",\"0603550408\":\"ST\",\"0603550407\":\"L\",\"0603550409\":\"streetAddress\",\"060355040f\":\"businessCategory\",\"0603550411\":\"postalCode\",\"060b2b0601040182373c020102\":\"jurisdictionOfIncorporationSP\",\"060b2b0601040182373c020103\":\"jurisdictionOfIncorporationC\"},$n.getPublicKeyFromCertPEM=function(t){var e=$n.getPublicKeyInfoPropOfCertPEM(t);if(\"2a864886f70d010101\"==e.algoid){var n=Hr.parsePublicRawRSAKeyHex(e.keyhex),r=new ve;return r.setPublic(n.n,n.e),r}if(\"2a8648ce3d0201\"==e.algoid){var i=Cr.crypto.OID.oidhex2name[e.algparam],r=new Cr.crypto.ECDSA({curve:i,info:e.keyhex});return r.setPublicKeyHex(e.keyhex),r}if(\"2a8648ce380401\"==e.algoid){var s=Or.getVbyList(e.algparam,0,[0],\"02\"),a=Or.getVbyList(e.algparam,0,[1],\"02\"),u=Or.getVbyList(e.algparam,0,[2],\"02\"),h=Or.getHexOfV_AtObj(e.keyhex,0);h=h.substr(2);var r=new Cr.crypto.DSA;return r.setPublic(new o(s,16),new o(a,16),new o(u,16),new o(h,16)),r}throw\"unsupported key\"},$n.getPublicKeyInfoPropOfCertPEM=function(t){var e={};e.algparam=null;var n=$n.pemToHex(t),r=Or.getPosArrayOfChildren_AtObj(n,0);if(3!=r.length)throw\"malformed X.509 certificate PEM (code:001)\";if(\"30\"!=n.substr(r[0],2))throw\"malformed X.509 certificate PEM (code:002)\";var i=Or.getPosArrayOfChildren_AtObj(n,r[0]),s=6;if(\"a0\"!==n.substr(i[0],2)&&(s=5),i.length<s+1)throw\"malformed X.509 certificate PEM (code:003)\";var o=Or.getPosArrayOfChildren_AtObj(n,i[s]);if(2!=o.length)throw\"malformed X.509 certificate PEM (code:004)\";var a=Or.getPosArrayOfChildren_AtObj(n,o[0]);if(2!=a.length)throw\"malformed X.509 certificate PEM (code:005)\";if(e.algoid=Or.getHexOfV_AtObj(n,a[0]),\"06\"==n.substr(a[1],2)?e.algparam=Or.getHexOfV_AtObj(n,a[1]):\"30\"==n.substr(a[1],2)&&(e.algparam=Or.getHexOfTLV_AtObj(n,a[1])),\"03\"!=n.substr(o[1],2))throw\"malformed X.509 certificate PEM (code:006)\";var u=Or.getHexOfV_AtObj(n,o[1]);return e.keyhex=u.substr(2),e},$n.getPublicKeyInfoPosOfCertHEX=function(t){var e=Or.getPosArrayOfChildren_AtObj(t,0);if(3!=e.length)throw\"malformed X.509 certificate PEM (code:001)\";if(\"30\"!=t.substr(e[0],2))throw\"malformed X.509 certificate PEM (code:002)\";var n=Or.getPosArrayOfChildren_AtObj(t,e[0]);if(n.length<7)throw\"malformed X.509 certificate PEM (code:003)\";return n[6]},$n.getV3ExtInfoListOfCertHex=function(t){var e=Or.getPosArrayOfChildren_AtObj(t,0);if(3!=e.length)throw\"malformed X.509 certificate PEM (code:001)\";if(\"30\"!=t.substr(e[0],2))throw\"malformed X.509 certificate PEM (code:002)\";var n=Or.getPosArrayOfChildren_AtObj(t,e[0]);if(n.length<8)throw\"malformed X.509 certificate PEM (code:003)\";if(\"a3\"!=t.substr(n[7],2))throw\"malformed X.509 certificate PEM (code:004)\";var r=Or.getPosArrayOfChildren_AtObj(t,n[7]);if(1!=r.length)throw\"malformed X.509 certificate PEM (code:005)\";if(\"30\"!=t.substr(r[0],2))throw\"malformed X.509 certificate PEM (code:006)\";for(var i=Or.getPosArrayOfChildren_AtObj(t,r[0]),s=i.length,o=new Array(s),a=0;a<s;a++)o[a]=$n.getV3ExtItemInfo_AtObj(t,i[a]);return o},$n.getV3ExtItemInfo_AtObj=function(t,e){var n={};n.posTLV=e;var r=Or.getPosArrayOfChildren_AtObj(t,e);if(2!=r.length&&3!=r.length)throw\"malformed X.509v3 Ext (code:001)\";if(\"06\"!=t.substr(r[0],2))throw\"malformed X.509v3 Ext (code:002)\";var i=Or.getHexOfV_AtObj(t,r[0]);n.oid=Or.hextooidstr(i),n.critical=!1,3==r.length&&(n.critical=!0);var s=r[r.length-1];if(\"04\"!=t.substr(s,2))throw\"malformed X.509v3 Ext (code:003)\";return n.posV=Or.getStartPosOfV_AtObj(t,s),n},$n.getHexOfTLV_V3ExtValue=function(t,e){var n=$n.getPosOfTLV_V3ExtValue(t,e);return n==-1?null:Or.getHexOfTLV_AtObj(t,n)},$n.getHexOfV_V3ExtValue=function(t,e){var n=$n.getPosOfTLV_V3ExtValue(t,e);return n==-1?null:Or.getHexOfV_AtObj(t,n)},$n.getPosOfTLV_V3ExtValue=function(t,e){var n=e;if(e.match(/^[0-9.]+$/)||(n=Cr.asn1.x509.OID.name2oid(e)),\"\"==n)return-1;for(var r=$n.getV3ExtInfoListOfCertHex(t),i=0;i<r.length;i++){var s=r[i];if(s.oid==n)return s.posV}return-1},$n.getExtBasicConstraints=function(t){var e=$n.getHexOfV_V3ExtValue(t,\"basicConstraints\");if(null===e)return null;if(\"\"===e)return{};if(\"0101ff\"===e)return{cA:!0};if(\"0101ff02\"===e.substr(0,8)){var n=Or.getHexOfV_AtObj(e,6),r=parseInt(n,16);return{cA:!0,pathLen:r}}throw\"unknown error\"},$n.KEYUSAGE_NAME=[\"digitalSignature\",\"nonRepudiation\",\"keyEncipherment\",\"dataEncipherment\",\"keyAgreement\",\"keyCertSign\",\"cRLSign\",\"encipherOnly\",\"decipherOnly\"],$n.getExtKeyUsageBin=function(t){var e=$n.getHexOfV_V3ExtValue(t,\"keyUsage\");if(\"\"==e)return\"\";if(e.length%2!=0||e.length<=2)throw\"malformed key usage value\";var n=parseInt(e.substr(0,2)),r=parseInt(e.substr(2),16).toString(2);return r.substr(0,r.length-n)},$n.getExtKeyUsageString=function(t){for(var e=$n.getExtKeyUsageBin(t),n=new Array,r=0;r<e.length;r++)\"1\"==e.substr(r,1)&&n.push($n.KEYUSAGE_NAME[r]);return n.join(\",\")},$n.getExtSubjectKeyIdentifier=function(t){var e=$n.getHexOfV_V3ExtValue(t,\"subjectKeyIdentifier\");return e},$n.getExtAuthorityKeyIdentifier=function(t){var e={},n=$n.getHexOfTLV_V3ExtValue(t,\"authorityKeyIdentifier\");if(null===n)return null;for(var r=Or.getPosArrayOfChildren_AtObj(n,0),i=0;i<r.length;i++)\"80\"===n.substr(r[i],2)&&(e.kid=Or.getHexOfV_AtObj(n,r[i]));return e},$n.getExtExtKeyUsageName=function(t){var e=new Array,n=$n.getHexOfTLV_V3ExtValue(t,\"extKeyUsage\");if(null===n)return null;for(var r=Or.getPosArrayOfChildren_AtObj(n,0),i=0;i<r.length;i++){var s=Or.getHexOfV_AtObj(n,r[i]),o=Cr.asn1.ASN1Util.oidHexToInt(s),a=Cr.asn1.x509.OID.oid2name(o);e.push(a)}return e},$n.getExtSubjectAltName=function(t){for(var e=new Array,n=$n.getHexOfTLV_V3ExtValue(t,\"subjectAltName\"),r=Or.getPosArrayOfChildren_AtObj(n,0),i=0;i<r.length;i++)if(\"82\"===n.substr(r[i],2)){var s=Sn(Or.getHexOfV_AtObj(n,r[i]));e.push(s)}return e},$n.getExtCRLDistributionPointsURI=function(t){for(var e=new Array,n=$n.getHexOfTLV_V3ExtValue(t,\"cRLDistributionPoints\"),r=Or.getPosArrayOfChildren_AtObj(n,0),i=0;i<r.length;i++)for(var s=Or.getHexOfTLV_AtObj(n,r[i]),o=Or.getPosArrayOfChildren_AtObj(s,0),a=0;a<o.length;a++)if(\"a0\"===s.substr(o[a],2)){var u=Or.getHexOfV_AtObj(s,o[a]);if(\"a0\"===u.substr(0,2)){var h=Or.getHexOfV_AtObj(u,0);if(\"86\"===h.substr(0,2)){var c=Or.getHexOfV_AtObj(h,0),f=Sn(c);e.push(f)}}}return e},$n.getExtAIAInfo=function(t){var e={};e.ocsp=[],e.caissuer=[];var n=$n.getPosOfTLV_V3ExtValue(t,\"authorityInfoAccess\");if(n==-1)return null;if(\"30\"!=t.substr(n,2))throw\"malformed AIA Extn Value\";for(var r=Or.getPosArrayOfChildren_AtObj(t,n),i=0;i<r.length;i++){var s=r[i],o=Or.getPosArrayOfChildren_AtObj(t,s);if(2!=o.length)throw\"malformed AccessDescription of AIA Extn\";var a=o[0],u=o[1];\"2b06010505073001\"==Or.getHexOfV_AtObj(t,a)&&\"86\"==t.substr(u,2)&&e.ocsp.push(Sn(Or.getHexOfV_AtObj(t,u))),\"2b06010505073002\"==Or.getHexOfV_AtObj(t,a)&&\"86\"==t.substr(u,2)&&e.caissuer.push(Sn(Or.getHexOfV_AtObj(t,u)))}return e},$n.getSignatureAlgorithmName=function(t){var e=Or.getDecendantHexVByNthList(t,0,[1,0]),n=Cr.asn1.ASN1Util.oidHexToInt(e),r=Cr.asn1.x509.OID.oid2name(n);return r},$n.getSignatureValueHex=function(t){var e=Or.getDecendantHexVByNthList(t,0,[2]);if(\"00\"!==e.substr(0,2))throw\"can't get signature value\";return e.substr(2)},$n.getSerialNumberHex=function(t){return Or.getDecendantHexVByNthList(t,0,[0,1])},/*! jws-3.3.4 (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.jws&&Cr.jws||(Cr.jws={}),Cr.jws.JWS=function(){var t=Cr.jws.JWS;this.parseJWS=function(e,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){if(null==e.match(/^([^.]+)\\.([^.]+)\\.([^.]+)$/))throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\";var r=RegExp.$1,i=RegExp.$2,s=RegExp.$3,o=r+\".\"+i;if(this.parsedJWS={},this.parsedJWS.headB64U=r,this.parsedJWS.payloadB64U=i,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=o,!n){var a=pn(s),u=de(a,16);this.parsedJWS.sigvalH=a,this.parsedJWS.sigvalBI=u}var h=Dr(r),c=Dr(i);if(this.parsedJWS.headS=h,this.parsedJWS.payloadS=c,!t.isSafeJSONString(h,this.parsedJWS,\"headP\"))throw\"malformed JSON string for JWS Head: \"+h}}},Cr.jws.JWS.sign=function(t,e,n,r,i){var s,o,a,u=Cr.jws.JWS;if(\"string\"!=typeof e&&\"object\"!=typeof e)throw\"spHeader must be JSON string or object: \"+e;if(\"object\"==typeof e&&(o=e,s=JSON.stringify(o)),\"string\"==typeof e){if(s=e,!u.isSafeJSONString(s))throw\"JWS Head is not safe JSON string: \"+s;o=u.readSafeJSONString(s)}if(a=n,\"object\"==typeof n&&(a=JSON.stringify(n)),\"\"!=t&&null!=t||void 0===o.alg||(t=o.alg),\"\"!=t&&null!=t&&void 0===o.alg&&(o.alg=t,s=JSON.stringify(o)),t!==o.alg)throw\"alg and sHeader.alg doesn't match: \"+t+\"!=\"+o.alg;var h=null;if(void 0===u.jwsalg2sigalg[t])throw\"unsupported alg name: \"+t;h=u.jwsalg2sigalg[t];var c=Tr(s),f=Tr(a),l=c+\".\"+f,d=\"\";if(\"Hmac\"==h.substr(0,4)){if(void 0===r)throw\"mac key shall be specified for HS* alg\";var g=new Cr.crypto.Mac({alg:h,prov:\"cryptojs\",pass:r});g.updateString(l),d=g.doFinal()}else if(h.indexOf(\"withECDSA\")!=-1){var p=new Cr.crypto.Signature({alg:h});p.init(r,i),p.updateString(l),hASN1Sig=p.sign(),d=Cr.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else if(\"none\"!=h){var p=new Cr.crypto.Signature({alg:h});p.init(r,i),p.updateString(l),d=p.sign()}var y=gn(d);return l+\".\"+y},Cr.jws.JWS.verify=function(t,e,n){var r=Cr.jws.JWS,i=t.split(\".\"),s=i[0],o=i[1],a=s+\".\"+o,u=pn(i[2]),h=r.readSafeJSONString(Dr(i[0])),c=null,f=null;if(void 0===h.alg)throw\"algorithm not specified in header\";if(c=h.alg,f=c.substr(0,2),null!=n&&\"[object Array]\"===Object.prototype.toString.call(n)&&n.length>0){var l=\":\"+n.join(\":\")+\":\";if(l.indexOf(\":\"+c+\":\")==-1)throw\"algorithm '\"+c+\"' not accepted in the list\"}if(\"none\"!=c&&null===e)throw\"key shall be specified to verify.\";if(\"string\"==typeof e&&e.indexOf(\"-----BEGIN \")!=-1&&(e=Hr.getKey(e)),!(\"RS\"!=f&&\"PS\"!=f||e instanceof ve))throw\"key shall be a RSAKey obj for RS* and PS* algs\";if(\"ES\"==f&&!(e instanceof Cr.crypto.ECDSA))throw\"key shall be a ECDSA obj for ES* algs\";var d=null;if(void 0===r.jwsalg2sigalg[h.alg])throw\"unsupported alg name: \"+c;if(d=r.jwsalg2sigalg[c],\"none\"==d)throw\"not supported\";if(\"Hmac\"==d.substr(0,4)){var g=null;if(void 0===e)throw\"hexadecimal key shall be specified for HMAC\";var p=new Cr.crypto.Mac({alg:d,pass:e});return p.updateString(a),g=p.doFinal(),u==g}if(d.indexOf(\"withECDSA\")!=-1){var y=null;try{y=Cr.crypto.ECDSA.concatSigToASN1Sig(u)}catch(t){return!1}var v=new Cr.crypto.Signature({alg:d});return v.init(e),v.updateString(a),v.verify(y)}var v=new Cr.crypto.Signature({alg:d});return v.init(e),v.updateString(a),v.verify(u)},Cr.jws.JWS.parse=function(t){var e,n,r,i=t.split(\".\"),s={};if(2!=i.length&&3!=i.length)throw\"malformed sJWS: wrong number of '.' splitted elements\";return e=i[0],n=i[1],3==i.length&&(r=i[2]),s.headerObj=Cr.jws.JWS.readSafeJSONString(Dr(e)),s.payloadObj=Cr.jws.JWS.readSafeJSONString(Dr(n)),s.headerPP=JSON.stringify(s.headerObj,null,\"  \"),null==s.payloadObj?s.payloadPP=Dr(n):s.payloadPP=JSON.stringify(s.payloadObj,null,\"  \"),void 0!==r&&(s.sigHex=pn(r)),s},Cr.jws.JWS.verifyJWT=function(t,e,n){var r=Cr.jws.JWS,i=t.split(\".\"),s=i[0],o=i[1],a=(pn(i[2]),r.readSafeJSONString(Dr(s))),u=r.readSafeJSONString(Dr(o));if(void 0===a.alg)return!1;if(void 0===n.alg)throw\"acceptField.alg shall be specified\";if(!r.inArray(a.alg,n.alg))return!1;if(void 0!==u.iss&&\"object\"==typeof n.iss&&!r.inArray(u.iss,n.iss))return!1;if(void 0!==u.sub&&\"object\"==typeof n.sub&&!r.inArray(u.sub,n.sub))return!1;if(void 0!==u.aud&&\"object\"==typeof n.aud)if(\"string\"==typeof u.aud){if(!r.inArray(u.aud,n.aud))return!1}else if(\"object\"==typeof u.aud&&!r.includedArray(u.aud,n.aud))return!1;var h=Cr.jws.IntDate.getNow();return void 0!==n.verifyAt&&\"number\"==typeof n.verifyAt&&(h=n.verifyAt),void 0!==n.gracePeriod&&\"number\"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==u.exp&&\"number\"==typeof u.exp&&u.exp+n.gracePeriod<h)&&(!(void 0!==u.nbf&&\"number\"==typeof u.nbf&&h<u.nbf-n.gracePeriod)&&(!(void 0!==u.iat&&\"number\"==typeof u.iat&&h<u.iat-n.gracePeriod)&&((void 0===u.jti||void 0===n.jti||u.jti===n.jti)&&!!Cr.jws.JWS.verify(t,e,n.alg))))},Cr.jws.JWS.includedArray=function(t,e){var n=Cr.jws.JWS.inArray;if(null===t)return!1;if(\"object\"!=typeof t)return!1;if(\"number\"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e))return!1;return!0},Cr.jws.JWS.inArray=function(t,e){if(null===e)return!1;if(\"object\"!=typeof e)return!1;if(\"number\"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},Cr.jws.JWS.jwsalg2sigalg={HS256:\"HmacSHA256\",HS384:\"HmacSHA384\",HS512:\"HmacSHA512\",RS256:\"SHA256withRSA\",RS384:\"SHA384withRSA\",RS512:\"SHA512withRSA\",ES256:\"SHA256withECDSA\",ES384:\"SHA384withECDSA\",PS256:\"SHA256withRSAandMGF1\",PS384:\"SHA384withRSAandMGF1\",PS512:\"SHA512withRSAandMGF1\",none:\"none\"},Cr.jws.JWS.isSafeJSONString=function(t,e,n){var r=null;try{return r=Pr(t),\"object\"!=typeof r?0:r.constructor===Array?0:(e&&(e[n]=r),1)}catch(t){return 0}},Cr.jws.JWS.readSafeJSONString=function(t){var e=null;try{return e=Pr(t),\"object\"!=typeof e?null:e.constructor===Array?null:e}catch(t){return null}},Cr.jws.JWS.getEncodedSignatureValueFromJWS=function(t){if(null==t.match(/^[^.]+\\.[^.]+\\.([^.]+)$/))throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\";return RegExp.$1},Cr.jws.JWS.getJWKthumbprint=function(t){if(\"RSA\"!==t.kty&&\"EC\"!==t.kty&&\"oct\"!==t.kty)throw\"unsupported algorithm for JWK Thumprint\";var e=\"{\";if(\"RSA\"===t.kty){if(\"string\"!=typeof t.n||\"string\"!=typeof t.e)throw\"wrong n and e value for RSA key\";e+='\"e\":\"'+t.e+'\",',e+='\"kty\":\"'+t.kty+'\",',e+='\"n\":\"'+t.n+'\"}'}else if(\"EC\"===t.kty){if(\"string\"!=typeof t.crv||\"string\"!=typeof t.x||\"string\"!=typeof t.y)throw\"wrong crv, x and y value for EC key\";e+='\"crv\":\"'+t.crv+'\",',e+='\"kty\":\"'+t.kty+'\",',e+='\"x\":\"'+t.x+'\",',e+='\"y\":\"'+t.y+'\"}'}else if(\"oct\"===t.kty){if(\"string\"!=typeof t.k)throw\"wrong k value for oct(symmetric) key\";e+='\"kty\":\"'+t.kty+'\",',e+='\"k\":\"'+t.k+'\"}'}var n=wn(e),r=Cr.crypto.Util.hashHex(n,\"sha256\"),i=gn(r);return i},Cr.jws.IntDate={},Cr.jws.IntDate.get=function(t){if(\"now\"==t)return Cr.jws.IntDate.getNow();if(\"now + 1hour\"==t)return Cr.jws.IntDate.getNow()+3600;if(\"now + 1day\"==t)return Cr.jws.IntDate.getNow()+86400;if(\"now + 1month\"==t)return Cr.jws.IntDate.getNow()+2592e3;if(\"now + 1year\"==t)return Cr.jws.IntDate.getNow()+31536e3;if(t.match(/Z$/))return Cr.jws.IntDate.getZulu(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw\"unsupported format: \"+t},Cr.jws.IntDate.getZulu=function(t){var e;if(e=t.match(/(\\d+)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)Z/)){var n=RegExp.$1,r=parseInt(n);if(4==n.length);else{if(2!=n.length)throw\"malformed year string\";if(50<=r&&r<100)r=1900+r;else{if(!(0<=r&&r<50))throw\"malformed year string for UTCTime\";r=2e3+r}}var i=parseInt(RegExp.$2)-1,s=parseInt(RegExp.$3),o=parseInt(RegExp.$4),a=parseInt(RegExp.$5),u=parseInt(RegExp.$6),h=new Date(Date.UTC(r,i,s,o,a,u));return~~(h/1e3)}throw\"unsupported format: \"+t},Cr.jws.IntDate.getNow=function(){var t=~~(new Date/1e3);return t},Cr.jws.IntDate.intDate2UTCString=function(t){var e=new Date(1e3*t);return e.toUTCString()},Cr.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t),n=(\"0000\"+e.getUTCFullYear()).slice(-4),r=(\"00\"+(e.getUTCMonth()+1)).slice(-2),i=(\"00\"+e.getUTCDate()).slice(-2),s=(\"00\"+e.getUTCHours()).slice(-2),o=(\"00\"+e.getUTCMinutes()).slice(-2),a=(\"00\"+e.getUTCSeconds()).slice(-2);return n+r+i+s+o+a+\"Z\"},/*! jwsjs-2.1.0 (c) 2010-2016 Kenji Urushima | kjur.github.com/jsrsasign/license\n\t */\n\"undefined\"!=typeof Cr&&Cr||(Cr={}),\"undefined\"!=typeof Cr.jws&&Cr.jws||(Cr.jws={}),Cr.jws.JWSJS=function(){var t=Cr.jws.JWS,e=Cr.jws.JWS;this.aHeader=[],this.sPayload=\"\",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var e=t.split(\".\");if(3!=e.length)throw\"malformed input JWS\";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(t,e,n,r){if(void 0===this.sPayload||null===this.sPayload)throw\"there's no JSON-JS signature to add.\";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw\"aHeader.length != aSignature.length\";try{var s=Cr.jws.JWS.sign(t,e,this.sPayload,n,r),o=s.split(\".\");o[0],o[2];this.aHeader.push(o[0]),this.aSignature.push(o[2])}catch(t){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),\"addSignature failed: \"+t}},this.addSignatureByHeaderKey=function(t,e){var n=Dr(this.sPayload),r=new Cr.jws.JWS;r.generateJWSByP1PrvKey(t,n,e);this.aHeader.push(r.parsedJWS.headB64U),this.aSignature.push(r.parsedJWS.sigvalB64U)},this.addSignatureByHeaderPayloadKey=function(t,e,n){var r=new Cr.jws.JWS;r.generateJWSByP1PrvKey(t,e,n);this.aHeader.push(r.parsedJWS.headB64U),this.sPayload=r.parsedJWS.payloadB64U,this.aSignature.push(r.parsedJWS.sigvalB64U)},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var e=0;e<t.length;e++){var n=t[e];if(2!==n.length)return!1;var r=this.verifyNth(e,n[0],n[1]);if(r===!1)return!1}return!0},this.verifyNth=function(t,n,r){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],s=this.aSignature[t],o=i+\".\"+this.sPayload+\".\"+s,a=!1;try{a=e.verify(o,n,r)}catch(t){return!1}return a},this.verifyWithCerts=function(t){if(this.aHeader.length!=t.length)throw\"num headers does not match with num certs\";if(this.aSignature.length!=t.length)throw\"num signatures does not match with num certs\";for(var e=this.sPayload,n=\"\",r=0;r<t.length;r++){var i=t[r],s=this.aHeader[r],o=this.aSignature[r],a=s+\".\"+e+\".\"+o,u=new Cr.jws.JWS;try{var h=u.verifyJWSByPemX509Cert(a,i);1!=h&&(n+=r+1+\"th signature unmatch. \")}catch(t){n+=r+1+\"th signature fail(\"+t+\"). \"}}if(\"\"==n)return 1;throw n},this.readJWSJS=function(e){if(\"string\"==typeof e){var n=t.readSafeJSONString(e);if(null==n)throw\"argument is not safe JSON object string\";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw\"malformed header\";if(this.aHeader=e.headers,\"string\"!=typeof e.payload)throw\"malformed signatures\";if(this.sPayload=e.payload,!(e.signatures.length>0))throw\"malformed signatures\";this.signatures=e.signatures}catch(t){throw\"malformed JWS-JS JSON object: \"+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},e.SecureRandom=le,e.rng_seed_time=he,e.BigInteger=o,e.RSAKey=ve,e.ECDSA=Cr.crypto.ECDSA,e.DSA=Cr.crypto.DSA,e.Signature=Cr.crypto.Signature,e.MessageDigest=Cr.crypto.MessageDigest,e.Mac=Cr.crypto.Mac,e.KEYUTIL=Hr,e.ASN1HEX=Or,e.X509=$n,e.CryptoJS=or,e.b64tohex=i,e.b64toBA=s,e.stoBA=sn,e.BAtos=on,e.BAtohex=an,e.stohex=un,e.stob64=hn,e.stob64u=cn,e.b64utos=fn,e.b64tob64u=ln,e.b64utob64=dn,e.hex2b64=r,e.hextob64u=gn,e.b64utohex=pn,e.b64tohex=i,e.utf8tob64u=Tr,e.b64utoutf8=Dr,e.utf8tob64=yn,e.b64toutf8=vn,e.utf8tohex=mn,e.hextoutf8=Sn,e.hextorstr=bn,e.rstrtohex=wn,e.newline_toUnix=Fn,e.newline_toDos=Pn,e.intarystrtohex=On,e.strdiffidx=Rr,e.KJUR=Cr,e.crypto=Cr.crypto,e.asn1=Cr.asn1,e.jws=Cr.jws,e.lang=Cr.lang,e.readFileUTF8=Qn,e.readFileHexByBin=Zn,e.readFile=tr,e.saveFile=er,e.saveFileBinByHex=nr}).call(e,n(13).Buffer)},function(t,e,n){(function(t){/*!\n\t * The buffer module from node.js, for the browser.\n\t *\n\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n\t * @license  MIT\n\t */\n\"use strict\";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(i()<e)throw new RangeError(\"Invalid typed array length\");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return c(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):\"string\"==typeof e?f(t,e,n):g(t,e)}function u(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function h(t,e,n,r){return u(e),e<=0?s(t,e):void 0!==n?\"string\"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}function c(t,e){if(u(e),t=s(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if(\"string\"==typeof n&&\"\"!==n||(n=\"utf8\"),!o.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var r=0|v(e,n);t=s(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function l(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<n+(r||0))throw new RangeError(\"'length' is out of bounds\");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=l(t,e),t}function g(t,e){if(o.isBuffer(e)){var n=0|p(e.length);return t=s(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||X(e.length)?s(t,0):l(t,e);if(\"Buffer\"===e.type&&Z(e.data))return l(t,e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}function p(t){if(t>=i())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+i().toString(16)+\" bytes\");return 0|t}function y(t){return+t!=t&&(t=0),o.alloc(+t)}function v(t,e){if(o.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return W(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return Y(t).length;default:if(r)return W(t).length;e=(\"\"+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if(n>>>=0,e>>>=0,n<=e)return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return j(this,e,n);case\"utf8\":case\"utf-8\":return C(this,e,n);case\"ascii\":return D(this,e,n);case\"latin1\":case\"binary\":return R(this,e,n);case\"base64\":return O(this,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return H(this,e,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),r=!0}}function S(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(\"string\"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if(\"number\"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function w(t,e,n,r,i){function s(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),\"ucs2\"===r||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,n/=2}var h;if(i){var c=-1;for(h=n;h<a;h++)if(s(t,h)===s(e,c===-1?0:h-c)){if(c===-1&&(c=h),h-c+1===u)return c*o}else c!==-1&&(h-=h-c),c=-1}else for(n+u>a&&(n=a-u),h=n;h>=0;h--){for(var f=!0,l=0;l<u;l++)if(s(t,h+l)!==s(e,l)){f=!1;break}if(f)return h}return-1}function E(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=e.length;if(s%2!==0)throw new TypeError(\"Invalid hex string\");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function _(t,e,n,r){return G(W(e,t.length-n),t,n,r)}function x(t,e,n,r){return G(J(e),t,n,r)}function A(t,e,n,r){return x(t,e,n,r)}function F(t,e,n,r){return G(Y(e),t,n,r)}function P(t,e,n,r){return G(z(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?$.fromByteArray(t):$.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=n){var u,h,c,f;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&s)<<6|63&u,f>127&&(o=f));break;case 3:u=t[i+1],h=t[i+2],128===(192&u)&&128===(192&h)&&(f=(15&s)<<12|(63&u)<<6|63&h,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:u=t[i+1],h=t[i+2],c=t[i+3],128===(192&u)&&128===(192&h)&&128===(192&c)&&(f=(15&s)<<18|(63&u)<<12|(63&h)<<6|63&c,f>65535&&f<1114112&&(o=f))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return T(r)}function T(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n=\"\",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function D(t,e,n){var r=\"\";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r=\"\";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function j(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i=\"\",s=e;s<n;++s)i+=q(t[s]);return i}function H(t,e,n){for(var r=t.slice(e,n),i=\"\",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function I(t,e,n){if(t%1!==0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>n)throw new RangeError(\"Trying to access beyond buffer length\")}function k(t,e,n,r,i,s){if(!o.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('\"value\" argument is out of bounds');if(n+r>t.length)throw new RangeError(\"Index out of range\")}function B(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function V(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function M(t,e,n,r,i){return i||V(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,r,23,4),n+4}function K(t,e,n,r,i){return i||V(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,r,52,8),n+8}function L(t){if(t=U(t).replace(et,\"\"),t.length<2)return\"\";for(;t.length%4!==0;)t+=\"=\";return t}function U(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}function q(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function J(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function z(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function Y(t){return $.toByteArray(L(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t){return t!==t}var $=n(14),Q=n(15),Z=n(16);e.Buffer=o,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=i(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return h(null,t,e,n)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError(\"Arguments must be Buffers\");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},o.concat=function(t,e){if(!Z(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!o.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?\"\":0===arguments.length?C(this,0,t):m.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t=\"\",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(t+=\" ... \")),\"<Buffer \"+t+\">\"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError(\"out of range index\");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var s=i-r,a=n-e,u=Math.min(s,a),h=this.slice(r,i),c=t.slice(e,n),f=0;f<u;++f)if(h[f]!==c[f]){s=h[f],a=c[f];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},o.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r=\"utf8\",n=this.length,e=0;else if(void 0===n&&\"string\"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e|=0,isFinite(n)?(n|=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var s=!1;;)switch(r){case\"hex\":return E(this,t,e,n);case\"utf8\":case\"utf-8\":return _(this,t,e,n);case\"ascii\":return x(this,t,e,n);case\"latin1\":case\"binary\":return A(this,t,e,n);case\"base64\":return F(this,t,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return P(this,t,e,n);default:if(s)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},o.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},o.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;k(this,t,e,n,i,0)}var s=1,o=0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=t/s&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;k(this,t,e,n,i,0)}var s=n-1,o=1;for(this[e+s]=255&t;--s>=0&&(o*=256);)this[e+s]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return K(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return K(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},o.prototype.fill=function(t,e,n,r){if(\"string\"==typeof t){if(\"string\"==typeof e?(r=e,e=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!o.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else\"number\"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError(\"Out of range index\");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var s;if(\"number\"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var a=o.isBuffer(t)?t:W(new o(t,r).toString()),u=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%u]}return this};var et=/[^+\\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){\"use strict\";function n(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");return\"=\"===t[e-2]?2:\"=\"===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,s,o,a=t.length;s=n(t),o=new c(3*a/4-s),r=s>0?a-4:a;var u=0;for(e=0;e<r;e+=4)i=h[t.charCodeAt(e)]<<18|h[t.charCodeAt(e+1)]<<12|h[t.charCodeAt(e+2)]<<6|h[t.charCodeAt(e+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=255&i;return 2===s?(i=h[t.charCodeAt(e)]<<2|h[t.charCodeAt(e+1)]>>4,o[u++]=255&i):1===s&&(i=h[t.charCodeAt(e)]<<10|h[t.charCodeAt(e+1)]<<4|h[t.charCodeAt(e+2)]>>2,o[u++]=i>>8&255,o[u++]=255&i),o}function s(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(s(r));return i.join(\"\")}function a(t){for(var e,n=t.length,r=n%3,i=\"\",s=[],a=16383,h=0,c=n-r;h<c;h+=a)s.push(o(t,h,h+a>c?c:h+a));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+=\"==\"):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+=\"=\"),s.push(i),s.join(\"\")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=a;for(var u=[],h=[],c=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,f=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",l=0,d=f.length;l<d;++l)u[l]=f[l],h[f.charCodeAt(l)]=l;h[\"-\".charCodeAt(0)]=62,h[\"_\".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,h=u>>1,c=-7,f=n?i-1:0,l=n?-1:1,d=t[e+f];for(f+=l,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[e+f],f+=l,c-=8);if(0===s)s=1-h;else{if(s===u)return o?NaN:(d?-1:1)*(1/0);o+=Math.pow(2,r),s-=h}return(d?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,u,h=8*s-i-1,c=(1<<h)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,g=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),e+=o+f>=1?l/u:l*Math.pow(2,1-f),e*u>=2&&(o++,u/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*u-1)*Math.pow(2,i),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&a,d+=g,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;t[n+d]=255&o,d+=g,o/=256,h-=8);t[n+d-g]|=128*p}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==n.call(t)}},function(t,e){},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(19),u=r(a),h=n(20),c=r(h),f=function(){function t(e){var n=e.url,r=e.client_id,s=e.redirect_uri,a=e.response_type,h=e.scope,f=e.authority,l=e.data,d=e.prompt,g=e.display,p=e.max_age,y=e.ui_locales,v=e.id_token_hint,m=e.login_hint,S=e.acr_values,b=e.resource,w=e.request,E=e.request_uri,_=e.extraQueryParams;if(i(this,t),!n)throw o.default.error(\"No url passed to SigninRequest\"),new Error(\"url\");if(!r)throw o.default.error(\"No client_id passed to SigninRequest\"),new Error(\"client_id\");if(!s)throw o.default.error(\"No redirect_uri passed to SigninRequest\"),new Error(\"redirect_uri\");if(!a)throw o.default.error(\"No response_type passed to SigninRequest\"),new Error(\"response_type\");if(!h)throw o.default.error(\"No scope passed to SigninRequest\"),new Error(\"scope\");if(!f)throw o.default.error(\"No authority passed to SigninRequest\"),new Error(\"authority\");var x=t.isOidc(a);this.state=new c.default({nonce:x,data:l,client_id:r,authority:f}),n=u.default.addQueryParam(n,\"client_id\",r),n=u.default.addQueryParam(n,\"redirect_uri\",s),n=u.default.addQueryParam(n,\"response_type\",a),n=u.default.addQueryParam(n,\"scope\",h),n=u.default.addQueryParam(n,\"state\",this.state.id),x&&(n=u.default.addQueryParam(n,\"nonce\",this.state.nonce));var A={prompt:d,display:g,max_age:p,ui_locales:y,id_token_hint:v,login_hint:m,acr_values:S,resource:b,request:w,request_uri:E};for(var F in A)A[F]&&(n=u.default.addQueryParam(n,F,A[F]));for(var P in _)n=u.default.addQueryParam(n,P,_[P]);this.url=n}return t.isOidc=function(t){var e=t.split(/\\s+/g).filter(function(t){return\"id_token\"===t});return!!e[0]},t.isOAuth=function(t){var e=t.split(/\\s+/g).filter(function(t){return\"token\"===t});return!!e[0]},t}();e.default=f,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(5),u=r(a),h=function(){function t(){i(this,t)}return t.addQueryParam=function(t,e,n){return t.indexOf(\"?\")<0&&(t+=\"?\"),\"?\"!==t[t.length-1]&&(t+=\"&\"),t+=encodeURIComponent(e),t+=\"=\",t+=encodeURIComponent(n)},t.parseUrlFragment=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"#\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default;o.default.debug(\"UrlUtility.parseUrlFragment\"),\"string\"!=typeof t&&(t=n.location.href);var r=t.lastIndexOf(e);r>=0&&(t=t.substr(r+1));for(var i,s={},a=/([^&=]+)=([^&]*)/g,h=0;i=a.exec(t);)if(s[decodeURIComponent(i[1])]=decodeURIComponent(i[2]),h++>50)return o.default.error(\"response exceeded expected number of parameters\",t),{error:\"Response exceeded expected number of parameters\"};for(var c in s)return s;return{}},t}();e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),h=r(u),c=n(21),f=r(c),l=n(22),d=r(l),g=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,o=n.authority,a=n.client_id;i(this,e);var u=s(this,t.call(this,arguments[0]));return r===!0?u._nonce=(0,d.default)():r&&(u._nonce=r),u._authority=o,u._client_id=a,u}return o(e,t),e.prototype.toStorageString=function(){return h.default.debug(\"SigninState.toStorageString\"),JSON.stringify({id:this.id,data:this.data,created:this.created,nonce:this.nonce,authority:this.authority,client_id:this.client_id})},e.fromStorageString=function(t){h.default.debug(\"SigninState.fromStorageString\");var n=JSON.parse(t);return new e(n)},a(e,[{key:\"nonce\",get:function(){return this._nonce}},{key:\"authority\",get:function(){return this._authority}},{key:\"client_id\",get:function(){return this._client_id}}]),e}(f.default);e.default=g,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=n(22),h=r(u),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=e.data,s=e.created;i(this,t),this._id=n||(0,h.default)(),this._data=r,\"number\"==typeof s&&s>0?this._created=s:this._created=parseInt(Date.now()/1e3)}return t.prototype.toStorageString=function(){return a.default.debug(\"State.toStorageString\"),JSON.stringify({id:this.id,data:this.data,created:this.created})},t.fromStorageString=function(e){return a.default.debug(\"State.fromStorageString\"),new t(JSON.parse(e))},t.clearStaleState=function(e,n){a.default.debug(\"State.clearStaleState\");var r=Date.now()/1e3-n;return e.getAllKeys().then(function(n){a.default.debug(\"got keys\",n);var i=[],s=!0,o=!1,u=void 0;try{for(var h,c=function(){var n=h.value;l=e.get(n).then(function(i){var s=!1;if(i)try{var o=t.fromStorageString(i);a.default.debug(\"got item from key: \",n,o.created),o.created<=r&&(s=!0)}catch(t){a.default.error(\"Error parsing state for key\",n,t.message),s=!0}else a.default.debug(\"no item in storage for key: \",n),s=!0;if(s)return a.default.debug(\"removed item for key: \",n),e.remove(n)}),i.push(l)},f=n[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var l;c()}}catch(t){o=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(o)throw u}}return a.default.debug(\"waiting on promise count:\",i.length),Promise.all(i)})},s(t,[{key:\"id\",get:function(){return this._id}},{key:\"data\",get:function(){return this._data}},{key:\"created\",get:function(){return this._created}}]),t}();e.default=c,t.exports=e.default},function(t,e){\"use strict\";\n// @preserve Copyright (c) Microsoft Open Technologies, Inc.\nfunction n(){for(var t=\"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx\",e=\"0123456789abcdef\",n=0,r=\"\",i=0;i<t.length;i++)\"-\"!==t[i]&&\"4\"!==t[i]&&(n=16*Math.random()|0),\"x\"===t[i]?r+=e[n]:\"y\"===t[i]?(n&=3,n|=8,r+=e[n]):r+=t[i];return r}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=n,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(19),a=r(o),u=\"openid\",h=function(){function t(e){i(this,t);var n=a.default.parseUrlFragment(e,\"#\");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state,this.id_token=n.id_token,this.session_state=n.session_state,this.access_token=n.access_token,this.token_type=n.token_type,this.scope=n.scope,this.profile=void 0;var r=parseInt(n.expires_in);if(\"number\"==typeof r&&r>0){var s=parseInt(Date.now()/1e3);this.expires_at=s+r}}return s(t,[{key:\"expires_in\",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}}},{key:\"expired\",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:\"scopes\",get:function(){return(this.scope||\"\").split(\" \")}},{key:\"isOpenIdConnect\",get:function(){return this.scopes.indexOf(u)>=0||!!this.id_token}}]),t}();e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(19),u=r(a),h=n(21),c=r(h),f=function t(e){var n=e.url,r=e.id_token_hint,s=e.post_logout_redirect_uri,a=e.data;if(i(this,t),!n)throw o.default.error(\"No url passed to SignoutRequest\"),new Error(\"url\");r&&(n=u.default.addQueryParam(n,\"id_token_hint\",r)),s&&(n=u.default.addQueryParam(n,\"post_logout_redirect_uri\",s),a&&(this.state=new c.default({data:a}),n=u.default.addQueryParam(n,\"state\",this.state.id))),this.url=n};e.default=f,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(19),o=r(s),a=function t(e){i(this,t);var n=o.default.parseUrlFragment(e,\"?\");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state};e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=function(){function t(){i(this,t),this._data={}}return t.prototype.getItem=function(t){return a.default.debug(\"InMemoryWebStorage.getItem\",t),this._data[t]},t.prototype.setItem=function(t,e){a.default.debug(\"InMemoryWebStorage.setItem\",t),this._data[t]=e},t.prototype.removeItem=function(t){a.default.debug(\"InMemoryWebStorage.removeItem\",t),delete this._data[t]},t.prototype.key=function(t){return Object.getOwnPropertyNames(this._data)[t]},s(t,[{key:\"length\",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),h=r(u),c=n(2),f=r(c),l=n(28),d=r(l),g=n(34),p=r(g),y=n(35),v=r(y),m=n(39),S=r(m),b=n(40),w=r(b),E=n(42),_=r(E),x=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.default,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.default,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_.default;i(this,e),n instanceof d.default||(n=new d.default(n));var u=s(this,t.call(this,n));return u._events=new v.default(n),u._silentRenewService=new r(u),u.settings.automaticSilentRenew&&(h.default.debug(\"automaticSilentRenew is configured, setting up silent renew\"),u.startSilentRenew()),u.settings.monitorSession&&(h.default.debug(\"monitorSession is configured, setting up session monitor\"),u._sessionMonitor=new o(u)),u._tokenRevocationClient=new a(u._settings),u}return o(e,t),e.prototype.getUser=function(){var t=this;return h.default.debug(\"UserManager.getUser\"),this._loadUser().then(function(e){return e?(h.default.info(\"user loaded\"),t._events.load(e,!1),e):(h.default.info(\"user not found in storage\"),null)})},e.prototype.removeUser=function(){var t=this;return h.default.debug(\"UserManager.removeUser\"),this.storeUser(null).then(function(){h.default.info(\"user removed from storage\"),t._events.unload()})},e.prototype.signinRedirect=function(t){return h.default.debug(\"UserManager.signinRedirect\"),this._signinStart(t,this._redirectNavigator).then(function(){h.default.info(\"signinRedirect successful\")})},e.prototype.signinRedirectCallback=function(t){return h.default.debug(\"UserManager.signinRedirectCallback\"),this._signinEnd(t||this._redirectNavigator.url).then(function(t){return t&&(t.profile&&t.profile.sub?h.default.info(\"signinRedirectCallback successful, signed in sub: \",t.profile.sub):h.default.info(\"signinRedirectCallback successful\")),t})},e.prototype.signinPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.default.debug(\"UserManager.signinPopup\");var e=t.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return e?(t.redirect_uri=e,t.display=\"popup\",this._signin(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then(function(t){return t&&(t.profile&&t.profile.sub?h.default.info(\"signinPopup successful, signed in sub: \",t.profile.sub):h.default.info(\"signinPopup successful\")),t})):(h.default.error(\"No popup_redirect_uri or redirect_uri configured\"),Promise.reject(new Error(\"No popup_redirect_uri or redirect_uri configured\")))},e.prototype.signinPopupCallback=function(t){return h.default.debug(\"UserManager.signinPopupCallback\"),this._signinCallback(t,this._popupNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?h.default.info(\"signinPopupCallback successful, signed in sub: \",t.profile.sub):h.default.info(\"signinPopupCallback successful\")),t})},e.prototype.signinSilent=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.default.debug(\"UserManager.signinSilent\");var n=e.redirect_uri||this.settings.silent_redirect_uri;if(!n)return h.default.error(\"No silent_redirect_uri configured\"),Promise.reject(new Error(\"No silent_redirect_uri configured\"));e.redirect_uri=n,e.prompt=\"none\";var r=void 0;return r=e.id_token_hint||!this.settings.includeIdTokenInSilentRenew?Promise.resolve():this._loadUser().then(function(t){e.id_token_hint=t&&t.id_token}),r.then(function(){return t._signin(e,t._iframeNavigator,{startUrl:n,silentRequestTimeout:e.silentRequestTimeout||t.settings.silentRequestTimeout})}).then(function(t){return t&&(t.profile&&t.profile.sub?h.default.info(\"signinSilent successful, signed in sub: \",t.profile.sub):h.default.info(\"signinSilent successful\")),t})},e.prototype.signinSilentCallback=function(t){return h.default.debug(\"UserManager.signinSilentCallback\"),this._signinCallback(t,this._iframeNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?h.default.info(\"signinSilentCallback successful, signed in sub: \",t.profile.sub):h.default.info(\"signinSilentCallback successful\")),t})},e.prototype.querySessionStatus=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.default.debug(\"UserManager.querySessionStatus\");var n=e.redirect_uri||this.settings.silent_redirect_uri;return n?(e.redirect_uri=n,e.prompt=\"none\",e.response_type=\"id_token\",e.scope=\"openid\",this._signinStart(e,this._iframeNavigator,{startUrl:n,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(e){return t.processSigninResponse(e.url).then(function(t){return h.default.debug(\"got signin response\"),t.session_state&&t.profile.sub&&t.profile.sid?(h.default.info(\"querySessionStatus success for sub: \",t.profile.sub),{session_state:t.session_state,sub:t.profile.sub,sid:t.profile.sid}):void h.default.info(\"querySessionStatus successful, user not authenticated\")})})):(h.default.error(\"No silent_redirect_uri configured\"),Promise.reject(new Error(\"No silent_redirect_uri configured\")))},e.prototype._signin=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h.default.debug(\"_signin\"),this._signinStart(t,e,r).then(function(t){return n._signinEnd(t.url)})},e.prototype._signinStart=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h.default.debug(\"_signinStart\"),e.prepare(r).then(function(e){return h.default.debug(\"got navigator window handle\"),n.createSigninRequest(t).then(function(t){return h.default.debug(\"got signin request\"),r.url=t.url,r.id=t.state.id,e.navigate(r)}).catch(function(t){throw e.close&&(h.default.debug(\"Error after preparing navigator, closing navigator window\"),e.close()),t})})},e.prototype._signinEnd=function(t){var e=this;return h.default.debug(\"_signinEnd\"),this.processSigninResponse(t).then(function(t){h.default.debug(\"got signin response\");var n=new p.default(t);return e.storeUser(n).then(function(){return h.default.debug(\"user stored\"),e._events.load(n),n})})},e.prototype._signinCallback=function(t,e){return h.default.debug(\"_signinCallback\"),e.callback(t)},e.prototype.signoutRedirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.default.debug(\"UserManager.signoutRedirect\");var e=t.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e&&(t.post_logout_redirect_uri=e),this._signoutStart(t,this._redirectNavigator).then(function(){h.default.info(\"signoutRedirect successful\")})},e.prototype.signoutRedirectCallback=function(t){return h.default.debug(\"UserManager.signoutRedirectCallback\"),this._signoutEnd(t||this._redirectNavigator.url).then(function(t){return h.default.info(\"signoutRedirectCallback successful\"),t})},e.prototype.signoutPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.default.debug(\"UserManager.signinPopup\");var e=t.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return t.post_logout_redirect_uri=e,t.display=\"popup\",t.post_logout_redirect_uri&&(t.state=t.state||{}),this._signout(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){h.default.info(\"signoutPopup successful\")})},e.prototype.signoutPopupCallback=function(t,e){\"undefined\"==typeof e&&\"boolean\"==typeof t&&(t=null,e=!0),h.default.debug(\"UserManager.signoutPopupCallback\");var n=\"?\";return this._popupNavigator.callback(t,e,n).then(function(){h.default.info(\"signoutPopupCallback successful\")})},e.prototype._signout=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h.default.debug(\"_signout\"),this._signoutStart(t,e,r).then(function(t){return n._signoutEnd(t.url)})},e.prototype._signoutStart=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h.default.debug(\"_signoutStart\"),n.prepare(r).then(function(n){return h.default.debug(\"got navigator window handle\"),e._loadUser().then(function(i){h.default.debug(\"loaded current user from storage\");var s=e._settings.revokeAccessTokenOnSignout?e._revokeInternal(i):Promise.resolve();return s.then(function(){var s=t.id_token_hint||i&&i.id_token;return s&&(h.default.debug(\"Setting id_token into signout request\"),t.id_token_hint=s),e.removeUser().then(function(){return h.default.debug(\"user removed, creating signout request\"),e.createSignoutRequest(t).then(function(t){return h.default.debug(\"got signout request\"),r.url=t.url,t.state&&(r.id=t.state.id),n.navigate(r)})})})}).catch(function(t){throw n.close&&(h.default.debug(\"Error after preparing navigator, closing navigator window\"),n.close()),t})})},e.prototype._signoutEnd=function(t){return h.default.debug(\"_signoutEnd\"),this.processSignoutResponse(t).then(function(t){return h.default.debug(\"got signout response\"),t})},e.prototype.revokeAccessToken=function(){var t=this;return h.default.debug(\"UserManager.revokeAccessToken\"),this._loadUser().then(function(e){return t._revokeInternal(e,!0).then(function(n){if(n)return h.default.debug(\"removing token properties from user and re-storing\"),e.access_token=null,e.expires_at=null,e.token_type=null,t.storeUser(e).then(function(){h.default.debug(\"user stored\"),t._events.load(e)})})}).then(function(){h.default.info(\"access token revoked successfully\")})},e.prototype._revokeInternal=function(t,e){h.default.debug(\"checking if token revocation is necessary\");var n=t&&t.access_token;return!n||n.indexOf(\".\")>=0?(h.default.debug(\"no need to revoke due to no user, token, or JWT format\"),Promise.resolve(!1)):this._tokenRevocationClient.revoke(n,e).then(function(){return!0})},e.prototype.startSilentRenew=function(){this._silentRenewService.start()},e.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},e.prototype._loadUser=function(){return h.default.debug(\"_loadUser\"),this._userStore.get(this._userStoreKey).then(function(t){return t?(h.default.debug(\"user storageString loaded\"),p.default.fromStorageString(t)):(h.default.debug(\"no user storageString\"),null)})},e.prototype.storeUser=function(t){if(t){h.default.debug(\"storeUser storing user\");var e=t.toStorageString();return this._userStore.set(this._userStoreKey,e)}return h.default.debug(\"storeUser removing user storage\"),this._userStore.remove(this._userStoreKey)},a(e,[{key:\"_redirectNavigator\",get:function(){return this.settings.redirectNavigator}},{key:\"_popupNavigator\",get:function(){return this.settings.popupNavigator}},{key:\"_iframeNavigator\",get:function(){return this.settings.iframeNavigator}},{key:\"_userStore\",get:function(){return this.settings.userStore}},{key:\"events\",get:function(){return this._events}},{key:\"_userStoreKey\",get:function(){return\"user:\"+this.settings.authority+\":\"+this.settings.client_id}}]),e}(f.default);e.default=x,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),h=(r(u),n(3)),c=r(h),f=n(29),l=r(f),d=n(30),g=r(d),p=n(32),y=r(p),v=n(4),m=r(v),S=n(5),b=r(S),w=60,E=2e3,_=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,o=n.popup_post_logout_redirect_uri,a=n.popupWindowFeatures,u=n.popupWindowTarget,h=n.silent_redirect_uri,c=n.silentRequestTimeout,f=n.automaticSilentRenew,d=void 0!==f&&f,p=n.includeIdTokenInSilentRenew,v=void 0===p||p,S=n.monitorSession,_=void 0===S||S,x=n.checkSessionInterval,A=void 0===x?E:x,F=n.revokeAccessTokenOnSignout,P=void 0!==F&&F,O=n.accessTokenExpiringNotificationTime,C=void 0===O?w:O,T=n.redirectNavigator,D=void 0===T?new l.default:T,R=n.popupNavigator,j=void 0===R?new g.default:R,H=n.iframeNavigator,I=void 0===H?new y.default:H,k=n.userStore,B=void 0===k?new m.default({store:b.default.sessionStorage}):k;i(this,e);var N=s(this,t.call(this,arguments[0]));return N._popup_redirect_uri=r,N._popup_post_logout_redirect_uri=o,N._popupWindowFeatures=a,N._popupWindowTarget=u,N._silent_redirect_uri=h,N._silentRequestTimeout=c,N._automaticSilentRenew=!!d,N._includeIdTokenInSilentRenew=v,N._accessTokenExpiringNotificationTime=C,N._monitorSession=_,N._checkSessionInterval=A,N._revokeAccessTokenOnSignout=P,N._redirectNavigator=D,N._popupNavigator=j,N._iframeNavigator=I,N._userStore=B,N}return o(e,t),a(e,[{key:\"popup_redirect_uri\",get:function(){return this._popup_redirect_uri}},{key:\"popup_post_logout_redirect_uri\",get:function(){return this._popup_post_logout_redirect_uri}},{key:\"popupWindowFeatures\",get:function(){return this._popupWindowFeatures}},{key:\"popupWindowTarget\",get:function(){return this._popupWindowTarget}},{key:\"silent_redirect_uri\",get:function(){return this._silent_redirect_uri}},{key:\"silentRequestTimeout\",get:function(){return this._silentRequestTimeout}},{key:\"automaticSilentRenew\",get:function(){return!(!this.silent_redirect_uri||!this._automaticSilentRenew)}},{key:\"includeIdTokenInSilentRenew\",get:function(){return this._includeIdTokenInSilentRenew}},{key:\"accessTokenExpiringNotificationTime\",get:function(){return this._accessTokenExpiringNotificationTime}},{key:\"monitorSession\",get:function(){return this._monitorSession}},{key:\"checkSessionInterval\",get:function(){return this._checkSessionInterval}},{key:\"revokeAccessTokenOnSignout\",get:function(){return this._revokeAccessTokenOnSignout}},{key:\"redirectNavigator\",get:function(){return this._redirectNavigator}},{key:\"popupNavigator\",get:function(){return this._popupNavigator}},{key:\"iframeNavigator\",get:function(){return this._iframeNavigator}},{key:\"userStore\",get:function(){return this._userStore}}]),e}(c.default);e.default=_,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=function(){function t(){i(this,t)}return t.prototype.prepare=function(){return Promise.resolve(this)},t.prototype.navigate=function(t){return a.default.debug(\"RedirectNavigator.navigate\"),t&&t.url?(window.location=t.url,Promise.resolve()):(a.default.error(\"No url provided\"),Promise.reject(new Error(\"No url provided\")))},s(t,[{key:\"url\",get:function(){return a.default.debug(\"RedirectNavigator.url\"),window.location.href}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(31),u=r(a),h=function(){function t(){i(this,t)}return t.prototype.prepare=function(t){var e=new u.default(t);return Promise.resolve(e)},t.prototype.callback=function(t,e,n){o.default.debug(\"PopupNavigator.callback\");try{return u.default.notifyOpener(t,e,n),Promise.resolve()}catch(t){return Promise.reject(t)}},t}();e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=n(19),h=r(u),c=500,f=\"location=no,toolbar=no,width=500,height=500,left=100,top=100;\",l=\"_blank\",d=function(){function t(e){var n=this;i(this,t),a.default.debug(\"PopupWindow.ctor\"),this._promise=new Promise(function(t,e){n._resolve=t,n._reject=e});var r=e.popupWindowTarget||l,s=e.popupWindowFeatures||f;this._popup=window.open(\"\",r,s),this._popup&&(a.default.debug(\"popup successfully created\"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),c))}return t.prototype.navigate=function(t){return a.default.debug(\"PopupWindow.navigate\"),this._popup?t&&t.url?(a.default.debug(\"Setting URL in popup\"),this._id=t.id,this._id&&(window[\"popupCallback_\"+t.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=t.url):this._error(\"No url provided\"):this._error(\"Error opening popup window\"),this.promise},t.prototype._success=function(t){this._cleanup(),a.default.debug(\"Successful response from popup window\"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),a.default.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup(!1)},t.prototype._cleanup=function(t){a.default.debug(\"PopupWindow._cleanup\"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window[\"popupCallback_\"+this._id],this._popup&&!t&&this._popup.close(),this._popup=null},t.prototype._checkForPopupClosed=function(){a.default.debug(\"PopupWindow._checkForPopupClosed\"),this._popup&&!this._popup.closed||this._error(\"Popup window closed\")},t.prototype._callback=function(t,e){a.default.debug(\"PopupWindow._callback\"),this._cleanup(e),t?this._success({url:t}):this._error(\"Invalid response from popup\")},t.notifyOpener=function(t,e,n){if(a.default.debug(\"PopupWindow.notifyOpener\"),window.opener&&(t=t||window.location.href)){var r=h.default.parseUrlFragment(t,n);if(r.state){var i=\"popupCallback_\"+r.state,s=window.opener[i];s?(a.default.debug(\"passing url message to opener\"),s(t,e)):a.default.warn(\"no matching callback found on opener\")}else a.default.warn(\"no state found in response url\")}},s(t,[{key:\"promise\",get:function(){return this._promise}}]),t}();e.default=d,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(33),u=r(a),h=function(){function t(){i(this,t)}return t.prototype.prepare=function(t){var e=new u.default(t);return Promise.resolve(e)},t.prototype.callback=function(t){o.default.debug(\"IFrameNavigator.callback\");try{return u.default.notifyParent(t),Promise.resolve()}catch(t){return Promise.reject(t)}},t}();e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=1e4,h=function(){function t(e){var n=this;i(this,t),a.default.debug(\"IFrameWindow.ctor\"),this._promise=new Promise(function(t,e){n._resolve=t,n._reject=e}),this._boundMessageEvent=this._message.bind(this),window.addEventListener(\"message\",this._boundMessageEvent,!1),this._frame=window.document.createElement(\"iframe\"),this._frame.style.visibility=\"hidden\",this._frame.style.position=\"absolute\",this._frame.style.display=\"none\",this._frame.style.width=0,this._frame.style.height=0,window.document.body.appendChild(this._frame)}return t.prototype.navigate=function(t){if(a.default.debug(\"IFrameWindow.navigate\"),t&&t.url){var e=t.silentRequestTimeout||u;a.default.debug(\"Using timeout of:\",e),this._timer=window.setTimeout(this._timeout.bind(this),e),this._frame.src=t.url}else this._error(\"No url provided\");return this.promise},t.prototype._success=function(t){this._cleanup(),a.default.debug(\"Successful response from frame window\"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),a.default.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){this._frame&&(a.default.debug(\"IFrameWindow._cleanup\"),window.removeEventListener(\"message\",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},t.prototype._timeout=function(){a.default.debug(\"IFrameWindow._timeout\"),this._error(\"Frame window timed out\")},t.prototype._message=function(t){if(a.default.debug(\"IFrameWindow._message\"),this._timer&&t.origin===this._origin&&t.source===this._frame.contentWindow){var e=t.data;e?this._success({url:e}):this._error(\"Invalid response from frame\")}},t.notifyParent=function(t){a.default.debug(\"IFrameWindow.notifyParent\"),window.parent&&window!==window.parent&&(t=t||window.location.href,t&&(a.default.debug(\"posting url message to parent\"),window.parent.postMessage(t,location.protocol+\"//\"+location.host)))},s(t,[{key:\"promise\",get:function(){return this._promise}},{key:\"_origin\",get:function(){return location.protocol+\"//\"+location.host}}]),t}();e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=function(){function t(e){var n=e.id_token,r=e.session_state,s=e.access_token,o=e.token_type,a=e.scope,u=e.profile,h=e.expires_at,c=e.state;i(this,t),this.id_token=n,this.session_state=r,this.access_token=s,this.token_type=o,this.scope=a,this.profile=u,this.expires_at=h,this.state=c}return t.prototype.toStorageString=function(){return a.default.debug(\"User.toStorageString\"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},t.fromStorageString=function(e){return a.default.debug(\"User.fromStorageString\"),new t(JSON.parse(e))},s(t,[{key:\"expires_in\",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}}},{key:\"expired\",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:\"scopes\",get:function(){return(this.scope||\"\").split(\" \")}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),u=r(a),h=n(36),c=r(h),f=n(38),l=r(f),d=function(t){function e(n){i(this,e);var r=s(this,t.call(this,n));return r._userLoaded=new l.default(\"User loaded\"),r._userUnloaded=new l.default(\"User unloaded\"),r._silentRenewError=new l.default(\"Silent renew error\"),r._userSignedOut=new l.default(\"User signed out\"),r._userSessionChanged=new l.default(\"User session changed\"),r}return o(e,t),e.prototype.load=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];u.default.debug(\"UserManagerEvents.load\"),t.prototype.load.call(this,e),n&&this._userLoaded.raise(e)},e.prototype.unload=function(){u.default.debug(\"UserManagerEvents.unload\"),t.prototype.unload.call(this),this._userUnloaded.raise()},e.prototype.addUserLoaded=function(t){this._userLoaded.addHandler(t)},e.prototype.removeUserLoaded=function(t){this._userLoaded.removeHandler(t)},e.prototype.addUserUnloaded=function(t){this._userUnloaded.addHandler(t)},e.prototype.removeUserUnloaded=function(t){this._userUnloaded.removeHandler(t)},e.prototype.addSilentRenewError=function(t){this._silentRenewError.addHandler(t)},e.prototype.removeSilentRenewError=function(t){this._silentRenewError.removeHandler(t)},e.prototype._raiseSilentRenewError=function(t){u.default.debug(\"UserManagerEvents._raiseSilentRenewError\",t.message),this._silentRenewError.raise(t)},e.prototype.addUserSignedOut=function(t){this._userSignedOut.addHandler(t)},e.prototype.removeUserSignedOut=function(t){this._userSignedOut.removeHandler(t)},e.prototype._raiseUserSignedOut=function(t){u.default.debug(\"UserManagerEvents._raiseUserSignedOut\"),this._userSignedOut.raise(t)},e.prototype.addUserSessionChanged=function(t){this._userSessionChanged.addHandler(t)},e.prototype.removeUserSessionChanged=function(t){this._userSessionChanged.removeHandler(t)},e.prototype._raiseUserSessionChanged=function(t){u.default.debug(\"UserManagerEvents._raiseUserSessionChanged\"),this._userSessionChanged.raise(t)},e}(c.default);e.default=d,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(37),u=r(a),h=60,c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.accessTokenExpiringNotificationTime,r=void 0===n?h:n,s=e.accessTokenExpiringTimer,o=void 0===s?new u.default(\"Access token expiring\"):s,a=e.accessTokenExpiredTimer,c=void 0===a?new u.default(\"Access token expired\"):a;i(this,t),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=o,this._accessTokenExpired=c}return t.prototype.load=function(t){if(o.default.debug(\"AccessTokenEvents.load\"),this._cancelTimers(),\nt.access_token){var e=t.expires_in;if(o.default.debug(\"access token present, remaining duration:\",e),e>0){var n=e-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),o.default.debug(\"registering expiring timer in:\",n),this._accessTokenExpiring.init(n)}var r=e+1;o.default.debug(\"registering expired timer in:\",r),this._accessTokenExpired.init(r)}},t.prototype.unload=function(){o.default.debug(\"AccessTokenEvents.unload\"),this._cancelTimers()},t.prototype._cancelTimers=function(){o.default.debug(\"canceling existing access token timers\"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.addAccessTokenExpiring=function(t){this._accessTokenExpiring.addHandler(t)},t.prototype.removeAccessTokenExpiring=function(t){this._accessTokenExpiring.removeHandler(t)},t.prototype.addAccessTokenExpired=function(t){this._accessTokenExpired.addHandler(t)},t.prototype.removeAccessTokenExpired=function(t){this._accessTokenExpired.removeHandler(t)},t}();e.default=c,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),h=r(u),c=n(5),f=r(c),l=n(38),d=r(l),g=5,p=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.timer;i(this,e);var o=s(this,t.call(this,n));return o._timer=r,o._nowFunc=function(){return Date.now()/1e3},o}return o(e,t),e.prototype.init=function(t){this.cancel(),t<=0&&(t=1),t=parseInt(t),h.default.debug(\"Timer.init timer \"+this._name+\" for duration:\",t),this._expiration=this.now+t;var e=g;t<e&&(e=t),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*e)},e.prototype.cancel=function(){this._timerHandle&&(h.default.debug(\"Timer.cancel: \",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},e.prototype._callback=function(){var e=this._expiration-this.now;h.default.debug(\"Timer._callback; \"+this._name+\" timer expires in:\",e),this._expiration<=this.now&&(this.cancel(),t.prototype.raise.call(this))},a(e,[{key:\"now\",get:function(){return parseInt(this._nowFunc())}}]),e}(d.default);e.default=p,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=function(){function t(e){i(this,t),this._name=e,this._callbacks=[]}return t.prototype.addHandler=function(t){this._callbacks.push(t)},t.prototype.removeHandler=function(t){var e=this._callbacks.findIndex(function(e){return e===t});e>=0&&this._callbacks.splice(e,1)},t.prototype.raise=function(){o.default.debug(\"Raising event: \"+this._name);var t=!0,e=!1,n=void 0;try{for(var r,i=this._callbacks[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;s.apply(void 0,arguments)}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}},t}();e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=function(){function t(e){i(this,t),this._userManager=e}return t.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(t){}).catch(function(t){o.default.error(\"Error from getUser:\",t.message)}))},t.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},t.prototype._tokenExpiring=function(){var t=this;o.default.debug(\"SilentRenewService automatically renewing access token\"),this._userManager.signinSilent().then(function(t){o.default.debug(\"Silent token renewal successful\")},function(e){o.default.error(\"Error from signinSilent:\",e.message),t._userManager.events._raiseSilentRenewError(e)})},t}();e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=n(41),h=r(u),c=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default;if(i(this,t),!e)throw a.default.error(\"No user manager passed to SessionMonitor\"),new Error(\"userManager\");this._userManager=e,this._CheckSessionIFrameCtor=r,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),this._userManager.getUser().then(function(t){t&&n._start(t)}).catch(function(t){a.default.error(\"SessionMonitor ctor; error from getUser:\",t.message)})}return t.prototype._start=function(t){var e=this,n=t.session_state;n&&(this._sub=t.profile.sub,this._sid=t.profile.sid,a.default.debug(\"SessionMonitor._start; session_state:\",n,\", sub:\",this._sub),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then(function(t){if(t){a.default.debug(\"Initializing check session iframe\");var r=e._client_id,i=e._checkSessionInterval;e._checkSessionIFrame=new e._CheckSessionIFrameCtor(e._callback.bind(e),r,t,i),e._checkSessionIFrame.load().then(function(){e._checkSessionIFrame.start(n)})}else a.default.warn(\"No check session iframe found in the metadata\")}).catch(function(t){a.default.error(\"Error from getCheckSessionIframe:\",t.message)}))},t.prototype._stop=function(){a.default.debug(\"SessionMonitor._stop\"),this._sub=null,this._sid=null,this._checkSessionIFrame&&this._checkSessionIFrame.stop()},t.prototype._callback=function(){var t=this;a.default.debug(\"SessionMonitor._callback\"),this._userManager.querySessionStatus().then(function(e){var n=!0;e?e.sub===t._sub?(n=!1,t._checkSessionIFrame.start(e.session_state),e.sid===t._sid?a.default.debug(\"Same sub still logged in at OP, restarting check session iframe; session_state:\",e.session_state):(a.default.debug(\"Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:\",e.session_state),t._userManager.events._raiseUserSessionChanged())):a.default.debug(\"Different subject signed into OP:\",e.sub):a.default.debug(\"Subject no longer signed into OP\"),n&&(a.default.debug(\"SessionMonitor._callback; raising signed out event\"),t._userManager.events._raiseUserSignedOut())}).catch(function(e){a.default.debug(\"Error calling queryCurrentSigninSession; raising signed out event\",e.message),t._userManager.events._raiseUserSignedOut()})},s(t,[{key:\"_settings\",get:function(){return this._userManager.settings}},{key:\"_metadataService\",get:function(){return this._userManager.metadataService}},{key:\"_client_id\",get:function(){return this._settings.client_id}},{key:\"_checkSessionInterval\",get:function(){return this._settings.checkSessionInterval}}]),t}();e.default=c,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=2e3,u=function(){function t(e,n,r,s){i(this,t),this._callback=e,this._client_id=n,this._url=r,this._interval=s||a;var o=r.indexOf(\"/\",r.indexOf(\"//\")+2);this._frame_origin=r.substr(0,o),this._frame=window.document.createElement(\"iframe\"),this._frame.style.visibility=\"hidden\",this._frame.style.position=\"absolute\",this._frame.style.display=\"none\",this._frame.style.width=0,this._frame.style.height=0,this._frame.src=r}return t.prototype.load=function(){var t=this;return new Promise(function(e){t._frame.onload=function(){e()},window.document.body.appendChild(t._frame),t._boundMessageEvent=t._message.bind(t),window.addEventListener(\"message\",t._boundMessageEvent,!1)})},t.prototype._message=function(t){t.origin===this._frame_origin&&t.source===this._frame.contentWindow&&(\"error\"===t.data?(o.default.error(\"error message from check session op iframe\"),this.stop()):\"changed\"===t.data?(o.default.debug(\"changed message from check session op iframe\"),this.stop(),this._callback()):o.default.debug(t.data+\" message from check session op iframe\"))},t.prototype.start=function(t){var e=this;this._session_state!==t&&(o.default.debug(\"CheckSessionIFrame.start\"),this.stop(),this._session_state=t,this._timer=window.setInterval(function(){e._frame.contentWindow.postMessage(e._client_id+\" \"+e._session_state,e._frame_origin)},this._interval))},t.prototype.stop=function(){o.default.debug(\"CheckSessionIFrame.stop\"),this._session_state=null,this._timer&&(window.clearInterval(this._timer),this._timer=null)},t}();e.default=u,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=r(s),a=n(7),u=r(a),h=n(5),c=r(h),f=\"access_token\",l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default;if(i(this,t),!e)throw o.default.error(\"No settings provided\"),new Error(\"No settings provided.\");this._settings=e,this._XMLHttpRequestCtor=n,this._metadataService=new r(this._settings)}return t.prototype.revoke=function(t,e){var n=this;if(o.default.debug(\"TokenRevocationClient.revoke\"),!t)throw o.default.error(\"No accessToken provided\"),new Error(\"No accessToken provided.\");return this._metadataService.getRevocationEndpoint().then(function(r){if(r){var i=n._settings.client_id,s=n._settings.client_secret;return n._revoke(r,i,s,t)}if(e)throw o.default.error(\"Revocation not supported\"),new Error(\"Revocation not supported\")})},t.prototype._revoke=function(t,e,n,r){var i=this;return o.default.debug(\"Calling revocation endpoint\"),new Promise(function(s,a){var u=new i._XMLHttpRequestCtor;u.open(\"POST\",t),u.onload=function(){o.default.debug(\"HTTP response received, status\",u.status),200===u.status?s():a(Error(u.statusText+\" (\"+u.status+\")\"))};var h=\"client_id=\"+encodeURIComponent(e);n&&(h+=\"&client_secret=\"+encodeURIComponent(n)),h+=\"&token_type_hint=\"+encodeURIComponent(f),h+=\"&token=\"+encodeURIComponent(r),u.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),u.send(h)})},t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=(r(s),n(44)),a=r(o),u=function(){function t(){i(this,t)}return t.prototype.prepare=function(t){var e=new a.default(t);return Promise.resolve(e)},t}();e.default=u,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=r(o),u=\"location=no,toolbar=no,zoom=no\",h=\"_blank\",c=function(){function t(e){var n=this;i(this,t),a.default.debug(\"CordovaPopupWindow.ctor\"),this._promise=new Promise(function(t,e){n._resolve=t,n._reject=e}),this.features=e.popupWindowFeatures||u,this.target=e.popupWindowTarget||h,this.redirect_uri=e.startUrl,a.default.debug(\"redirect_uri: \"+this.redirect_uri)}return t.prototype._isInAppBrowserInstalled=function(t){return[\"cordova-plugin-inappbrowser\",\"cordova-plugin-inappbrowser.inappbrowser\",\"org.apache.cordova.inappbrowser\"].some(function(e){return t.hasOwnProperty(e)})},t.prototype.navigate=function(t){if(a.default.debug(\"CordovaPopupWindow.navigate\"),t&&t.url){if(!window.cordova)return this._error(\"cordova is undefined\");var e=window.cordova.require(\"cordova/plugin_list\").metadata;if(this._isInAppBrowserInstalled(e)===!1)return this._error(\"InAppBrowser plugin not found\");this._popup=cordova.InAppBrowser.open(t.url,this.target,this.features),this._popup?(a.default.debug(\"popup successfully created\"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener(\"exit\",this._exitCallbackEvent,!1),this._popup.addEventListener(\"loadstart\",this._loadStartCallbackEvent,!1)):this._error(\"Error opening popup window\")}else this._error(\"No url provided\");return this.promise},t.prototype._loadStartCallback=function(t){0===t.url.indexOf(this.redirect_uri)&&this._success({url:t.url})},t.prototype._exitCallback=function(t){this._error(t)},t.prototype._success=function(t){this._cleanup(),a.default.debug(\"Successful response from cordova popup window\"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),a.default.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){a.default.debug(\"CordovaPopupWindow._cleanup\"),this._popup&&(this._popup.removeEventListener(\"exit\",this._exitCallbackEvent,!1),this._popup.removeEventListener(\"loadstart\",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},s(t,[{key:\"promise\",get:function(){return this._promise}}]),t}();e.default=c,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(1),o=(r(s),n(44)),a=r(o),u=function(){function t(){i(this,t)}return t.prototype.prepare=function(t){t.popupWindowFeatures=\"hidden=yes\";var e=new a.default(t);return Promise.resolve(e)},t}();e.default=u,t.exports=e.default}])});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29pZGMtY2xpZW50L2xpYi9vaWRjLWNsaWVudC5taW4uanM/OTNkYyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIG49ZSgpO2Zvcih2YXIgciBpbiBuKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOnQpW3JdPW5bcl19fSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBpPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLGUpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1lLkxvZz1uKDEpLGk9ZS5PaWRjQ2xpZW50PW4oMikscz1lLk9pZGNDbGllbnRTZXR0aW5ncz1uKDMpLG89ZS5XZWJTdG9yYWdlU3RhdGVTdG9yZT1uKDQpLGE9ZS5Jbk1lbW9yeVdlYlN0b3JhZ2U9bigyNiksdT1lLlVzZXJNYW5hZ2VyPW4oMjcpLGg9ZS5BY2Nlc3NUb2tlbkV2ZW50cz1uKDM2KSxjPWUuTWV0YWRhdGFTZXJ2aWNlPW4oNyksZj1lLkNvcmRvdmFQb3B1cE5hdmlnYXRvcj1uKDQzKSxsPWUuQ29yZG92YUlGcmFtZU5hdmlnYXRvcj1uKDQ1KSxkPWUuQ2hlY2tTZXNzaW9uSUZyYW1lPW4oNDEpLGc9ZS5Ub2tlblJldm9jYXRpb25DbGllbnQ9big0MikscD1lLlNlc3Npb25Nb25pdG9yPW4oNDApLHk9ZS5HbG9iYWw9big1KTtlLmRlZmF1bHQ9e0xvZzpyLE9pZGNDbGllbnQ6aSxPaWRjQ2xpZW50U2V0dGluZ3M6cyxXZWJTdG9yYWdlU3RhdGVTdG9yZTpvLEluTWVtb3J5V2ViU3RvcmFnZTphLFVzZXJNYW5hZ2VyOnUsQWNjZXNzVG9rZW5FdmVudHM6aCxNZXRhZGF0YVNlcnZpY2U6YyxDb3Jkb3ZhUG9wdXBOYXZpZ2F0b3I6ZixDb3Jkb3ZhSUZyYW1lTmF2aWdhdG9yOmwsQ2hlY2tTZXNzaW9uSUZyYW1lOmQsVG9rZW5SZXZvY2F0aW9uQ2xpZW50OmcsU2Vzc2lvbk1vbml0b3I6cCxHbG9iYWw6eX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxpPXtkZWJ1ZzpmdW5jdGlvbigpe30saW5mbzpmdW5jdGlvbigpe30sd2FybjpmdW5jdGlvbigpe30sZXJyb3I6ZnVuY3Rpb24oKXt9fSxzPTAsbz0xLGE9Mix1PTMsaD00LGM9dm9pZCAwLGY9dm9pZCAwLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bih0aGlzLHQpfXJldHVybiB0LnJlc2V0PWZ1bmN0aW9uKCl7Zj11LGM9aX0sdC5kZWJ1Zz1mdW5jdGlvbigpe2lmKGY+PWgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07Yy5kZWJ1Zy5hcHBseShjLEFycmF5LmZyb20oZSkpfX0sdC5pbmZvPWZ1bmN0aW9uKCl7aWYoZj49dSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtjLmluZm8uYXBwbHkoYyxBcnJheS5mcm9tKGUpKX19LHQud2Fybj1mdW5jdGlvbigpe2lmKGY+PWEpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07Yy53YXJuLmFwcGx5KGMsQXJyYXkuZnJvbShlKSl9fSx0LmVycm9yPWZ1bmN0aW9uKCl7aWYoZj49byl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtjLmVycm9yLmFwcGx5KGMsQXJyYXkuZnJvbShlKSl9fSxyKHQsbnVsbCxbe2tleTpcIk5PTkVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LHtrZXk6XCJFUlJPUlwiLGdldDpmdW5jdGlvbigpe3JldHVybiBvfX0se2tleTpcIldBUk5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LHtrZXk6XCJJTkZPXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSx7a2V5OlwiREVCVUdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LHtrZXk6XCJsZXZlbFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBmfSxzZXQ6ZnVuY3Rpb24odCl7aWYoIShzPD10JiZ0PD1oKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxvZyBsZXZlbFwiKTtmPXR9fSx7a2V5OlwibG9nZ2VyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9LHNldDpmdW5jdGlvbih0KXtpZighdC5kZWJ1ZyYmdC5pbmZvJiYodC5kZWJ1Zz10LmluZm8pLCEodC5kZWJ1ZyYmdC5pbmZvJiZ0Lndhcm4mJnQuZXJyb3IpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbG9nZ2VyXCIpO2M9dH19XSksdH0oKTtlLmRlZmF1bHQ9bCxsLnJlc2V0KCksdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksbz1uKDEpLGE9cihvKSx1PW4oMyksaD1yKHUpLGM9bigxMCksZj1yKGMpLGw9bigxOCksZD1yKGwpLGc9bigyMykscD1yKGcpLHk9bigyNCksdj1yKHkpLG09bigyNSksUz1yKG0pLGI9bigyMCksdz1yKGIpLEU9bigyMSksXz1yKEUpLHg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2kodGhpcyx0KSxlIGluc3RhbmNlb2YgaC5kZWZhdWx0P3RoaXMuX3NldHRpbmdzPWU6dGhpcy5fc2V0dGluZ3M9bmV3IGguZGVmYXVsdChlKX1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlU2lnbmluUmVxdWVzdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLnJlc3BvbnNlX3R5cGUscj1lLnNjb3BlLGk9ZS5yZWRpcmVjdF91cmkscz1lLmRhdGEsbz1lLnN0YXRlLHU9ZS5wcm9tcHQsaD1lLmRpc3BsYXksYz1lLm1heF9hZ2UsZj1lLnVpX2xvY2FsZXMsbD1lLmlkX3Rva2VuX2hpbnQsZz1lLmxvZ2luX2hpbnQscD1lLmFjcl92YWx1ZXMseT1lLnJlc291cmNlLHY9ZS5yZXF1ZXN0LG09ZS5yZXF1ZXN0X3VyaSxTPWUuZXh0cmFRdWVyeVBhcmFtcyxiPWFyZ3VtZW50c1sxXTthLmRlZmF1bHQuZGVidWcoXCJPaWRjQ2xpZW50LmNyZWF0ZVNpZ25pblJlcXVlc3RcIik7dmFyIHc9dGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkO249bnx8dGhpcy5fc2V0dGluZ3MucmVzcG9uc2VfdHlwZSxyPXJ8fHRoaXMuX3NldHRpbmdzLnNjb3BlLGk9aXx8dGhpcy5fc2V0dGluZ3MucmVkaXJlY3RfdXJpLHU9dXx8dGhpcy5fc2V0dGluZ3MucHJvbXB0LGg9aHx8dGhpcy5fc2V0dGluZ3MuZGlzcGxheSxjPWN8fHRoaXMuX3NldHRpbmdzLm1heF9hZ2UsZj1mfHx0aGlzLl9zZXR0aW5ncy51aV9sb2NhbGVzLHA9cHx8dGhpcy5fc2V0dGluZ3MuYWNyX3ZhbHVlcyx5PXl8fHRoaXMuX3NldHRpbmdzLnJlc291cmNlLFM9U3x8dGhpcy5fc2V0dGluZ3MuZXh0cmFRdWVyeVBhcmFtczt2YXIgRT10aGlzLl9zZXR0aW5ncy5hdXRob3JpdHk7cmV0dXJuIHRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRBdXRob3JpemF0aW9uRW5kcG9pbnQoKS50aGVuKGZ1bmN0aW9uKGUpe2EuZGVmYXVsdC5kZWJ1ZyhcIlJlY2VpdmVkIGF1dGhvcml6YXRpb24gZW5kcG9pbnRcIixlKTt2YXIgXz1uZXcgZC5kZWZhdWx0KHt1cmw6ZSxjbGllbnRfaWQ6dyxyZWRpcmVjdF91cmk6aSxyZXNwb25zZV90eXBlOm4sc2NvcGU6cixkYXRhOnN8fG8sYXV0aG9yaXR5OkUscHJvbXB0OnUsZGlzcGxheTpoLG1heF9hZ2U6Yyx1aV9sb2NhbGVzOmYsaWRfdG9rZW5faGludDpsLGxvZ2luX2hpbnQ6ZyxhY3JfdmFsdWVzOnAscmVzb3VyY2U6eSxyZXF1ZXN0OnYscmVxdWVzdF91cmk6bSxleHRyYVF1ZXJ5UGFyYW1zOlN9KSx4PV8uc3RhdGU7cmV0dXJuIGI9Ynx8dC5fc3RhdGVTdG9yZSxiLnNldCh4LmlkLHgudG9TdG9yYWdlU3RyaW5nKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gX30pfSl9LHQucHJvdG90eXBlLnByb2Nlc3NTaWduaW5SZXNwb25zZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7YS5kZWZhdWx0LmRlYnVnKFwiT2lkY0NsaWVudC5wcm9jZXNzU2lnbmluUmVzcG9uc2VcIik7dmFyIHI9bmV3IHAuZGVmYXVsdCh0KTtyZXR1cm4gci5zdGF0ZT8oZT1lfHx0aGlzLl9zdGF0ZVN0b3JlLGUucmVtb3ZlKHIuc3RhdGUpLnRoZW4oZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgYS5kZWZhdWx0LmVycm9yKFwiTm8gbWF0Y2hpbmcgc3RhdGUgZm91bmQgaW4gc3RvcmFnZVwiKSxuZXcgRXJyb3IoXCJObyBtYXRjaGluZyBzdGF0ZSBmb3VuZCBpbiBzdG9yYWdlXCIpO3ZhciBlPXcuZGVmYXVsdC5mcm9tU3RvcmFnZVN0cmluZyh0KTtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiUmVjZWl2ZWQgc3RhdGUgZnJvbSBzdG9yYWdlOyB2YWxpZGF0aW5nIHJlc3BvbnNlXCIpLG4uX3ZhbGlkYXRvci52YWxpZGF0ZVNpZ25pblJlc3BvbnNlKGUscil9KSk6KGEuZGVmYXVsdC5lcnJvcihcIk5vIHN0YXRlIGluIHJlc3BvbnNlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHN0YXRlIGluIHJlc3BvbnNlXCIpKSl9LHQucHJvdG90eXBlLmNyZWF0ZVNpZ25vdXRSZXF1ZXN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUuaWRfdG9rZW5faGludCxyPWUuZGF0YSxpPWUuc3RhdGUscz1lLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaSxvPWFyZ3VtZW50c1sxXTtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiT2lkY0NsaWVudC5jcmVhdGVTaWdub3V0UmVxdWVzdFwiKSxzPXN8fHRoaXMuX3NldHRpbmdzLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaSx0aGlzLl9tZXRhZGF0YVNlcnZpY2UuZ2V0RW5kU2Vzc2lvbkVuZHBvaW50KCkudGhlbihmdW5jdGlvbihlKXtpZighZSl0aHJvdyBhLmRlZmF1bHQuZXJyb3IoXCJObyBlbmQgc2Vzc2lvbiBlbmRwb2ludCB1cmwgcmV0dXJuZWRcIiksbmV3IEVycm9yKFwibm8gZW5kIHNlc3Npb24gZW5kcG9pbnRcIik7YS5kZWZhdWx0LmRlYnVnKFwiUmVjZWl2ZWQgZW5kIHNlc3Npb24gZW5kcG9pbnRcIixlKTt2YXIgdT1uZXcgdi5kZWZhdWx0KHt1cmw6ZSxpZF90b2tlbl9oaW50Om4scG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpOnMsZGF0YTpyfHxpfSksaD11LnN0YXRlO3JldHVybiBoJiYoYS5kZWZhdWx0LmRlYnVnKFwiU2lnbm91dCByZXF1ZXN0IGhhcyBzdGF0ZSB0byBwZXJzaXN0XCIpLG89b3x8dC5fc3RhdGVTdG9yZSxvLnNldChoLmlkLGgudG9TdG9yYWdlU3RyaW5nKCkpKSx1fSl9LHQucHJvdG90eXBlLnByb2Nlc3NTaWdub3V0UmVzcG9uc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2EuZGVmYXVsdC5kZWJ1ZyhcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25vdXRSZXNwb25zZVwiKTt2YXIgcj1uZXcgUy5kZWZhdWx0KHQpO2lmKCFyLnN0YXRlKXJldHVybiBhLmRlZmF1bHQuZGVidWcoXCJObyBzdGF0ZSBpbiByZXNwb25zZVwiKSxyLmVycm9yPyhhLmRlZmF1bHQud2FybihcIlJlc3BvbnNlIHdhcyBlcnJvclwiLHIuZXJyb3IpLFByb21pc2UucmVqZWN0KG5ldyBmLmRlZmF1bHQocikpKTpQcm9taXNlLnJlc29sdmUocik7dmFyIGk9ci5zdGF0ZTtyZXR1cm4gZT1lfHx0aGlzLl9zdGF0ZVN0b3JlLGUucmVtb3ZlKGkpLnRoZW4oZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgYS5kZWZhdWx0LmVycm9yKFwiTm8gbWF0Y2hpbmcgc3RhdGUgZm91bmQgaW4gc3RvcmFnZVwiKSxuZXcgRXJyb3IoXCJObyBtYXRjaGluZyBzdGF0ZSBmb3VuZCBpbiBzdG9yYWdlXCIpO3ZhciBlPV8uZGVmYXVsdC5mcm9tU3RvcmFnZVN0cmluZyh0KTtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiUmVjZWl2ZWQgc3RhdGUgZnJvbSBzdG9yYWdlOyB2YWxpZGF0aW5nIHJlc3BvbnNlXCIpLG4uX3ZhbGlkYXRvci52YWxpZGF0ZVNpZ25vdXRSZXNwb25zZShlLHIpfSl9LHQucHJvdG90eXBlLmNsZWFyU3RhbGVTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiT2lkY0NsaWVudC5jbGVhclN0YWxlU3RhdGVcIiksdD10fHx0aGlzLl9zdGF0ZVN0b3JlLF8uZGVmYXVsdC5jbGVhclN0YWxlU3RhdGUodCx0aGlzLnNldHRpbmdzLnN0YWxlU3RhdGVBZ2UpfSxzKHQsW3trZXk6XCJfc3RhdGVTdG9yZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzLnN0YXRlU3RvcmV9fSx7a2V5OlwiX3ZhbGlkYXRvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzLnZhbGlkYXRvcn19LHtrZXk6XCJfbWV0YWRhdGFTZXJ2aWNlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MubWV0YWRhdGFTZXJ2aWNlfX0se2tleTpcInNldHRpbmdzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzfX0se2tleTpcIm1ldGFkYXRhU2VydmljZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXRhZGF0YVNlcnZpY2V9fV0pLHR9KCk7ZS5kZWZhdWx0PXgsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxhPW4oMSksdT1yKGEpLGg9big0KSxjPXIoaCksZj1uKDYpLGw9cihmKSxkPW4oNyksZz1yKGQpLHA9XCIud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvblwiLHk9XCJpZF90b2tlblwiLHY9XCJvcGVuaWRcIixtPTMwMCxTPTMwMCxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUuYXV0aG9yaXR5LHI9ZS5tZXRhZGF0YVVybCxvPWUubWV0YWRhdGEsYT1lLnNpZ25pbmdLZXlzLHU9ZS5jbGllbnRfaWQsaD1lLmNsaWVudF9zZWNyZXQsZj1lLnJlc3BvbnNlX3R5cGUsZD12b2lkIDA9PT1mP3k6ZixwPWUuc2NvcGUsYj12b2lkIDA9PT1wP3Y6cCx3PWUucmVkaXJlY3RfdXJpLEU9ZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmksXz1lLnByb21wdCx4PWUuZGlzcGxheSxBPWUubWF4X2FnZSxGPWUudWlfbG9jYWxlcyxQPWUuYWNyX3ZhbHVlcyxPPWUucmVzb3VyY2UsQz1lLmZpbHRlclByb3RvY29sQ2xhaW1zLFQ9dm9pZCAwPT09Q3x8QyxEPWUubG9hZFVzZXJJbmZvLFI9dm9pZCAwPT09RHx8RCxqPWUuc3RhbGVTdGF0ZUFnZSxIPXZvaWQgMD09PWo/bTpqLEk9ZS5jbG9ja1NrZXcsaz12b2lkIDA9PT1JP1M6SSxCPWUuc3RhdGVTdG9yZSxOPXZvaWQgMD09PUI/bmV3IGMuZGVmYXVsdDpCLFY9ZS5SZXNwb25zZVZhbGlkYXRvckN0b3IsTT12b2lkIDA9PT1WP2wuZGVmYXVsdDpWLEs9ZS5NZXRhZGF0YVNlcnZpY2VDdG9yLEw9dm9pZCAwPT09Sz9nLmRlZmF1bHQ6SyxVPWUuZXh0cmFRdWVyeVBhcmFtcyxxPXZvaWQgMD09PVU/e306VTtpKHRoaXMsdCksdGhpcy5fYXV0aG9yaXR5PW4sdGhpcy5fbWV0YWRhdGFVcmw9cix0aGlzLl9tZXRhZGF0YT1vLHRoaXMuX3NpZ25pbmdLZXlzPWEsdGhpcy5fY2xpZW50X2lkPXUsdGhpcy5fY2xpZW50X3NlY3JldD1oLHRoaXMuX3Jlc3BvbnNlX3R5cGU9ZCx0aGlzLl9zY29wZT1iLHRoaXMuX3JlZGlyZWN0X3VyaT13LHRoaXMuX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT1FLHRoaXMuX3Byb21wdD1fLHRoaXMuX2Rpc3BsYXk9eCx0aGlzLl9tYXhfYWdlPUEsdGhpcy5fdWlfbG9jYWxlcz1GLHRoaXMuX2Fjcl92YWx1ZXM9UCx0aGlzLl9yZXNvdXJjZT1PLHRoaXMuX2ZpbHRlclByb3RvY29sQ2xhaW1zPSEhVCx0aGlzLl9sb2FkVXNlckluZm89ISFSLHRoaXMuX3N0YWxlU3RhdGVBZ2U9SCx0aGlzLl9jbG9ja1NrZXc9ayx0aGlzLl9zdGF0ZVN0b3JlPU4sdGhpcy5fdmFsaWRhdG9yPW5ldyBNKHRoaXMpLHRoaXMuX21ldGFkYXRhU2VydmljZT1uZXcgTCh0aGlzKSx0aGlzLl9leHRyYVF1ZXJ5UGFyYW1zPVwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHE/XCJ1bmRlZmluZWRcIjpzKHEpKT9xOnt9fXJldHVybiBvKHQsW3trZXk6XCJjbGllbnRfaWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpZW50X2lkfSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fY2xpZW50X2lkKXRocm93IHUuZGVmYXVsdC5lcnJvcihcImNsaWVudF9pZCBoYXMgYWxyZWFkeSBiZWVuIGFzc2lnbmVkLlwiKSxuZXcgRXJyb3IoXCJjbGllbnRfaWQgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZC5cIik7dGhpcy5fY2xpZW50X2lkPXR9fSx7a2V5OlwiY2xpZW50X3NlY3JldFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbGllbnRfc2VjcmV0fX0se2tleTpcInJlc3BvbnNlX3R5cGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzcG9uc2VfdHlwZX19LHtrZXk6XCJzY29wZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY29wZX19LHtrZXk6XCJyZWRpcmVjdF91cmlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVkaXJlY3RfdXJpfX0se2tleTpcInBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3N0X2xvZ291dF9yZWRpcmVjdF91cml9fSx7a2V5OlwicHJvbXB0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21wdH19LHtrZXk6XCJkaXNwbGF5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3BsYXl9fSx7a2V5OlwibWF4X2FnZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhfYWdlfX0se2tleTpcInVpX2xvY2FsZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWlfbG9jYWxlc319LHtrZXk6XCJhY3JfdmFsdWVzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Fjcl92YWx1ZXN9fSx7a2V5OlwicmVzb3VyY2VcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzb3VyY2V9fSx7a2V5OlwiYXV0aG9yaXR5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1dGhvcml0eX0sc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2F1dGhvcml0eSl0aHJvdyB1LmRlZmF1bHQuZXJyb3IoXCJhdXRob3JpdHkgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZC5cIiksbmV3IEVycm9yKFwiYXV0aG9yaXR5IGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXCIpO3RoaXMuX2F1dGhvcml0eT10fX0se2tleTpcIm1ldGFkYXRhVXJsXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhVXJsfHwodGhpcy5fbWV0YWRhdGFVcmw9dGhpcy5hdXRob3JpdHksdGhpcy5fbWV0YWRhdGFVcmwmJnRoaXMuX21ldGFkYXRhVXJsLmluZGV4T2YocCk8MCYmKFwiL1wiIT09dGhpcy5fbWV0YWRhdGFVcmxbdGhpcy5fbWV0YWRhdGFVcmwubGVuZ3RoLTFdJiYodGhpcy5fbWV0YWRhdGFVcmwrPVwiL1wiKSx0aGlzLl9tZXRhZGF0YVVybCs9cCkpLHRoaXMuX21ldGFkYXRhVXJsfX0se2tleTpcIm1ldGFkYXRhXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWV0YWRhdGE9dH19LHtrZXk6XCJzaWduaW5nS2V5c1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduaW5nS2V5c30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NpZ25pbmdLZXlzPXR9fSx7a2V5OlwiZmlsdGVyUHJvdG9jb2xDbGFpbXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsdGVyUHJvdG9jb2xDbGFpbXN9fSx7a2V5OlwibG9hZFVzZXJJbmZvXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRVc2VySW5mb319LHtrZXk6XCJzdGFsZVN0YXRlQWdlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YWxlU3RhdGVBZ2V9fSx7a2V5OlwiY2xvY2tTa2V3XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb2NrU2tld319LHtrZXk6XCJzdGF0ZVN0b3JlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlU3RvcmV9fSx7a2V5OlwidmFsaWRhdG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbGlkYXRvcn19LHtrZXk6XCJtZXRhZGF0YVNlcnZpY2VcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlfX0se2tleTpcImV4dHJhUXVlcnlQYXJhbXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0cmFRdWVyeVBhcmFtc30sc2V0OmZ1bmN0aW9uKHQpe1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpzKHQpKT90aGlzLl9leHRyYVF1ZXJ5UGFyYW1zPXQ6dGhpcy5fZXh0cmFRdWVyeVBhcmFtcz17fX19XSksdH0oKTtlLmRlZmF1bHQ9Yix0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9bigxKSxvPXIocyksYT1uKDUpLHU9cihhKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUucHJlZml4LHI9dm9pZCAwPT09bj9cIm9pZGMuXCI6bixzPWUuc3RvcmUsbz12b2lkIDA9PT1zP3UuZGVmYXVsdC5sb2NhbFN0b3JhZ2U6cztpKHRoaXMsdCksdGhpcy5fc3RvcmU9byx0aGlzLl9wcmVmaXg9cn1yZXR1cm4gdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8uZGVmYXVsdC5kZWJ1ZyhcIldlYlN0b3JhZ2VTdGF0ZVN0b3JlLnNldFwiLHQpLHQ9dGhpcy5fcHJlZml4K3QsdGhpcy5fc3RvcmUuc2V0SXRlbSh0LGUpLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7by5kZWZhdWx0LmRlYnVnKFwiV2ViU3RvcmFnZVN0YXRlU3RvcmUuZ2V0XCIsdCksdD10aGlzLl9wcmVmaXgrdDt2YXIgZT10aGlzLl9zdG9yZS5nZXRJdGVtKHQpO3JldHVybiBQcm9taXNlLnJlc29sdmUoZSl9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtvLmRlZmF1bHQuZGVidWcoXCJXZWJTdG9yYWdlU3RhdGVTdG9yZS5yZW1vdmVcIix0KSx0PXRoaXMuX3ByZWZpeCt0O3ZhciBlPXRoaXMuX3N0b3JlLmdldEl0ZW0odCk7cmV0dXJuIHRoaXMuX3N0b3JlLnJlbW92ZUl0ZW0odCksUHJvbWlzZS5yZXNvbHZlKGUpfSx0LnByb3RvdHlwZS5nZXRBbGxLZXlzPWZ1bmN0aW9uKCl7by5kZWZhdWx0LmRlYnVnKFwiV2ViU3RvcmFnZVN0YXRlU3RvcmUuZ2V0QWxsS2V5c1wiKTtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5fc3RvcmUubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fc3RvcmUua2V5KGUpOzA9PT1uLmluZGV4T2YodGhpcy5fcHJlZml4KSYmdC5wdXNoKG4uc3Vic3RyKHRoaXMuX3ByZWZpeC5sZW5ndGgpKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHQpfSx0fSgpO2UuZGVmYXVsdD1oLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxpPXtzZXRJbnRlcnZhbDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHQudG9TdHJpbmcoKX0sZX0oZnVuY3Rpb24odCxlKXtyZXR1cm4gc2V0SW50ZXJ2YWwodCxlKX0pLGNsZWFySW50ZXJ2YWw6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdC50b1N0cmluZygpfSxlfShmdW5jdGlvbih0KXtyZXR1cm4gY2xlYXJJbnRlcnZhbCh0KX0pfSxzPSExLG89bnVsbCxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KX1yZXR1cm4gdC5fdGVzdGluZz1mdW5jdGlvbigpe3M9ITB9LHQuc2V0WE1MSHR0cFJlcXVlc3Q9ZnVuY3Rpb24odCl7bz10fSxyKHQsbnVsbCxbe2tleTpcImxvY2F0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXMpcmV0dXJuIGxvY2F0aW9ufX0se2tleTpcImxvY2FsU3RvcmFnZVwiLGdldDpmdW5jdGlvbigpe2lmKCFzKXJldHVybiBsb2NhbFN0b3JhZ2V9fSx7a2V5Olwic2Vzc2lvblN0b3JhZ2VcIixnZXQ6ZnVuY3Rpb24oKXtpZighcylyZXR1cm4gc2Vzc2lvblN0b3JhZ2V9fSx7a2V5OlwiWE1MSHR0cFJlcXVlc3RcIixnZXQ6ZnVuY3Rpb24oKXtpZighcylyZXR1cm4gb3x8WE1MSHR0cFJlcXVlc3R9fSx7a2V5OlwidGltZXJcIixnZXQ6ZnVuY3Rpb24oKXtpZighcylyZXR1cm4gaX19XSksdH0oKTtlLmRlZmF1bHQ9YSx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9bigxKSxvPXIocyksYT1uKDcpLHU9cihhKSxoPW4oOSksYz1yKGgpLGY9bigxMCksbD1yKGYpLGQ9bigxMSksZz1yKGQpLHA9W1wibm9uY2VcIixcImF0X2hhc2hcIixcImlhdFwiLFwibmJmXCIsXCJleHBcIixcImF1ZFwiLFwiaXNzXCIsXCJjX2hhc2hcIl0seT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnUuZGVmYXVsdCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpjLmRlZmF1bHQscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106Zy5kZWZhdWx0O2lmKGkodGhpcyx0KSwhZSl0aHJvdyBvLmRlZmF1bHQuZXJyb3IoXCJObyBzZXR0aW5ncyBwYXNzZWQgdG8gUmVzcG9uc2VWYWxpZGF0b3JcIiksbmV3IEVycm9yKFwic2V0dGluZ3NcIik7dGhpcy5fc2V0dGluZ3M9ZSx0aGlzLl9tZXRhZGF0YVNlcnZpY2U9bmV3IG4odGhpcy5fc2V0dGluZ3MpLHRoaXMuX3VzZXJJbmZvU2VydmljZT1uZXcgcih0aGlzLl9zZXR0aW5ncyksdGhpcy5fam9zZVV0aWw9c31yZXR1cm4gdC5wcm90b3R5cGUudmFsaWRhdGVTaWduaW5SZXNwb25zZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG8uZGVmYXVsdC5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLnZhbGlkYXRlU2lnbmluUmVzcG9uc2VcIiksdGhpcy5fcHJvY2Vzc1NpZ25pblBhcmFtcyh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG8uZGVmYXVsdC5kZWJ1ZyhcInN0YXRlIHByb2Nlc3NlZFwiKSxuLl92YWxpZGF0ZVRva2Vucyh0LGUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8uZGVmYXVsdC5kZWJ1ZyhcInRva2VucyB2YWxpZGF0ZWRcIiksbi5fcHJvY2Vzc0NsYWltcyh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvLmRlZmF1bHQuZGVidWcoXCJjbGFpbXMgcHJvY2Vzc2VkXCIpLHR9KX0pfSl9LHQucHJvdG90eXBlLnZhbGlkYXRlU2lnbm91dFJlc3BvbnNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8uZGVmYXVsdC5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLnZhbGlkYXRlU2lnbm91dFJlc3BvbnNlXCIpLHQuaWQhPT1lLnN0YXRlPyhvLmRlZmF1bHQuZXJyb3IoXCJTdGF0ZSBkb2VzIG5vdCBtYXRjaFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJTdGF0ZSBkb2VzIG5vdCBtYXRjaFwiKSkpOihvLmRlZmF1bHQuZGVidWcoXCJzdGF0ZSB2YWxpZGF0ZWRcIiksZS5zdGF0ZT10LmRhdGEsZS5lcnJvcj8oby5kZWZhdWx0Lndhcm4oXCJSZXNwb25zZSB3YXMgZXJyb3JcIixlLmVycm9yKSxQcm9taXNlLnJlamVjdChuZXcgbC5kZWZhdWx0KGUpKSk6UHJvbWlzZS5yZXNvbHZlKGUpKX0sdC5wcm90b3R5cGUuX3Byb2Nlc3NTaWduaW5QYXJhbXM9ZnVuY3Rpb24odCxlKXtpZihvLmRlZmF1bHQuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtc1wiKSx0LmlkIT09ZS5zdGF0ZSlyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiU3RhdGUgZG9lcyBub3QgbWF0Y2hcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiU3RhdGUgZG9lcyBub3QgbWF0Y2hcIikpO2lmKCF0LmNsaWVudF9pZClyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiTm8gY2xpZW50X2lkIG9uIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGNsaWVudF9pZCBvbiBzdGF0ZVwiKSk7aWYoIXQuYXV0aG9yaXR5KXJldHVybiBvLmRlZmF1bHQuZXJyb3IoXCJObyBhdXRob3JpdHkgb24gc3RhdGVcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gYXV0aG9yaXR5IG9uIHN0YXRlXCIpKTtpZih0aGlzLl9zZXR0aW5ncy5hdXRob3JpdHkpe2lmKHRoaXMuX3NldHRpbmdzLmF1dGhvcml0eSYmdGhpcy5fc2V0dGluZ3MuYXV0aG9yaXR5IT09dC5hdXRob3JpdHkpcmV0dXJuIG8uZGVmYXVsdC5lcnJvcihcImF1dGhvcml0eSBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImF1dGhvcml0eSBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpKX1lbHNlIHRoaXMuX3NldHRpbmdzLmF1dGhvcml0eT10LmF1dGhvcml0eTtpZih0aGlzLl9zZXR0aW5ncy5jbGllbnRfaWQpe2lmKHRoaXMuX3NldHRpbmdzLmNsaWVudF9pZCYmdGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkIT09dC5jbGllbnRfaWQpcmV0dXJuIG8uZGVmYXVsdC5lcnJvcihcImNsaWVudF9pZCBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImNsaWVudF9pZCBtaXNtYXRjaCBvbiBzZXR0aW5ncyB2cy4gc2lnbmluIHN0YXRlXCIpKX1lbHNlIHRoaXMuX3NldHRpbmdzLmNsaWVudF9pZD10LmNsaWVudF9pZDtyZXR1cm4gby5kZWZhdWx0LmRlYnVnKFwic3RhdGUgdmFsaWRhdGVkXCIpLGUuc3RhdGU9dC5kYXRhLGUuZXJyb3I/KG8uZGVmYXVsdC53YXJuKFwiUmVzcG9uc2Ugd2FzIGVycm9yXCIsZS5lcnJvciksUHJvbWlzZS5yZWplY3QobmV3IGwuZGVmYXVsdChlKSkpOnQubm9uY2UmJiFlLmlkX3Rva2VuPyhvLmRlZmF1bHQuZXJyb3IoXCJFeHBlY3RpbmcgaWRfdG9rZW4gaW4gcmVzcG9uc2VcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gaWRfdG9rZW4gaW4gcmVzcG9uc2VcIikpKTohdC5ub25jZSYmZS5pZF90b2tlbj8oby5kZWZhdWx0LmVycm9yKFwiTm90IGV4cGVjdGluZyBpZF90b2tlbiBpbiByZXNwb25zZVwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGlkX3Rva2VuIGluIHJlc3BvbnNlXCIpKSk6UHJvbWlzZS5yZXNvbHZlKGUpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc0NsYWltcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKG8uZGVmYXVsdC5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzQ2xhaW1zXCIpLHQuaXNPcGVuSWRDb25uZWN0KXtpZihvLmRlZmF1bHQuZGVidWcoXCJyZXNwb25zZSBpcyBPSURDLCBwcm9jZXNzaW5nIGNsYWltc1wiKSx0LnByb2ZpbGU9dGhpcy5fZmlsdGVyUHJvdG9jb2xDbGFpbXModC5wcm9maWxlKSx0aGlzLl9zZXR0aW5ncy5sb2FkVXNlckluZm8mJnQuYWNjZXNzX3Rva2VuKXJldHVybiBvLmRlZmF1bHQuZGVidWcoXCJsb2FkaW5nIHVzZXIgaW5mb1wiKSx0aGlzLl91c2VySW5mb1NlcnZpY2UuZ2V0Q2xhaW1zKHQuYWNjZXNzX3Rva2VuKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBvLmRlZmF1bHQuZGVidWcoXCJ1c2VyIGluZm8gY2xhaW1zIHJlY2VpdmVkIGZyb20gdXNlciBpbmZvIGVuZHBvaW50XCIpLG4uc3ViIT09dC5wcm9maWxlLnN1Yj8oby5kZWZhdWx0LmVycm9yKFwic3ViIGZyb20gdXNlciBpbmZvIGVuZHBvaW50IGRvZXMgbm90IG1hdGNoIHN1YiBpbiBhY2Nlc3NfdG9rZW5cIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwic3ViIGZyb20gdXNlciBpbmZvIGVuZHBvaW50IGRvZXMgbm90IG1hdGNoIHN1YiBpbiBhY2Nlc3NfdG9rZW5cIikpKToodC5wcm9maWxlPWUuX21lcmdlQ2xhaW1zKHQucHJvZmlsZSxuKSxvLmRlZmF1bHQuZGVidWcoXCJ1c2VyIGluZm8gY2xhaW1zIHJlY2VpdmVkLCB1cGRhdGVkIHByb2ZpbGU6XCIsdC5wcm9maWxlKSx0KX0pO28uZGVmYXVsdC5kZWJ1ZyhcIm5vdCBsb2FkaW5nIHVzZXIgaW5mb1wiKX1lbHNlIG8uZGVmYXVsdC5kZWJ1ZyhcInJlc3BvbnNlIGlzIG5vdCBPSURDLCBub3QgcHJvY2Vzc2luZyBjbGFpbXNcIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KX0sdC5wcm90b3R5cGUuX21lcmdlQ2xhaW1zPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmFzc2lnbih7fSx0KTtmb3IodmFyIHIgaW4gZSl7dmFyIGk9ZVtyXTtBcnJheS5pc0FycmF5KGkpfHwoaT1baV0pO3ZhciBzPSEwLG89ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgdSxoPWlbU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0odT1oLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGM9dS52YWx1ZTtuW3JdP0FycmF5LmlzQXJyYXkobltyXSk/bltyXS5pbmRleE9mKGMpPDAmJm5bcl0ucHVzaChjKTpuW3JdIT09YyYmKG5bcl09W25bcl0sY10pOm5bcl09Y319Y2F0Y2godCl7bz0hMCxhPXR9ZmluYWxseXt0cnl7IXMmJmgucmV0dXJuJiZoLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBhfX19cmV0dXJuIG59LHQucHJvdG90eXBlLl9maWx0ZXJQcm90b2NvbENsYWltcz1mdW5jdGlvbih0KXtvLmRlZmF1bHQuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fZmlsdGVyUHJvdG9jb2xDbGFpbXMsIGluY29taW5nIGNsYWltczpcIix0KTt2YXIgZT1PYmplY3QuYXNzaWduKHt9LHQpO3JldHVybiB0aGlzLl9zZXR0aW5ncy5fZmlsdGVyUHJvdG9jb2xDbGFpbXM/KHAuZm9yRWFjaChmdW5jdGlvbih0KXtkZWxldGUgZVt0XX0pLG8uZGVmYXVsdC5kZWJ1ZyhcInByb3RvY29sIGNsYWltcyBmaWx0ZXJlZFwiLGUpKTpvLmRlZmF1bHQuZGVidWcoXCJwcm90b2NvbCBjbGFpbXMgbm90IGZpbHRlcmVkXCIpLGV9LHQucHJvdG90eXBlLl92YWxpZGF0ZVRva2Vucz1mdW5jdGlvbih0LGUpe3JldHVybiBvLmRlZmF1bHQuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVUb2tlbnNcIiksZS5pZF90b2tlbj9lLmFjY2Vzc190b2tlbj8oby5kZWZhdWx0LmRlYnVnKFwiVmFsaWRhdGluZyBpZF90b2tlbiBhbmQgYWNjZXNzX3Rva2VuXCIpLHRoaXMuX3ZhbGlkYXRlSWRUb2tlbkFuZEFjY2Vzc1Rva2VuKHQsZSkpOihvLmRlZmF1bHQuZGVidWcoXCJWYWxpZGF0aW5nIGlkX3Rva2VuXCIpLHRoaXMuX3ZhbGlkYXRlSWRUb2tlbih0LGUpKTooby5kZWZhdWx0LmRlYnVnKFwiTm8gaWRfdG9rZW4gdG8gdmFsaWRhdGVcIiksUHJvbWlzZS5yZXNvbHZlKGUpKX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlSWRUb2tlbkFuZEFjY2Vzc1Rva2VuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gby5kZWZhdWx0LmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbkFuZEFjY2Vzc1Rva2VuXCIpLHRoaXMuX3ZhbGlkYXRlSWRUb2tlbih0LGUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uX3ZhbGlkYXRlQWNjZXNzVG9rZW4odCl9KX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlSWRUb2tlbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoby5kZWZhdWx0LmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlblwiKSwhdC5ub25jZSlyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiTm8gbm9uY2Ugb24gc3RhdGVcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gbm9uY2Ugb24gc3RhdGVcIikpO3ZhciByPXRoaXMuX2pvc2VVdGlsLnBhcnNlSnd0KGUuaWRfdG9rZW4pO2lmKCFyfHwhci5oZWFkZXJ8fCFyLnBheWxvYWQpcmV0dXJuIG8uZGVmYXVsdC5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBpZF90b2tlblwiLHIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBpZF90b2tlblwiKSk7aWYodC5ub25jZSE9PXIucGF5bG9hZC5ub25jZSlyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiSW52YWxpZCBub25jZSBpbiBpZF90b2tlblwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIG5vbmNlIGluIGlkX3Rva2VuXCIpKTt2YXIgaT1yLmhlYWRlci5raWQ7cmV0dXJuIHRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRJc3N1ZXIoKS50aGVuKGZ1bmN0aW9uKHMpe3JldHVybiBvLmRlZmF1bHQuZGVidWcoXCJSZWNlaXZlZCBpc3N1ZXJcIiksbi5fbWV0YWRhdGFTZXJ2aWNlLmdldFNpZ25pbmdLZXlzKCkudGhlbihmdW5jdGlvbihhKXtpZighYSlyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiTm8gc2lnbmluZyBrZXlzIGZyb20gbWV0YWRhdGFcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gc2lnbmluZyBrZXlzIGZyb20gbWV0YWRhdGFcIikpO28uZGVmYXVsdC5kZWJ1ZyhcIlJlY2VpdmVkIHNpZ25pbmcga2V5c1wiKTt2YXIgdT12b2lkIDA7aWYoaSl1PWEuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtpZD09PWl9KVswXTtlbHNle2lmKGE9bi5fZmlsdGVyQnlBbGcoYSxyLmhlYWRlci5hbGcpLGEubGVuZ3RoPjEpcmV0dXJuIG8uZGVmYXVsdC5lcnJvcihcIk5vIGtpZCBmb3VuZCBpbiBpZF90b2tlbiBhbmQgbW9yZSB0aGFuIG9uZSBrZXkgZm91bmQgaW4gbWV0YWRhdGFcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8ga2lkIGZvdW5kIGluIGlkX3Rva2VuIGFuZCBtb3JlIHRoYW4gb25lIGtleSBmb3VuZCBpbiBtZXRhZGF0YVwiKSk7dT1hWzBdfWlmKCF1KXJldHVybiBvLmRlZmF1bHQuZXJyb3IoXCJObyBrZXkgbWF0Y2hpbmcga2lkIG9yIGFsZyBmb3VuZCBpbiBzaWduaW5nIGtleXNcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8ga2V5IG1hdGNoaW5nIGtpZCBvciBhbGcgZm91bmQgaW4gc2lnbmluZyBrZXlzXCIpKTt2YXIgaD10LmNsaWVudF9pZCxjPW4uX3NldHRpbmdzLmNsb2NrU2tldztyZXR1cm4gby5kZWZhdWx0LmRlYnVnKFwiVmFsaWRhaW5nIEpXVDsgdXNpbmcgY2xvY2sgc2tldyAoaW4gc2Vjb25kcykgb2Y6IFwiLGMpLG4uX2pvc2VVdGlsLnZhbGlkYXRlSnd0KGUuaWRfdG9rZW4sdSxzLGgsYykudGhlbihmdW5jdGlvbigpe3JldHVybiBvLmRlZmF1bHQuZGVidWcoXCJKV1QgdmFsaWRhdGlvbiBzdWNjZXNzZnVsXCIpLHIucGF5bG9hZC5zdWI/KGUucHJvZmlsZT1yLnBheWxvYWQsZSk6KG8uZGVmYXVsdC5lcnJvcihcIk5vIHN1YiBwcmVzZW50IGluIGlkX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHN1YiBwcmVzZW50IGluIGlkX3Rva2VuXCIpKSl9KX0pfSl9LHQucHJvdG90eXBlLl9maWx0ZXJCeUFsZz1mdW5jdGlvbih0LGUpe28uZGVmYXVsdC5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9maWx0ZXJCeUFsZ1wiLGUpO3ZhciBuPW51bGw7aWYoZS5zdGFydHNXaXRoKFwiUlNcIikpbj1cIlJTQVwiO2Vsc2UgaWYoZS5zdGFydHNXaXRoKFwiUFNcIikpbj1cIlBTXCI7ZWxzZXtpZighZS5zdGFydHNXaXRoKFwiRVNcIikpcmV0dXJuIG8uZGVmYXVsdC5kZWJ1ZyhcImFsZyBub3Qgc3VwcG9ydGVkOiBcIixlKSxbXTtuPVwiRUNcIn1yZXR1cm4gby5kZWZhdWx0LmRlYnVnKFwiTG9va2luZyBmb3Iga2V5cyB0aGF0IG1hdGNoIGt0eTogXCIsbiksdD10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5rdHk9PT1ufSksby5kZWZhdWx0LmRlYnVnKFwiTnVtYmVyIG9mIGtleXMgdGhhdCBtYXRjaCBrdHk6IFwiLG4sdC5sZW5ndGgpLHR9LHQucHJvdG90eXBlLl92YWxpZGF0ZUFjY2Vzc1Rva2VuPWZ1bmN0aW9uKHQpe2lmKG8uZGVmYXVsdC5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUFjY2Vzc1Rva2VuXCIpLCF0LnByb2ZpbGUpcmV0dXJuIG8uZGVmYXVsdC5lcnJvcihcIk5vIHByb2ZpbGUgbG9hZGVkIGZyb20gaWRfdG9rZW5cIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gcHJvZmlsZSBsb2FkZWQgZnJvbSBpZF90b2tlblwiKSk7aWYoIXQucHJvZmlsZS5hdF9oYXNoKXJldHVybiBvLmRlZmF1bHQuZXJyb3IoXCJObyBhdF9oYXNoIGluIGlkX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGF0X2hhc2ggaW4gaWRfdG9rZW5cIikpO2lmKCF0LmlkX3Rva2VuKXJldHVybiBvLmRlZmF1bHQuZXJyb3IoXCJObyBpZF90b2tlblwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBpZF90b2tlblwiKSk7dmFyIGU9dGhpcy5fam9zZVV0aWwucGFyc2VKd3QodC5pZF90b2tlbik7aWYoIWV8fCFlLmhlYWRlcilyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIsZSksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIpKTt2YXIgbj1lLmhlYWRlci5hbGc7aWYoIW58fDUhPT1uLmxlbmd0aClyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiVW5zdXBwb3J0ZWQgYWxnOlwiLG4pLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFsZzogXCIrbikpO3ZhciByPW4uc3Vic3RyKDIsMyk7aWYoIXIpcmV0dXJuIG8uZGVmYXVsdC5lcnJvcihcIlVuc3VwcG9ydGVkIGFsZzpcIixuLHIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFsZzogXCIrbikpO2lmKHI9cGFyc2VJbnQociksMjU2IT09ciYmMzg0IT09ciYmNTEyIT09cilyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiVW5zdXBwb3J0ZWQgYWxnOlwiLG4sciksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgYWxnOiBcIituKSk7dmFyIGk9XCJzaGFcIityLHM9dGhpcy5fam9zZVV0aWwuaGFzaFN0cmluZyh0LmFjY2Vzc190b2tlbixpKTtpZighcylyZXR1cm4gby5kZWZhdWx0LmVycm9yKFwiYWNjZXNzX3Rva2VuIGhhc2ggZmFpbGVkOlwiLGkpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byB2YWxpZGF0ZSBhdF9oYXNoXCIpKTt2YXIgYT1zLnN1YnN0cigwLHMubGVuZ3RoLzIpLHU9dGhpcy5fam9zZVV0aWwuaGV4VG9CYXNlNjRVcmwoYSk7cmV0dXJuIHUhPT10LnByb2ZpbGUuYXRfaGFzaD8oby5kZWZhdWx0LmVycm9yKFwiRmFpbGVkIHRvIHZhbGlkYXRlIGF0X2hhc2hcIix1LHQucHJvZmlsZS5hdF9oYXNoKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdmFsaWRhdGUgYXRfaGFzaFwiKSkpOlByb21pc2UucmVzb2x2ZSh0KX0sdH0oKTtlLmRlZmF1bHQ9eSx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxvPW4oMSksYT1yKG8pLHU9big4KSxoPXIodSksYz1cIi53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uXCIsZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmguZGVmYXVsdDtpZihpKHRoaXMsdCksIWUpdGhyb3cgYS5kZWZhdWx0LmVycm9yKFwiTm8gc2V0dGluZ3MgcGFzc2VkIHRvIE1ldGFkYXRhU2VydmljZVwiKSxuZXcgRXJyb3IoXCJzZXR0aW5nc1wiKTt0aGlzLl9zZXR0aW5ncz1lLHRoaXMuX2pzb25TZXJ2aWNlPW5ldyBufXJldHVybiB0LnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRNZXRhZGF0YVwiKSx0aGlzLl9zZXR0aW5ncy5tZXRhZGF0YT8oYS5kZWZhdWx0LmRlYnVnKFwiUmV0dXJuaW5nIG1ldGFkYXRhIGZyb20gc2V0dGluZ3NcIiksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3NldHRpbmdzLm1ldGFkYXRhKSk6dGhpcy5tZXRhZGF0YVVybD8oYS5kZWZhdWx0LmRlYnVnKFwiZ2V0dGluZyBtZXRhZGF0YSBmcm9tXCIsdGhpcy5tZXRhZGF0YVVybCksdGhpcy5fanNvblNlcnZpY2UuZ2V0SnNvbih0aGlzLm1ldGFkYXRhVXJsKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBhLmRlZmF1bHQuZGVidWcoXCJqc29uIHJlY2VpdmVkXCIpLHQuX3NldHRpbmdzLm1ldGFkYXRhPWUsZX0pKTooYS5kZWZhdWx0LmVycm9yKFwiTm8gYXV0aG9yaXR5IG9yIG1ldGFkYXRhVXJsIGNvbmZpZ3VyZWQgb24gc2V0dGluZ3NcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gYXV0aG9yaXR5IG9yIG1ldGFkYXRhVXJsIGNvbmZpZ3VyZWQgb24gc2V0dGluZ3NcIikpKX0sdC5wcm90b3R5cGUuZ2V0SXNzdWVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRJc3N1ZXJcIiksdGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcImlzc3VlclwiKX0sdC5wcm90b3R5cGUuZ2V0QXV0aG9yaXphdGlvbkVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRBdXRob3JpemF0aW9uRW5kcG9pbnRcIiksdGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcImF1dGhvcml6YXRpb25fZW5kcG9pbnRcIil9LHQucHJvdG90eXBlLmdldFVzZXJJbmZvRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiTWV0YWRhdGFTZXJ2aWNlLmdldFVzZXJJbmZvRW5kcG9pbnRcIiksdGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcInVzZXJpbmZvX2VuZHBvaW50XCIpfSx0LnByb3RvdHlwZS5nZXRUb2tlbkVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRUb2tlbkVuZHBvaW50XCIpLHRoaXMuX2dldE1ldGFkYXRhUHJvcGVydHkoXCJ0b2tlbl9lbmRwb2ludFwiLCEwKX0sdC5wcm90b3R5cGUuZ2V0Q2hlY2tTZXNzaW9uSWZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRDaGVja1Nlc3Npb25JZnJhbWVcIiksdGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcImNoZWNrX3Nlc3Npb25faWZyYW1lXCIsITApfSx0LnByb3RvdHlwZS5nZXRFbmRTZXNzaW9uRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiTWV0YWRhdGFTZXJ2aWNlLmdldEVuZFNlc3Npb25FbmRwb2ludFwiKSx0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwiZW5kX3Nlc3Npb25fZW5kcG9pbnRcIiwhMCl9LHQucHJvdG90eXBlLmdldFJldm9jYXRpb25FbmRwb2ludD1mdW5jdGlvbigpe3JldHVybiBhLmRlZmF1bHQuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0UmV2b2NhdGlvbkVuZHBvaW50XCIpLHRoaXMuX2dldE1ldGFkYXRhUHJvcGVydHkoXCJyZXZvY2F0aW9uX2VuZHBvaW50XCIsITApfSx0LnByb3RvdHlwZS5fZ2V0TWV0YWRhdGFQcm9wZXJ0eT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiBhLmRlZmF1bHQuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuX2dldE1ldGFkYXRhUHJvcGVydHlcIix0KSx0aGlzLmdldE1ldGFkYXRhKCkudGhlbihmdW5jdGlvbihuKXtpZihhLmRlZmF1bHQuZGVidWcoXCJtZXRhZGF0YSByZWNpZXZlZFwiKSx2b2lkIDA9PT1uW3RdKXtpZihlPT09ITApcmV0dXJuIHZvaWQgYS5kZWZhdWx0Lndhcm4oXCJNZXRhZGF0YSBkb2VzIG5vdCBjb250YWluIG9wdGlvbmFsIHByb3BlcnR5IFwiK3QpO3Rocm93IGEuZGVmYXVsdC5lcnJvcihcIk1ldGFkYXRhIGRvZXMgbm90IGNvbnRhaW4gcHJvcGVydHkgXCIrdCksbmV3IEVycm9yKFwiTWV0YWRhdGEgZG9lcyBub3QgY29udGFpbiBwcm9wZXJ0eSBcIit0KX1yZXR1cm4gblt0XX0pfSx0LnByb3RvdHlwZS5nZXRTaWduaW5nS2V5cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRTaWduaW5nS2V5c1wiKSx0aGlzLl9zZXR0aW5ncy5zaWduaW5nS2V5cz8oYS5kZWZhdWx0LmRlYnVnKFwiUmV0dXJuaW5nIHNpZ25pbmdLZXlzIGZyb20gc2V0dGluZ3NcIiksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3NldHRpbmdzLnNpZ25pbmdLZXlzKSk6dGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcImp3a3NfdXJpXCIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcImp3a3NfdXJpIHJlY2VpdmVkXCIsZSksdC5fanNvblNlcnZpY2UuZ2V0SnNvbihlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGEuZGVmYXVsdC5kZWJ1ZyhcImtleSBzZXQgcmVjZWl2ZWRcIixlKSwhZS5rZXlzKXRocm93IGEuZGVmYXVsdC5lcnJvcihcIk1pc3Npbmcga2V5cyBvbiBrZXlzZXRcIiksbmV3IEVycm9yKFwiTWlzc2luZyBrZXlzIG9uIGtleXNldFwiKTtyZXR1cm4gdC5fc2V0dGluZ3Muc2lnbmluZ0tleXM9ZS5rZXlzLHQuX3NldHRpbmdzLnNpZ25pbmdLZXlzfSl9KX0scyh0LFt7a2V5OlwibWV0YWRhdGFVcmxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGFVcmx8fCh0aGlzLl9zZXR0aW5ncy5tZXRhZGF0YVVybD90aGlzLl9tZXRhZGF0YVVybD10aGlzLl9zZXR0aW5ncy5tZXRhZGF0YVVybDoodGhpcy5fbWV0YWRhdGFVcmw9dGhpcy5fc2V0dGluZ3MuYXV0aG9yaXR5LHRoaXMuX21ldGFkYXRhVXJsJiZ0aGlzLl9tZXRhZGF0YVVybC5pbmRleE9mKGMpPDAmJihcIi9cIiE9PXRoaXMuX21ldGFkYXRhVXJsW3RoaXMuX21ldGFkYXRhVXJsLmxlbmd0aC0xXSYmKHRoaXMuX21ldGFkYXRhVXJsKz1cIi9cIiksdGhpcy5fbWV0YWRhdGFVcmwrPWMpKSksdGhpcy5fbWV0YWRhdGFVcmx9fV0pLHR9KCk7ZS5kZWZhdWx0PWYsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMSksbz1yKHMpLGE9big1KSx1PXIoYSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dS5kZWZhdWx0LlhNTEh0dHBSZXF1ZXN0O2kodGhpcyx0KSx0aGlzLl9YTUxIdHRwUmVxdWVzdD1lfXJldHVybiB0LnByb3RvdHlwZS5nZXRKc29uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZihvLmRlZmF1bHQuZGVidWcoXCJKc29uU2VydmljZS5nZXRKc29uXCIsdCksIXQpdGhyb3cgby5kZWZhdWx0LmVycm9yKFwiTm8gdXJsIHBhc3NlZFwiKSxuZXcgRXJyb3IoXCJ1cmxcIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsaSl7dmFyIHM9bmV3IG4uX1hNTEh0dHBSZXF1ZXN0O3Mub3BlbihcIkdFVFwiLHQpLHMub25sb2FkPWZ1bmN0aW9uKCl7aWYoby5kZWZhdWx0LmRlYnVnKFwiSFRUUCByZXNwb25zZSByZWNlaXZlZCwgc3RhdHVzXCIscy5zdGF0dXMpLDIwMD09PXMuc3RhdHVzKXRyeXtyKEpTT04ucGFyc2Uocy5yZXNwb25zZVRleHQpKX1jYXRjaCh0KXtvLmRlZmF1bHQuZXJyb3IoXCJFcnJvciBwYXJzaW5nIEpTT04gcmVzcG9uc2VcIix0Lm1lc3NhZ2UpLGkodCl9ZWxzZSBpKEVycm9yKHMuc3RhdHVzVGV4dCtcIiAoXCIrcy5zdGF0dXMrXCIpXCIpKX0scy5vbmVycm9yPWZ1bmN0aW9uKCl7by5kZWZhdWx0LmVycm9yKFwibmV0d29yayBlcnJvclwiKSxpKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LGUmJihvLmRlZmF1bHQuZGVidWcoXCJ0b2tlbiBwYXNzZWQsIHNldHRpbmcgQXV0aG9yaXphdGlvbiBoZWFkZXJcIikscy5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLFwiQmVhcmVyIFwiK2UpKSxzLnNlbmQoKX0pfSx0fSgpO2UuZGVmYXVsdD1oLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDgpLG89cihzKSxhPW4oNyksdT1yKGEpLGg9bigxKSxjPXIoaCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm8uZGVmYXVsdCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp1LmRlZmF1bHQ7aWYoaSh0aGlzLHQpLCFlKXRocm93IGMuZGVmYXVsdC5lcnJvcihcIk5vIHNldHRpbmdzIHBhc3NlZCB0byBVc2VySW5mb1NlcnZpY2VcIiksbmV3IEVycm9yKFwic2V0dGluZ3NcIik7dGhpcy5fc2V0dGluZ3M9ZSx0aGlzLl9qc29uU2VydmljZT1uZXcgbix0aGlzLl9tZXRhZGF0YVNlcnZpY2U9bmV3IHIodGhpcy5fc2V0dGluZ3MpfXJldHVybiB0LnByb3RvdHlwZS5nZXRDbGFpbXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gYy5kZWZhdWx0LmRlYnVnKFwiVXNlckluZm9TZXJ2aWNlLmdldENsYWltc1wiKSx0P3RoaXMuX21ldGFkYXRhU2VydmljZS5nZXRVc2VySW5mb0VuZHBvaW50KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gYy5kZWZhdWx0LmRlYnVnKFwicmVjZWl2ZWQgdXNlcmluZm8gdXJsXCIsbiksZS5fanNvblNlcnZpY2UuZ2V0SnNvbihuLHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcImNsYWltcyByZWNlaXZlZFwiLHQpLHR9KX0pOihjLmRlZmF1bHQuZXJyb3IoXCJObyB0b2tlbiBwYXNzZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQSB0b2tlbiBpcyByZXF1aXJlZFwiKSkpfSx0fSgpO2UuZGVmYXVsdD1mLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMSksdT1yKGEpLGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPW4uZXJyb3Isbz1uLmVycm9yX2Rlc2NyaXB0aW9uLGE9bi5lcnJvcl91cmksaD1uLnN0YXRlO2lmKGkodGhpcyxlKSwhcil0aHJvdyB1LmRlZmF1bHQuZXJyb3IoXCJObyBlcnJvciBwYXNzZWQgdG8gRXJyb3JSZXNwb25zZVwiKSxuZXcgRXJyb3IoXCJlcnJvclwiKTt2YXIgYz1zKHRoaXMsdC5jYWxsKHRoaXMsb3x8cikpO3JldHVybiBjLm5hbWU9XCJFcnJvclJlc3BvbnNlXCIsYy5lcnJvcj1yLGMuZXJyb3JfZGVzY3JpcHRpb249byxjLmVycm9yX3VyaT1hLGMuc3RhdGU9aCxjfXJldHVybiBvKGUsdCksZX0oRXJyb3IpO2UuZGVmYXVsdD1oLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDEyKSxvPW4oMSksYT1yKG8pLHU9W1wiUlMyNTZcIixcIlJTMzg0XCIsXCJSUzUxMlwiLFwiUFMyNTZcIixcIlBTMzg0XCIsXCJQUzUxMlwiLFwiRVMyNTZcIixcIkVTMzg0XCIsXCJFUzUxMlwiXSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KX1yZXR1cm4gdC5wYXJzZUp3dD1mdW5jdGlvbih0KXthLmRlZmF1bHQuZGVidWcoXCJKb3NlVXRpbC5wYXJzZUp3dFwiKTt0cnl7dmFyIGU9cy5qd3MuSldTLnBhcnNlKHQpO3JldHVybntoZWFkZXI6ZS5oZWFkZXJPYmoscGF5bG9hZDplLnBheWxvYWRPYmp9fWNhdGNoKHQpe2EuZGVmYXVsdC5lcnJvcih0KX19LHQudmFsaWRhdGVKd3Q9ZnVuY3Rpb24oZSxuLHIsaSxvLHUpe2EuZGVmYXVsdC5kZWJ1ZyhcIkpvc2VVdGlsLnZhbGlkYXRlSnd0XCIpO3RyeXtpZihcIlJTQVwiPT09bi5rdHkpaWYobi5lJiZuLm4pbj1zLktFWVVUSUwuZ2V0S2V5KG4pO2Vsc2V7aWYoIW4ueDVjfHwhbi54NWMubGVuZ3RoKXJldHVybiBhLmRlZmF1bHQuZXJyb3IoXCJSU0Ega2V5IG1pc3Npbmcga2V5IG1hdGVyaWFsXCIsbiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiUlNBIGtleSBtaXNzaW5nIGtleSBtYXRlcmlhbFwiKSk7bj1zLktFWVVUSUwuZ2V0S2V5KHMuWDUwOS5nZXRQdWJsaWNLZXlGcm9tQ2VydFBFTShuLng1Y1swXSkpfWVsc2V7aWYoXCJFQ1wiIT09bi5rdHkpcmV0dXJuIGEuZGVmYXVsdC5lcnJvcihcIlVuc3VwcG9ydGVkIGtleSB0eXBlXCIsbiYmbi5rdHkpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGtleSB0eXBlOiBcIituJiZuLmt0eSkpO2lmKCEobi5jcnYmJm4ueCYmbi55KSlyZXR1cm4gYS5kZWZhdWx0LmVycm9yKFwiRUMga2V5IG1pc3Npbmcga2V5IG1hdGVyaWFsXCIsbiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiRUMga2V5IG1pc3Npbmcga2V5IG1hdGVyaWFsXCIpKTtuPXMuS0VZVVRJTC5nZXRLZXkobil9cmV0dXJuIHQuX3ZhbGlkYXRlSnd0KGUsbixyLGksbyx1KX1jYXRjaCh0KXtyZXR1cm4gYS5kZWZhdWx0LmVycm9yKHQmJnQubWVzc2FnZXx8dCksUHJvbWlzZS5yZWplY3QoXCJKV1QgdmFsaWRhdGlvbiBmYWlsZWRcIil9fSx0Ll92YWxpZGF0ZUp3dD1mdW5jdGlvbihlLG4scixpLG8saCl7YS5kZWZhdWx0LmRlYnVnKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0XCIpLG98fChvPTApLGh8fChoPXBhcnNlSW50KERhdGUubm93KCkvMWUzKSk7dmFyIGM9dC5wYXJzZUp3dChlKS5wYXlsb2FkO2lmKCFjLmlzcylyZXR1cm4gYS5kZWZhdWx0LmVycm9yKFwiaXNzdWVyIHdhcyBub3QgcHJvdmlkZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaXNzdWVyIHdhcyBub3QgcHJvdmlkZWRcIikpO2lmKGMuaXNzIT09cilyZXR1cm4gYS5kZWZhdWx0LmVycm9yKFwiSW52YWxpZCBpc3N1ZXIgaW4gdG9rZW5cIixjLmlzcyksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBpc3N1ZXIgaW4gdG9rZW46IFwiK2MuaXNzKSk7aWYoIWMuYXVkKXJldHVybiBhLmRlZmF1bHQuZXJyb3IoXCJhdWQgd2FzIG5vdCBwcm92aWRlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJhdWQgd2FzIG5vdCBwcm92aWRlZFwiKSk7dmFyIGY9Yy5hdWQ9PT1pfHxBcnJheS5pc0FycmF5KGMuYXVkKSYmYy5hdWQuaW5kZXhPZihpKT49MDtcbmlmKCFmKXJldHVybiBhLmRlZmF1bHQuZXJyb3IoXCJJbnZhbGlkIGF1ZGllbmNlIGluIHRva2VuXCIsYy5hdWQpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgYXVkaWVuY2UgaW4gdG9rZW46IFwiK2MuYXVkKSk7dmFyIGw9aCtvLGQ9aC1vO2lmKCFjLmlhdClyZXR1cm4gYS5kZWZhdWx0LmVycm9yKFwiaWF0IHdhcyBub3QgcHJvdmlkZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaWF0IHdhcyBub3QgcHJvdmlkZWRcIikpO2lmKGw8Yy5pYXQpcmV0dXJuIGEuZGVmYXVsdC5lcnJvcihcImlhdCBpcyBpbiB0aGUgZnV0dXJlXCIsYy5pYXQpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImlhdCBpcyBpbiB0aGUgZnV0dXJlOiBcIitjLmlhdCkpO2lmKGMubmJmJiZsPGMubmJmKXJldHVybiBhLmRlZmF1bHQuZXJyb3IoXCJuYmYgaXMgaW4gdGhlIGZ1dHVyZVwiLGMubmJmKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJuYmYgaXMgaW4gdGhlIGZ1dHVyZTogXCIrYy5uYmYpKTtpZighYy5leHApcmV0dXJuIGEuZGVmYXVsdC5lcnJvcihcImV4cCB3YXMgbm90IHByb3ZpZGVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImV4cCB3YXMgbm90IHByb3ZpZGVkXCIpKTtpZihjLmV4cDxkKXJldHVybiBhLmRlZmF1bHQuZXJyb3IoXCJleHAgaXMgaW4gdGhlIHBhc3RcIixjLmV4cCksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiZXhwIGlzIGluIHRoZSBwYXN0OlwiK2MuZXhwKSk7dHJ5e2lmKCFzLmp3cy5KV1MudmVyaWZ5KGUsbix1KSlyZXR1cm4gYS5kZWZhdWx0LmVycm9yKFwic2lnbmF0dXJlIHZhbGlkYXRpb24gZmFpbGVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcInNpZ25hdHVyZSB2YWxpZGF0aW9uIGZhaWxlZFwiKSl9Y2F0Y2godCl7cmV0dXJuIGEuZGVmYXVsdC5lcnJvcih0JiZ0Lm1lc3NhZ2V8fHQpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcInNpZ25hdHVyZSB2YWxpZGF0aW9uIGZhaWxlZFwiKSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSx0Lmhhc2hTdHJpbmc9ZnVuY3Rpb24odCxlKXthLmRlZmF1bHQuZGVidWcoXCJKb3NlVXRpbC5oYXNoU3RyaW5nXCIsdCxlKTt0cnl7cmV0dXJuIHMuY3J5cHRvLlV0aWwuaGFzaFN0cmluZyh0LGUpfWNhdGNoKHQpe2EuZGVmYXVsdC5lcnJvcih0KX19LHQuaGV4VG9CYXNlNjRVcmw9ZnVuY3Rpb24odCl7YS5kZWZhdWx0LmRlYnVnKFwiSm9zZVV0aWwuaGV4VG9CYXNlNjRVcmxcIix0KTt0cnl7cmV0dXJuKDAscy5oZXh0b2I2NHUpKHQpfWNhdGNoKHQpe2EuZGVmYXVsdC5lcnJvcih0KX19LHR9KCk7ZS5kZWZhdWx0PWgsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKHQpe3ZhciBlLG4scj1cIlwiO2ZvcihlPTA7ZSszPD10Lmxlbmd0aDtlKz0zKW49cGFyc2VJbnQodC5zdWJzdHJpbmcoZSxlKzMpLDE2KSxyKz11ci5jaGFyQXQobj4+NikrdXIuY2hhckF0KDYzJm4pO2lmKGUrMT09dC5sZW5ndGg/KG49cGFyc2VJbnQodC5zdWJzdHJpbmcoZSxlKzEpLDE2KSxyKz11ci5jaGFyQXQobjw8MikpOmUrMj09dC5sZW5ndGgmJihuPXBhcnNlSW50KHQuc3Vic3RyaW5nKGUsZSsyKSwxNikscis9dXIuY2hhckF0KG4+PjIpK3VyLmNoYXJBdCgoMyZuKTw8NCkpLGhyKWZvcig7KDMmci5sZW5ndGgpPjA7KXIrPWhyO3JldHVybiByfWZ1bmN0aW9uIGkodCl7dmFyIGUsbixyLGk9XCJcIixzPTA7Zm9yKGU9MDtlPHQubGVuZ3RoJiZ0LmNoYXJBdChlKSE9aHI7KytlKXI9dXIuaW5kZXhPZih0LmNoYXJBdChlKSkscjwwfHwoMD09cz8oaSs9ZihyPj4yKSxuPTMmcixzPTEpOjE9PXM/KGkrPWYobjw8MnxyPj40KSxuPTE1JnIscz0yKToyPT1zPyhpKz1mKG4pLGkrPWYocj4+Miksbj0zJnIscz0zKTooaSs9ZihuPDwyfHI+PjQpLGkrPWYoMTUmcikscz0wKSk7cmV0dXJuIDE9PXMmJihpKz1mKG48PDIpKSxpfWZ1bmN0aW9uIHModCl7dmFyIGUsbj1pKHQpLHI9bmV3IEFycmF5O2ZvcihlPTA7MiplPG4ubGVuZ3RoOysrZSlyW2VdPXBhcnNlSW50KG4uc3Vic3RyaW5nKDIqZSwyKmUrMiksMTYpO3JldHVybiByfWZ1bmN0aW9uIG8odCxlLG4pe251bGwhPXQmJihcIm51bWJlclwiPT10eXBlb2YgdD90aGlzLmZyb21OdW1iZXIodCxlLG4pOm51bGw9PWUmJlwic3RyaW5nXCIhPXR5cGVvZiB0P3RoaXMuZnJvbVN0cmluZyh0LDI1Nik6dGhpcy5mcm9tU3RyaW5nKHQsZSkpfWZ1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IG8obnVsbCl9ZnVuY3Rpb24gdSh0LGUsbixyLGkscyl7Zm9yKDstLXM+PTA7KXt2YXIgbz1lKnRoaXNbdCsrXStuW3JdK2k7aT1NYXRoLmZsb29yKG8vNjcxMDg4NjQpLG5bcisrXT02NzEwODg2MyZvfXJldHVybiBpfWZ1bmN0aW9uIGgodCxlLG4scixpLHMpe2Zvcih2YXIgbz0zMjc2NyZlLGE9ZT4+MTU7LS1zPj0wOyl7dmFyIHU9MzI3NjcmdGhpc1t0XSxoPXRoaXNbdCsrXT4+MTUsYz1hKnUraCpvO3U9byp1KygoMzI3NjcmYyk8PDE1KStuW3JdKygxMDczNzQxODIzJmkpLGk9KHU+Pj4zMCkrKGM+Pj4xNSkrYSpoKyhpPj4+MzApLG5bcisrXT0xMDczNzQxODIzJnV9cmV0dXJuIGl9ZnVuY3Rpb24gYyh0LGUsbixyLGkscyl7Zm9yKHZhciBvPTE2MzgzJmUsYT1lPj4xNDstLXM+PTA7KXt2YXIgdT0xNjM4MyZ0aGlzW3RdLGg9dGhpc1t0KytdPj4xNCxjPWEqdStoKm87dT1vKnUrKCgxNjM4MyZjKTw8MTQpK25bcl0raSxpPSh1Pj4yOCkrKGM+PjE0KSthKmgsbltyKytdPTI2ODQzNTQ1NSZ1fXJldHVybiBpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIHByLmNoYXJBdCh0KX1mdW5jdGlvbiBsKHQsZSl7dmFyIG49eXJbdC5jaGFyQ29kZUF0KGUpXTtyZXR1cm4gbnVsbD09bj8tMTpufWZ1bmN0aW9uIGQodCl7Zm9yKHZhciBlPXRoaXMudC0xO2U+PTA7LS1lKXRbZV09dGhpc1tlXTt0LnQ9dGhpcy50LHQucz10aGlzLnN9ZnVuY3Rpb24gZyh0KXt0aGlzLnQ9MSx0aGlzLnM9dDwwPy0xOjAsdD4wP3RoaXNbMF09dDp0PC0xP3RoaXNbMF09dCt0aGlzLkRWOnRoaXMudD0wfWZ1bmN0aW9uIHAodCl7dmFyIGU9YSgpO3JldHVybiBlLmZyb21JbnQodCksZX1mdW5jdGlvbiB5KHQsZSl7dmFyIG47aWYoMTY9PWUpbj00O2Vsc2UgaWYoOD09ZSluPTM7ZWxzZSBpZigyNTY9PWUpbj04O2Vsc2UgaWYoMj09ZSluPTE7ZWxzZSBpZigzMj09ZSluPTU7ZWxzZXtpZig0IT1lKXJldHVybiB2b2lkIHRoaXMuZnJvbVJhZGl4KHQsZSk7bj0yfXRoaXMudD0wLHRoaXMucz0wO2Zvcih2YXIgcj10Lmxlbmd0aCxpPSExLHM9MDstLXI+PTA7KXt2YXIgYT04PT1uPzI1NSZ0W3JdOmwodCxyKTthPDA/XCItXCI9PXQuY2hhckF0KHIpJiYoaT0hMCk6KGk9ITEsMD09cz90aGlzW3RoaXMudCsrXT1hOnMrbj50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KGEmKDE8PHRoaXMuREItcyktMSk8PHMsdGhpc1t0aGlzLnQrK109YT4+dGhpcy5EQi1zKTp0aGlzW3RoaXMudC0xXXw9YTw8cyxzKz1uLHM+PXRoaXMuREImJihzLT10aGlzLkRCKSl9OD09biYmMCE9KDEyOCZ0WzBdKSYmKHRoaXMucz0tMSxzPjAmJih0aGlzW3RoaXMudC0xXXw9KDE8PHRoaXMuREItcyktMTw8cykpLHRoaXMuY2xhbXAoKSxpJiZvLlpFUk8uc3ViVG8odGhpcyx0aGlzKX1mdW5jdGlvbiB2KCl7Zm9yKHZhciB0PXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09dDspLS10aGlzLnR9ZnVuY3Rpb24gbSh0KXtpZih0aGlzLnM8MClyZXR1cm5cIi1cIit0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKHQpO3ZhciBlO2lmKDE2PT10KWU9NDtlbHNlIGlmKDg9PXQpZT0zO2Vsc2UgaWYoMj09dCllPTE7ZWxzZSBpZigzMj09dCllPTU7ZWxzZXtpZig0IT10KXJldHVybiB0aGlzLnRvUmFkaXgodCk7ZT0yfXZhciBuLHI9KDE8PGUpLTEsaT0hMSxzPVwiXCIsbz10aGlzLnQsYT10aGlzLkRCLW8qdGhpcy5EQiVlO2lmKG8tLSA+MClmb3IoYTx0aGlzLkRCJiYobj10aGlzW29dPj5hKT4wJiYoaT0hMCxzPWYobikpO28+PTA7KWE8ZT8obj0odGhpc1tvXSYoMTw8YSktMSk8PGUtYSxufD10aGlzWy0tb10+PihhKz10aGlzLkRCLWUpKToobj10aGlzW29dPj4oYS09ZSkmcixhPD0wJiYoYSs9dGhpcy5EQiwtLW8pKSxuPjAmJihpPSEwKSxpJiYocys9ZihuKSk7cmV0dXJuIGk/czpcIjBcIn1mdW5jdGlvbiBTKCl7dmFyIHQ9YSgpO3JldHVybiBvLlpFUk8uc3ViVG8odGhpcyx0KSx0fWZ1bmN0aW9uIGIoKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfWZ1bmN0aW9uIHcodCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciBuPXRoaXMudDtpZihlPW4tdC50LDAhPWUpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDstLW4+PTA7KWlmKDAhPShlPXRoaXNbbl0tdFtuXSkpcmV0dXJuIGU7cmV0dXJuIDB9ZnVuY3Rpb24gRSh0KXt2YXIgZSxuPTE7cmV0dXJuIDAhPShlPXQ+Pj4xNikmJih0PWUsbis9MTYpLDAhPShlPXQ+PjgpJiYodD1lLG4rPTgpLDAhPShlPXQ+PjQpJiYodD1lLG4rPTQpLDAhPShlPXQ+PjIpJiYodD1lLG4rPTIpLDAhPShlPXQ+PjEpJiYodD1lLG4rPTEpLG59ZnVuY3Rpb24gXygpe3JldHVybiB0aGlzLnQ8PTA/MDp0aGlzLkRCKih0aGlzLnQtMSkrRSh0aGlzW3RoaXMudC0xXV50aGlzLnMmdGhpcy5ETSl9ZnVuY3Rpb24geCh0LGUpe3ZhciBuO2ZvcihuPXRoaXMudC0xO24+PTA7LS1uKWVbbit0XT10aGlzW25dO2ZvcihuPXQtMTtuPj0wOy0tbillW25dPTA7ZS50PXRoaXMudCt0LGUucz10aGlzLnN9ZnVuY3Rpb24gQSh0LGUpe2Zvcih2YXIgbj10O248dGhpcy50OysrbillW24tdF09dGhpc1tuXTtlLnQ9TWF0aC5tYXgodGhpcy50LXQsMCksZS5zPXRoaXMuc31mdW5jdGlvbiBGKHQsZSl7dmFyIG4scj10JXRoaXMuREIsaT10aGlzLkRCLXIscz0oMTw8aSktMSxvPU1hdGguZmxvb3IodC90aGlzLkRCKSxhPXRoaXMuczw8ciZ0aGlzLkRNO2ZvcihuPXRoaXMudC0xO24+PTA7LS1uKWVbbitvKzFdPXRoaXNbbl0+Pml8YSxhPSh0aGlzW25dJnMpPDxyO2ZvcihuPW8tMTtuPj0wOy0tbillW25dPTA7ZVtvXT1hLGUudD10aGlzLnQrbysxLGUucz10aGlzLnMsZS5jbGFtcCgpfWZ1bmN0aW9uIFAodCxlKXtlLnM9dGhpcy5zO3ZhciBuPU1hdGguZmxvb3IodC90aGlzLkRCKTtpZihuPj10aGlzLnQpcmV0dXJuIHZvaWQoZS50PTApO3ZhciByPXQldGhpcy5EQixpPXRoaXMuREItcixzPSgxPDxyKS0xO2VbMF09dGhpc1tuXT4+cjtmb3IodmFyIG89bisxO288dGhpcy50OysrbyllW28tbi0xXXw9KHRoaXNbb10mcyk8PGksZVtvLW5dPXRoaXNbb10+PnI7cj4wJiYoZVt0aGlzLnQtbi0xXXw9KHRoaXMucyZzKTw8aSksZS50PXRoaXMudC1uLGUuY2xhbXAoKX1mdW5jdGlvbiBPKHQsZSl7Zm9yKHZhciBuPTAscj0wLGk9TWF0aC5taW4odC50LHRoaXMudCk7bjxpOylyKz10aGlzW25dLXRbbl0sZVtuKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtpZih0LnQ8dGhpcy50KXtmb3Ioci09dC5zO248dGhpcy50OylyKz10aGlzW25dLGVbbisrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7cis9dGhpcy5zfWVsc2V7Zm9yKHIrPXRoaXMucztuPHQudDspci09dFtuXSxlW24rK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO3ItPXQuc31lLnM9cjwwPy0xOjAscjwtMT9lW24rK109dGhpcy5EVityOnI+MCYmKGVbbisrXT1yKSxlLnQ9bixlLmNsYW1wKCl9ZnVuY3Rpb24gQyh0LGUpe3ZhciBuPXRoaXMuYWJzKCkscj10LmFicygpLGk9bi50O2ZvcihlLnQ9aStyLnQ7LS1pPj0wOyllW2ldPTA7Zm9yKGk9MDtpPHIudDsrK2kpZVtpK24udF09bi5hbSgwLHJbaV0sZSxpLDAsbi50KTtlLnM9MCxlLmNsYW1wKCksdGhpcy5zIT10LnMmJm8uWkVSTy5zdWJUbyhlLGUpfWZ1bmN0aW9uIFQodCl7Zm9yKHZhciBlPXRoaXMuYWJzKCksbj10LnQ9MiplLnQ7LS1uPj0wOyl0W25dPTA7Zm9yKG49MDtuPGUudC0xOysrbil7dmFyIHI9ZS5hbShuLGVbbl0sdCwyKm4sMCwxKTsodFtuK2UudF0rPWUuYW0obisxLDIqZVtuXSx0LDIqbisxLHIsZS50LW4tMSkpPj1lLkRWJiYodFtuK2UudF0tPWUuRFYsdFtuK2UudCsxXT0xKX10LnQ+MCYmKHRbdC50LTFdKz1lLmFtKG4sZVtuXSx0LDIqbiwwLDEpKSx0LnM9MCx0LmNsYW1wKCl9ZnVuY3Rpb24gRCh0LGUsbil7dmFyIHI9dC5hYnMoKTtpZighKHIudDw9MCkpe3ZhciBpPXRoaXMuYWJzKCk7aWYoaS50PHIudClyZXR1cm4gbnVsbCE9ZSYmZS5mcm9tSW50KDApLHZvaWQobnVsbCE9biYmdGhpcy5jb3B5VG8obikpO251bGw9PW4mJihuPWEoKSk7dmFyIHM9YSgpLHU9dGhpcy5zLGg9dC5zLGM9dGhpcy5EQi1FKHJbci50LTFdKTtjPjA/KHIubFNoaWZ0VG8oYyxzKSxpLmxTaGlmdFRvKGMsbikpOihyLmNvcHlUbyhzKSxpLmNvcHlUbyhuKSk7dmFyIGY9cy50LGw9c1tmLTFdO2lmKDAhPWwpe3ZhciBkPWwqKDE8PHRoaXMuRjEpKyhmPjE/c1tmLTJdPj50aGlzLkYyOjApLGc9dGhpcy5GVi9kLHA9KDE8PHRoaXMuRjEpL2QseT0xPDx0aGlzLkYyLHY9bi50LG09di1mLFM9bnVsbD09ZT9hKCk6ZTtmb3Iocy5kbFNoaWZ0VG8obSxTKSxuLmNvbXBhcmVUbyhTKT49MCYmKG5bbi50KytdPTEsbi5zdWJUbyhTLG4pKSxvLk9ORS5kbFNoaWZ0VG8oZixTKSxTLnN1YlRvKHMscyk7cy50PGY7KXNbcy50KytdPTA7Zm9yKDstLW0+PTA7KXt2YXIgYj1uWy0tdl09PWw/dGhpcy5ETTpNYXRoLmZsb29yKG5bdl0qZysoblt2LTFdK3kpKnApO2lmKChuW3ZdKz1zLmFtKDAsYixuLG0sMCxmKSk8Yilmb3Iocy5kbFNoaWZ0VG8obSxTKSxuLnN1YlRvKFMsbik7blt2XTwtLWI7KW4uc3ViVG8oUyxuKX1udWxsIT1lJiYobi5kclNoaWZ0VG8oZixlKSx1IT1oJiZvLlpFUk8uc3ViVG8oZSxlKSksbi50PWYsbi5jbGFtcCgpLGM+MCYmbi5yU2hpZnRUbyhjLG4pLHU8MCYmby5aRVJPLnN1YlRvKG4sbil9fX1mdW5jdGlvbiBSKHQpe3ZhciBlPWEoKTtyZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1Ubyh0LG51bGwsZSksdGhpcy5zPDAmJmUuY29tcGFyZVRvKG8uWkVSTyk+MCYmdC5zdWJUbyhlLGUpLGV9ZnVuY3Rpb24gaih0KXt0aGlzLm09dH1mdW5jdGlvbiBIKHQpe3JldHVybiB0LnM8MHx8dC5jb21wYXJlVG8odGhpcy5tKT49MD90Lm1vZCh0aGlzLm0pOnR9ZnVuY3Rpb24gSSh0KXtyZXR1cm4gdH1mdW5jdGlvbiBrKHQpe3QuZGl2UmVtVG8odGhpcy5tLG51bGwsdCl9ZnVuY3Rpb24gQih0LGUsbil7dC5tdWx0aXBseVRvKGUsbiksdGhpcy5yZWR1Y2Uobil9ZnVuY3Rpb24gTih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9ZnVuY3Rpb24gVigpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB0PXRoaXNbMF07aWYoMD09KDEmdCkpcmV0dXJuIDA7dmFyIGU9MyZ0O3JldHVybiBlPWUqKDItKDE1JnQpKmUpJjE1LGU9ZSooMi0oMjU1JnQpKmUpJjI1NSxlPWUqKDItKCg2NTUzNSZ0KSplJjY1NTM1KSkmNjU1MzUsZT1lKigyLXQqZSV0aGlzLkRWKSV0aGlzLkRWLGU+MD90aGlzLkRWLWU6LWV9ZnVuY3Rpb24gTSh0KXt0aGlzLm09dCx0aGlzLm1wPXQuaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PHQuREItMTUpLTEsdGhpcy5tdDI9Mip0LnR9ZnVuY3Rpb24gSyh0KXt2YXIgZT1hKCk7cmV0dXJuIHQuYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LGUpLGUuZGl2UmVtVG8odGhpcy5tLG51bGwsZSksdC5zPDAmJmUuY29tcGFyZVRvKG8uWkVSTyk+MCYmdGhpcy5tLnN1YlRvKGUsZSksZX1mdW5jdGlvbiBMKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX1mdW5jdGlvbiBVKHQpe2Zvcig7dC50PD10aGlzLm10MjspdFt0LnQrK109MDtmb3IodmFyIGU9MDtlPHRoaXMubS50OysrZSl7dmFyIG49MzI3NjcmdFtlXSxyPW4qdGhpcy5tcGwrKChuKnRoaXMubXBoKyh0W2VdPj4xNSkqdGhpcy5tcGwmdGhpcy51bSk8PDE1KSZ0LkRNO2ZvcihuPWUrdGhpcy5tLnQsdFtuXSs9dGhpcy5tLmFtKDAscix0LGUsMCx0aGlzLm0udCk7dFtuXT49dC5EVjspdFtuXS09dC5EVix0Wysrbl0rK310LmNsYW1wKCksdC5kclNoaWZ0VG8odGhpcy5tLnQsdCksdC5jb21wYXJlVG8odGhpcy5tKT49MCYmdC5zdWJUbyh0aGlzLm0sdCl9ZnVuY3Rpb24gcSh0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9ZnVuY3Rpb24gVyh0LGUsbil7dC5tdWx0aXBseVRvKGUsbiksdGhpcy5yZWR1Y2Uobil9ZnVuY3Rpb24gSigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMucyl9ZnVuY3Rpb24geih0LGUpe2lmKHQ+NDI5NDk2NzI5NXx8dDwxKXJldHVybiBvLk9ORTt2YXIgbj1hKCkscj1hKCksaT1lLmNvbnZlcnQodGhpcykscz1FKHQpLTE7Zm9yKGkuY29weVRvKG4pOy0tcz49MDspaWYoZS5zcXJUbyhuLHIpLCh0JjE8PHMpPjApZS5tdWxUbyhyLGksbik7ZWxzZXt2YXIgdT1uO249cixyPXV9cmV0dXJuIGUucmV2ZXJ0KG4pfWZ1bmN0aW9uIFkodCxlKXt2YXIgbjtyZXR1cm4gbj10PDI1Nnx8ZS5pc0V2ZW4oKT9uZXcgaihlKTpuZXcgTShlKSx0aGlzLmV4cCh0LG4pfS8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuXHQgKi9cbmZ1bmN0aW9uIEcoKXt2YXIgdD1hKCk7cmV0dXJuIHRoaXMuY29weVRvKHQpLHR9ZnVuY3Rpb24gWCgpe2lmKHRoaXMuczwwKXtpZigxPT10aGlzLnQpcmV0dXJuIHRoaXNbMF0tdGhpcy5EVjtpZigwPT10aGlzLnQpcmV0dXJuLTF9ZWxzZXtpZigxPT10aGlzLnQpcmV0dXJuIHRoaXNbMF07aWYoMD09dGhpcy50KXJldHVybiAwfXJldHVybih0aGlzWzFdJigxPDwzMi10aGlzLkRCKS0xKTw8dGhpcy5EQnx0aGlzWzBdfWZ1bmN0aW9uICQoKXtyZXR1cm4gMD09dGhpcy50P3RoaXMuczp0aGlzWzBdPDwyND4+MjR9ZnVuY3Rpb24gUSgpe3JldHVybiAwPT10aGlzLnQ/dGhpcy5zOnRoaXNbMF08PDE2Pj4xNn1mdW5jdGlvbiBaKHQpe3JldHVybiBNYXRoLmZsb29yKE1hdGguTE4yKnRoaXMuREIvTWF0aC5sb2codCkpfWZ1bmN0aW9uIHR0KCl7cmV0dXJuIHRoaXMuczwwPy0xOnRoaXMudDw9MHx8MT09dGhpcy50JiZ0aGlzWzBdPD0wPzA6MX1mdW5jdGlvbiBldCh0KXtpZihudWxsPT10JiYodD0xMCksMD09dGhpcy5zaWdudW0oKXx8dDwyfHx0PjM2KXJldHVyblwiMFwiO3ZhciBlPXRoaXMuY2h1bmtTaXplKHQpLG49TWF0aC5wb3codCxlKSxyPXAobiksaT1hKCkscz1hKCksbz1cIlwiO2Zvcih0aGlzLmRpdlJlbVRvKHIsaSxzKTtpLnNpZ251bSgpPjA7KW89KG4rcy5pbnRWYWx1ZSgpKS50b1N0cmluZyh0KS5zdWJzdHIoMSkrbyxpLmRpdlJlbVRvKHIsaSxzKTtyZXR1cm4gcy5pbnRWYWx1ZSgpLnRvU3RyaW5nKHQpK299ZnVuY3Rpb24gbnQodCxlKXt0aGlzLmZyb21JbnQoMCksbnVsbD09ZSYmKGU9MTApO2Zvcih2YXIgbj10aGlzLmNodW5rU2l6ZShlKSxyPU1hdGgucG93KGUsbiksaT0hMSxzPTAsYT0wLHU9MDt1PHQubGVuZ3RoOysrdSl7dmFyIGg9bCh0LHUpO2g8MD9cIi1cIj09dC5jaGFyQXQodSkmJjA9PXRoaXMuc2lnbnVtKCkmJihpPSEwKTooYT1lKmEraCwrK3M+PW4mJih0aGlzLmRNdWx0aXBseShyKSx0aGlzLmRBZGRPZmZzZXQoYSwwKSxzPTAsYT0wKSl9cz4wJiYodGhpcy5kTXVsdGlwbHkoTWF0aC5wb3coZSxzKSksdGhpcy5kQWRkT2Zmc2V0KGEsMCkpLGkmJm8uWkVSTy5zdWJUbyh0aGlzLHRoaXMpfWZ1bmN0aW9uIHJ0KHQsZSxuKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlpZih0PDIpdGhpcy5mcm9tSW50KDEpO2Vsc2UgZm9yKHRoaXMuZnJvbU51bWJlcih0LG4pLHRoaXMudGVzdEJpdCh0LTEpfHx0aGlzLmJpdHdpc2VUbyhvLk9ORS5zaGlmdExlZnQodC0xKSxmdCx0aGlzKSx0aGlzLmlzRXZlbigpJiZ0aGlzLmRBZGRPZmZzZXQoMSwwKTshdGhpcy5pc1Byb2JhYmxlUHJpbWUoZSk7KXRoaXMuZEFkZE9mZnNldCgyLDApLHRoaXMuYml0TGVuZ3RoKCk+dCYmdGhpcy5zdWJUbyhvLk9ORS5zaGlmdExlZnQodC0xKSx0aGlzKTtlbHNle3ZhciByPW5ldyBBcnJheSxpPTcmdDtyLmxlbmd0aD0odD4+MykrMSxlLm5leHRCeXRlcyhyKSxpPjA/clswXSY9KDE8PGkpLTE6clswXT0wLHRoaXMuZnJvbVN0cmluZyhyLDI1Nil9fWZ1bmN0aW9uIGl0KCl7dmFyIHQ9dGhpcy50LGU9bmV3IEFycmF5O2VbMF09dGhpcy5zO3ZhciBuLHI9dGhpcy5EQi10KnRoaXMuREIlOCxpPTA7aWYodC0tID4wKWZvcihyPHRoaXMuREImJihuPXRoaXNbdF0+PnIpIT0odGhpcy5zJnRoaXMuRE0pPj5yJiYoZVtpKytdPW58dGhpcy5zPDx0aGlzLkRCLXIpO3Q+PTA7KXI8OD8obj0odGhpc1t0XSYoMTw8ciktMSk8PDgtcixufD10aGlzWy0tdF0+PihyKz10aGlzLkRCLTgpKToobj10aGlzW3RdPj4oci09OCkmMjU1LHI8PTAmJihyKz10aGlzLkRCLC0tdCkpLDAhPSgxMjgmbikmJihufD0tMjU2KSwwPT1pJiYoMTI4JnRoaXMucykhPSgxMjgmbikmJisraSwoaT4wfHxuIT10aGlzLnMpJiYoZVtpKytdPW4pO3JldHVybiBlfWZ1bmN0aW9uIHN0KHQpe3JldHVybiAwPT10aGlzLmNvbXBhcmVUbyh0KX1mdW5jdGlvbiBvdCh0KXtyZXR1cm4gdGhpcy5jb21wYXJlVG8odCk8MD90aGlzOnR9ZnVuY3Rpb24gYXQodCl7cmV0dXJuIHRoaXMuY29tcGFyZVRvKHQpPjA/dGhpczp0fWZ1bmN0aW9uIHV0KHQsZSxuKXt2YXIgcixpLHM9TWF0aC5taW4odC50LHRoaXMudCk7Zm9yKHI9MDtyPHM7KytyKW5bcl09ZSh0aGlzW3JdLHRbcl0pO2lmKHQudDx0aGlzLnQpe2ZvcihpPXQucyZ0aGlzLkRNLHI9cztyPHRoaXMudDsrK3IpbltyXT1lKHRoaXNbcl0saSk7bi50PXRoaXMudH1lbHNle2ZvcihpPXRoaXMucyZ0aGlzLkRNLHI9cztyPHQudDsrK3IpbltyXT1lKGksdFtyXSk7bi50PXQudH1uLnM9ZSh0aGlzLnMsdC5zKSxuLmNsYW1wKCl9ZnVuY3Rpb24gaHQodCxlKXtyZXR1cm4gdCZlfWZ1bmN0aW9uIGN0KHQpe3ZhciBlPWEoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8odCxodCxlKSxlfWZ1bmN0aW9uIGZ0KHQsZSl7cmV0dXJuIHR8ZX1mdW5jdGlvbiBsdCh0KXt2YXIgZT1hKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHQsZnQsZSksZX1mdW5jdGlvbiBkdCh0LGUpe3JldHVybiB0XmV9ZnVuY3Rpb24gZ3QodCl7dmFyIGU9YSgpO3JldHVybiB0aGlzLmJpdHdpc2VUbyh0LGR0LGUpLGV9ZnVuY3Rpb24gcHQodCxlKXtyZXR1cm4gdCZ+ZX1mdW5jdGlvbiB5dCh0KXt2YXIgZT1hKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHQscHQsZSksZX1mdW5jdGlvbiB2dCgpe2Zvcih2YXIgdD1hKCksZT0wO2U8dGhpcy50OysrZSl0W2VdPXRoaXMuRE0mfnRoaXNbZV07cmV0dXJuIHQudD10aGlzLnQsdC5zPX50aGlzLnMsdH1mdW5jdGlvbiBtdCh0KXt2YXIgZT1hKCk7cmV0dXJuIHQ8MD90aGlzLnJTaGlmdFRvKC10LGUpOnRoaXMubFNoaWZ0VG8odCxlKSxlfWZ1bmN0aW9uIFN0KHQpe3ZhciBlPWEoKTtyZXR1cm4gdDwwP3RoaXMubFNoaWZ0VG8oLXQsZSk6dGhpcy5yU2hpZnRUbyh0LGUpLGV9ZnVuY3Rpb24gYnQodCl7aWYoMD09dClyZXR1cm4tMTt2YXIgZT0wO3JldHVybiAwPT0oNjU1MzUmdCkmJih0Pj49MTYsZSs9MTYpLDA9PSgyNTUmdCkmJih0Pj49OCxlKz04KSwwPT0oMTUmdCkmJih0Pj49NCxlKz00KSwwPT0oMyZ0KSYmKHQ+Pj0yLGUrPTIpLDA9PSgxJnQpJiYrK2UsZX1mdW5jdGlvbiB3dCgpe2Zvcih2YXIgdD0wO3Q8dGhpcy50OysrdClpZigwIT10aGlzW3RdKXJldHVybiB0KnRoaXMuREIrYnQodGhpc1t0XSk7cmV0dXJuIHRoaXMuczwwP3RoaXMudCp0aGlzLkRCOi0xfWZ1bmN0aW9uIEV0KHQpe2Zvcih2YXIgZT0wOzAhPXQ7KXQmPXQtMSwrK2U7cmV0dXJuIGV9ZnVuY3Rpb24gX3QoKXtmb3IodmFyIHQ9MCxlPXRoaXMucyZ0aGlzLkRNLG49MDtuPHRoaXMudDsrK24pdCs9RXQodGhpc1tuXV5lKTtyZXR1cm4gdH1mdW5jdGlvbiB4dCh0KXt2YXIgZT1NYXRoLmZsb29yKHQvdGhpcy5EQik7cmV0dXJuIGU+PXRoaXMudD8wIT10aGlzLnM6MCE9KHRoaXNbZV0mMTw8dCV0aGlzLkRCKX1mdW5jdGlvbiBBdCh0LGUpe3ZhciBuPW8uT05FLnNoaWZ0TGVmdCh0KTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8obixlLG4pLG59ZnVuY3Rpb24gRnQodCl7cmV0dXJuIHRoaXMuY2hhbmdlQml0KHQsZnQpfWZ1bmN0aW9uIFB0KHQpe3JldHVybiB0aGlzLmNoYW5nZUJpdCh0LHB0KX1mdW5jdGlvbiBPdCh0KXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQodCxkdCl9ZnVuY3Rpb24gQ3QodCxlKXtmb3IodmFyIG49MCxyPTAsaT1NYXRoLm1pbih0LnQsdGhpcy50KTtuPGk7KXIrPXRoaXNbbl0rdFtuXSxlW24rK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO2lmKHQudDx0aGlzLnQpe2ZvcihyKz10LnM7bjx0aGlzLnQ7KXIrPXRoaXNbbl0sZVtuKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtyKz10aGlzLnN9ZWxzZXtmb3Iocis9dGhpcy5zO248dC50OylyKz10W25dLGVbbisrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7cis9dC5zfWUucz1yPDA/LTE6MCxyPjA/ZVtuKytdPXI6cjwtMSYmKGVbbisrXT10aGlzLkRWK3IpLGUudD1uLGUuY2xhbXAoKX1mdW5jdGlvbiBUdCh0KXt2YXIgZT1hKCk7cmV0dXJuIHRoaXMuYWRkVG8odCxlKSxlfWZ1bmN0aW9uIER0KHQpe3ZhciBlPWEoKTtyZXR1cm4gdGhpcy5zdWJUbyh0LGUpLGV9ZnVuY3Rpb24gUnQodCl7dmFyIGU9YSgpO3JldHVybiB0aGlzLm11bHRpcGx5VG8odCxlKSxlfWZ1bmN0aW9uIGp0KCl7dmFyIHQ9YSgpO3JldHVybiB0aGlzLnNxdWFyZVRvKHQpLHR9ZnVuY3Rpb24gSHQodCl7dmFyIGU9YSgpO3JldHVybiB0aGlzLmRpdlJlbVRvKHQsZSxudWxsKSxlfWZ1bmN0aW9uIEl0KHQpe3ZhciBlPWEoKTtyZXR1cm4gdGhpcy5kaXZSZW1Ubyh0LG51bGwsZSksZX1mdW5jdGlvbiBrdCh0KXt2YXIgZT1hKCksbj1hKCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8odCxlLG4pLG5ldyBBcnJheShlLG4pfWZ1bmN0aW9uIEJ0KHQpe3RoaXNbdGhpcy50XT10aGlzLmFtKDAsdC0xLHRoaXMsMCwwLHRoaXMudCksKyt0aGlzLnQsdGhpcy5jbGFtcCgpfWZ1bmN0aW9uIE50KHQsZSl7aWYoMCE9dCl7Zm9yKDt0aGlzLnQ8PWU7KXRoaXNbdGhpcy50KytdPTA7Zm9yKHRoaXNbZV0rPXQ7dGhpc1tlXT49dGhpcy5EVjspdGhpc1tlXS09dGhpcy5EViwrK2U+PXRoaXMudCYmKHRoaXNbdGhpcy50KytdPTApLCsrdGhpc1tlXX19ZnVuY3Rpb24gVnQoKXt9ZnVuY3Rpb24gTXQodCl7cmV0dXJuIHR9ZnVuY3Rpb24gS3QodCxlLG4pe3QubXVsdGlwbHlUbyhlLG4pfWZ1bmN0aW9uIEx0KHQsZSl7dC5zcXVhcmVUbyhlKX1mdW5jdGlvbiBVdCh0KXtyZXR1cm4gdGhpcy5leHAodCxuZXcgVnQpfWZ1bmN0aW9uIHF0KHQsZSxuKXt2YXIgcj1NYXRoLm1pbih0aGlzLnQrdC50LGUpO2ZvcihuLnM9MCxuLnQ9cjtyPjA7KW5bLS1yXT0wO3ZhciBpO2ZvcihpPW4udC10aGlzLnQ7cjxpOysrciluW3IrdGhpcy50XT10aGlzLmFtKDAsdFtyXSxuLHIsMCx0aGlzLnQpO2ZvcihpPU1hdGgubWluKHQudCxlKTtyPGk7KytyKXRoaXMuYW0oMCx0W3JdLG4sciwwLGUtcik7bi5jbGFtcCgpfWZ1bmN0aW9uIFd0KHQsZSxuKXstLWU7dmFyIHI9bi50PXRoaXMudCt0LnQtZTtmb3Iobi5zPTA7LS1yPj0wOyluW3JdPTA7Zm9yKHI9TWF0aC5tYXgoZS10aGlzLnQsMCk7cjx0LnQ7KytyKW5bdGhpcy50K3ItZV09dGhpcy5hbShlLXIsdFtyXSxuLDAsMCx0aGlzLnQrci1lKTtuLmNsYW1wKCksbi5kclNoaWZ0VG8oMSxuKX1mdW5jdGlvbiBKdCh0KXt0aGlzLnIyPWEoKSx0aGlzLnEzPWEoKSxvLk9ORS5kbFNoaWZ0VG8oMip0LnQsdGhpcy5yMiksdGhpcy5tdT10aGlzLnIyLmRpdmlkZSh0KSx0aGlzLm09dH1mdW5jdGlvbiB6dCh0KXtpZih0LnM8MHx8dC50PjIqdGhpcy5tLnQpcmV0dXJuIHQubW9kKHRoaXMubSk7aWYodC5jb21wYXJlVG8odGhpcy5tKTwwKXJldHVybiB0O3ZhciBlPWEoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX1mdW5jdGlvbiBZdCh0KXtyZXR1cm4gdH1mdW5jdGlvbiBHdCh0KXtmb3IodC5kclNoaWZ0VG8odGhpcy5tLnQtMSx0aGlzLnIyKSx0LnQ+dGhpcy5tLnQrMSYmKHQudD10aGlzLm0udCsxLHQuY2xhbXAoKSksdGhpcy5tdS5tdWx0aXBseVVwcGVyVG8odGhpcy5yMix0aGlzLm0udCsxLHRoaXMucTMpLHRoaXMubS5tdWx0aXBseUxvd2VyVG8odGhpcy5xMyx0aGlzLm0udCsxLHRoaXMucjIpO3QuY29tcGFyZVRvKHRoaXMucjIpPDA7KXQuZEFkZE9mZnNldCgxLHRoaXMubS50KzEpO2Zvcih0LnN1YlRvKHRoaXMucjIsdCk7dC5jb21wYXJlVG8odGhpcy5tKT49MDspdC5zdWJUbyh0aGlzLm0sdCl9ZnVuY3Rpb24gWHQodCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfWZ1bmN0aW9uICR0KHQsZSxuKXt0Lm11bHRpcGx5VG8oZSxuKSx0aGlzLnJlZHVjZShuKX1mdW5jdGlvbiBRdCh0LGUpe3ZhciBuLHIsaT10LmJpdExlbmd0aCgpLHM9cCgxKTtpZihpPD0wKXJldHVybiBzO249aTwxOD8xOmk8NDg/MzppPDE0ND80Omk8NzY4PzU6NixyPWk8OD9uZXcgaihlKTplLmlzRXZlbigpP25ldyBKdChlKTpuZXcgTShlKTt2YXIgbz1uZXcgQXJyYXksdT0zLGg9bi0xLGM9KDE8PG4pLTE7aWYob1sxXT1yLmNvbnZlcnQodGhpcyksbj4xKXt2YXIgZj1hKCk7Zm9yKHIuc3FyVG8ob1sxXSxmKTt1PD1jOylvW3VdPWEoKSxyLm11bFRvKGYsb1t1LTJdLG9bdV0pLHUrPTJ9dmFyIGwsZCxnPXQudC0xLHk9ITAsdj1hKCk7Zm9yKGk9RSh0W2ddKS0xO2c+PTA7KXtmb3IoaT49aD9sPXRbZ10+PmktaCZjOihsPSh0W2ddJigxPDxpKzEpLTEpPDxoLWksZz4wJiYobHw9dFtnLTFdPj50aGlzLkRCK2ktaCkpLHU9bjswPT0oMSZsKTspbD4+PTEsLS11O2lmKChpLT11KTwwJiYoaSs9dGhpcy5EQiwtLWcpLHkpb1tsXS5jb3B5VG8ocykseT0hMTtlbHNle2Zvcig7dT4xOylyLnNxclRvKHMsdiksci5zcXJUbyh2LHMpLHUtPTI7dT4wP3Iuc3FyVG8ocyx2KTooZD1zLHM9dix2PWQpLHIubXVsVG8odixvW2xdLHMpfWZvcig7Zz49MCYmMD09KHRbZ10mMTw8aSk7KXIuc3FyVG8ocyx2KSxkPXMscz12LHY9ZCwtLWk8MCYmKGk9dGhpcy5EQi0xLC0tZyl9cmV0dXJuIHIucmV2ZXJ0KHMpfWZ1bmN0aW9uIFp0KHQpe3ZhciBlPXRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpcy5jbG9uZSgpLG49dC5zPDA/dC5uZWdhdGUoKTp0LmNsb25lKCk7aWYoZS5jb21wYXJlVG8obik8MCl7dmFyIHI9ZTtlPW4sbj1yfXZhciBpPWUuZ2V0TG93ZXN0U2V0Qml0KCkscz1uLmdldExvd2VzdFNldEJpdCgpO2lmKHM8MClyZXR1cm4gZTtmb3IoaTxzJiYocz1pKSxzPjAmJihlLnJTaGlmdFRvKHMsZSksbi5yU2hpZnRUbyhzLG4pKTtlLnNpZ251bSgpPjA7KShpPWUuZ2V0TG93ZXN0U2V0Qml0KCkpPjAmJmUuclNoaWZ0VG8oaSxlKSwoaT1uLmdldExvd2VzdFNldEJpdCgpKT4wJiZuLnJTaGlmdFRvKGksbiksZS5jb21wYXJlVG8obik+PTA/KGUuc3ViVG8obixlKSxlLnJTaGlmdFRvKDEsZSkpOihuLnN1YlRvKGUsbiksbi5yU2hpZnRUbygxLG4pKTtyZXR1cm4gcz4wJiZuLmxTaGlmdFRvKHMsbiksbn1mdW5jdGlvbiB0ZSh0KXtpZih0PD0wKXJldHVybiAwO3ZhciBlPXRoaXMuRFYldCxuPXRoaXMuczwwP3QtMTowO2lmKHRoaXMudD4wKWlmKDA9PWUpbj10aGlzWzBdJXQ7ZWxzZSBmb3IodmFyIHI9dGhpcy50LTE7cj49MDstLXIpbj0oZSpuK3RoaXNbcl0pJXQ7cmV0dXJuIG59ZnVuY3Rpb24gZWUodCl7dmFyIGU9dC5pc0V2ZW4oKTtpZih0aGlzLmlzRXZlbigpJiZlfHwwPT10LnNpZ251bSgpKXJldHVybiBvLlpFUk87Zm9yKHZhciBuPXQuY2xvbmUoKSxyPXRoaXMuY2xvbmUoKSxpPXAoMSkscz1wKDApLGE9cCgwKSx1PXAoMSk7MCE9bi5zaWdudW0oKTspe2Zvcig7bi5pc0V2ZW4oKTspbi5yU2hpZnRUbygxLG4pLGU/KGkuaXNFdmVuKCkmJnMuaXNFdmVuKCl8fChpLmFkZFRvKHRoaXMsaSkscy5zdWJUbyh0LHMpKSxpLnJTaGlmdFRvKDEsaSkpOnMuaXNFdmVuKCl8fHMuc3ViVG8odCxzKSxzLnJTaGlmdFRvKDEscyk7Zm9yKDtyLmlzRXZlbigpOylyLnJTaGlmdFRvKDEsciksZT8oYS5pc0V2ZW4oKSYmdS5pc0V2ZW4oKXx8KGEuYWRkVG8odGhpcyxhKSx1LnN1YlRvKHQsdSkpLGEuclNoaWZ0VG8oMSxhKSk6dS5pc0V2ZW4oKXx8dS5zdWJUbyh0LHUpLHUuclNoaWZ0VG8oMSx1KTtuLmNvbXBhcmVUbyhyKT49MD8obi5zdWJUbyhyLG4pLGUmJmkuc3ViVG8oYSxpKSxzLnN1YlRvKHUscykpOihyLnN1YlRvKG4sciksZSYmYS5zdWJUbyhpLGEpLHUuc3ViVG8ocyx1KSl9cmV0dXJuIDAhPXIuY29tcGFyZVRvKG8uT05FKT9vLlpFUk86dS5jb21wYXJlVG8odCk+PTA/dS5zdWJ0cmFjdCh0KTp1LnNpZ251bSgpPDA/KHUuYWRkVG8odCx1KSx1LnNpZ251bSgpPDA/dS5hZGQodCk6dSk6dX1mdW5jdGlvbiBuZSh0KXt2YXIgZSxuPXRoaXMuYWJzKCk7aWYoMT09bi50JiZuWzBdPD12clt2ci5sZW5ndGgtMV0pe2ZvcihlPTA7ZTx2ci5sZW5ndGg7KytlKWlmKG5bMF09PXZyW2VdKXJldHVybiEwO3JldHVybiExfWlmKG4uaXNFdmVuKCkpcmV0dXJuITE7Zm9yKGU9MTtlPHZyLmxlbmd0aDspe2Zvcih2YXIgcj12cltlXSxpPWUrMTtpPHZyLmxlbmd0aCYmcjxtcjspcio9dnJbaSsrXTtmb3Iocj1uLm1vZEludChyKTtlPGk7KWlmKHIldnJbZSsrXT09MClyZXR1cm4hMX1yZXR1cm4gbi5taWxsZXJSYWJpbih0KX1mdW5jdGlvbiByZSh0KXt2YXIgZT10aGlzLnN1YnRyYWN0KG8uT05FKSxuPWUuZ2V0TG93ZXN0U2V0Qml0KCk7aWYobjw9MClyZXR1cm4hMTt2YXIgcj1lLnNoaWZ0UmlnaHQobik7dD10KzE+PjEsdD52ci5sZW5ndGgmJih0PXZyLmxlbmd0aCk7Zm9yKHZhciBpPWEoKSxzPTA7czx0Oysrcyl7aS5mcm9tSW50KHZyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp2ci5sZW5ndGgpXSk7dmFyIHU9aS5tb2RQb3cocix0aGlzKTtpZigwIT11LmNvbXBhcmVUbyhvLk9ORSkmJjAhPXUuY29tcGFyZVRvKGUpKXtmb3IodmFyIGg9MTtoKys8biYmMCE9dS5jb21wYXJlVG8oZSk7KWlmKHU9dS5tb2RQb3dJbnQoMix0aGlzKSwwPT11LmNvbXBhcmVUbyhvLk9ORSkpcmV0dXJuITE7aWYoMCE9dS5jb21wYXJlVG8oZSkpcmV0dXJuITF9fXJldHVybiEwfS8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuXHQgKi9cbmZ1bmN0aW9uIGllKCl7dGhpcy5pPTAsdGhpcy5qPTAsdGhpcy5TPW5ldyBBcnJheX1mdW5jdGlvbiBzZSh0KXt2YXIgZSxuLHI7Zm9yKGU9MDtlPDI1NjsrK2UpdGhpcy5TW2VdPWU7Zm9yKG49MCxlPTA7ZTwyNTY7KytlKW49bit0aGlzLlNbZV0rdFtlJXQubGVuZ3RoXSYyNTUscj10aGlzLlNbZV0sdGhpcy5TW2VdPXRoaXMuU1tuXSx0aGlzLlNbbl09cjt0aGlzLmk9MCx0aGlzLmo9MH1mdW5jdGlvbiBvZSgpe3ZhciB0O3JldHVybiB0aGlzLmk9dGhpcy5pKzEmMjU1LHRoaXMuaj10aGlzLmordGhpcy5TW3RoaXMuaV0mMjU1LHQ9dGhpcy5TW3RoaXMuaV0sdGhpcy5TW3RoaXMuaV09dGhpcy5TW3RoaXMual0sdGhpcy5TW3RoaXMual09dCx0aGlzLlNbdCt0aGlzLlNbdGhpcy5pXSYyNTVdfWZ1bmN0aW9uIGFlKCl7cmV0dXJuIG5ldyBpZX1mdW5jdGlvbiB1ZSh0KXticlt3cisrXV49MjU1JnQsYnJbd3IrK11ePXQ+PjgmMjU1LGJyW3dyKytdXj10Pj4xNiYyNTUsYnJbd3IrK11ePXQ+PjI0JjI1NSx3cj49RXImJih3ci09RXIpfWZ1bmN0aW9uIGhlKCl7dWUoKG5ldyBEYXRlKS5nZXRUaW1lKCkpfWZ1bmN0aW9uIGNlKCl7aWYobnVsbD09U3Ipe2ZvcihoZSgpLFNyPWFlKCksU3IuaW5pdChiciksd3I9MDt3cjxici5sZW5ndGg7Kyt3ciliclt3cl09MDt3cj0wfXJldHVybiBTci5uZXh0KCl9ZnVuY3Rpb24gZmUodCl7dmFyIGU7Zm9yKGU9MDtlPHQubGVuZ3RoOysrZSl0W2VdPWNlKCl9ZnVuY3Rpb24gbGUoKXt9LyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG5cdCAqL1xuZnVuY3Rpb24gZGUodCxlKXtyZXR1cm4gbmV3IG8odCxlKX1mdW5jdGlvbiBnZSh0LGUpe2lmKGU8dC5sZW5ndGgrMTEpcmV0dXJuIGFsZXJ0KFwiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBXCIpLG51bGw7Zm9yKHZhciBuPW5ldyBBcnJheSxyPXQubGVuZ3RoLTE7cj49MCYmZT4wOyl7dmFyIGk9dC5jaGFyQ29kZUF0KHItLSk7aTwxMjg/blstLWVdPWk6aT4xMjcmJmk8MjA0OD8oblstLWVdPTYzJml8MTI4LG5bLS1lXT1pPj42fDE5Mik6KG5bLS1lXT02MyZpfDEyOCxuWy0tZV09aT4+NiY2M3wxMjgsblstLWVdPWk+PjEyfDIyNCl9blstLWVdPTA7Zm9yKHZhciBzPW5ldyBsZSxhPW5ldyBBcnJheTtlPjI7KXtmb3IoYVswXT0wOzA9PWFbMF07KXMubmV4dEJ5dGVzKGEpO25bLS1lXT1hWzBdfXJldHVybiBuWy0tZV09MixuWy0tZV09MCxuZXcgbyhuKX1mdW5jdGlvbiBwZSh0LGUsbil7Zm9yKHZhciByPVwiXCIsaT0wO3IubGVuZ3RoPGU7KXIrPW4oU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdC5jb25jYXQoWyg0Mjc4MTkwMDgwJmkpPj4yNCwoMTY3MTE2ODAmaSk+PjE2LCg2NTI4MCZpKT4+OCwyNTUmaV0pKSksaSs9MTtyZXR1cm4gcn1mdW5jdGlvbiB5ZSh0LGUsbil7aWYodC5sZW5ndGgrMipGcisyPmUpdGhyb3dcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiO3ZhciByLGk9XCJcIjtmb3Iocj0wO3I8ZS10Lmxlbmd0aC0yKkZyLTI7cis9MSlpKz1cIlxcMFwiO3ZhciBzPXJzdHJfc2hhMShcIlwiKStpK1wiXHUwMDAxXCIrdCxhPW5ldyBBcnJheShGcik7KG5ldyBsZSkubmV4dEJ5dGVzKGEpO3ZhciB1PXBlKGEscy5sZW5ndGgsbnx8cnN0cl9zaGExKSxoPVtdO2ZvcihyPTA7cjxzLmxlbmd0aDtyKz0xKWhbcl09cy5jaGFyQ29kZUF0KHIpXnUuY2hhckNvZGVBdChyKTt2YXIgYz1wZShoLGEubGVuZ3RoLHJzdHJfc2hhMSksZj1bMF07Zm9yKHI9MDtyPGEubGVuZ3RoO3IrPTEpZltyKzFdPWFbcl1eYy5jaGFyQ29kZUF0KHIpO3JldHVybiBuZXcgbyhmLmNvbmNhdChoKSl9ZnVuY3Rpb24gdmUoKXt0aGlzLm49bnVsbCx0aGlzLmU9MCx0aGlzLmQ9bnVsbCx0aGlzLnA9bnVsbCx0aGlzLnE9bnVsbCx0aGlzLmRtcDE9bnVsbCx0aGlzLmRtcTE9bnVsbCx0aGlzLmNvZWZmPW51bGx9ZnVuY3Rpb24gbWUodCxlKXt0aGlzLmlzUHVibGljPSEwLFwic3RyaW5nXCIhPXR5cGVvZiB0Pyh0aGlzLm49dCx0aGlzLmU9ZSk6bnVsbCE9dCYmbnVsbCE9ZSYmdC5sZW5ndGg+MCYmZS5sZW5ndGg+MD8odGhpcy5uPWRlKHQsMTYpLHRoaXMuZT1wYXJzZUludChlLDE2KSk6YWxlcnQoXCJJbnZhbGlkIFJTQSBwdWJsaWMga2V5XCIpfWZ1bmN0aW9uIFNlKHQpe3JldHVybiB0Lm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKX1mdW5jdGlvbiBiZSh0KXt2YXIgZT1nZSh0LHRoaXMubi5iaXRMZW5ndGgoKSs3Pj4zKTtpZihudWxsPT1lKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZG9QdWJsaWMoZSk7aWYobnVsbD09bilyZXR1cm4gbnVsbDt2YXIgcj1uLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmci5sZW5ndGgpP3I6XCIwXCIrcn1mdW5jdGlvbiB3ZSh0LGUpe3ZhciBuPXllKHQsdGhpcy5uLmJpdExlbmd0aCgpKzc+PjMsZSk7aWYobnVsbD09bilyZXR1cm4gbnVsbDt2YXIgcj10aGlzLmRvUHVibGljKG4pO2lmKG51bGw9PXIpcmV0dXJuIG51bGw7dmFyIGk9ci50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJmkubGVuZ3RoKT9pOlwiMFwiK2l9LyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG5cdCAqL1xuZnVuY3Rpb24gRWUodCxlKXtmb3IodmFyIG49dC50b0J5dGVBcnJheSgpLHI9MDtyPG4ubGVuZ3RoJiYwPT1uW3JdOykrK3I7aWYobi5sZW5ndGgtciE9ZS0xfHwyIT1uW3JdKXJldHVybiBudWxsO2ZvcigrK3I7MCE9bltyXTspaWYoKytyPj1uLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGk9XCJcIjsrK3I8bi5sZW5ndGg7KXt2YXIgcz0yNTUmbltyXTtzPDEyOD9pKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpOnM+MTkxJiZzPDIyND8oaSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmcyk8PDZ8NjMmbltyKzFdKSwrK3IpOihpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZzKTw8MTJ8KDYzJm5bcisxXSk8PDZ8NjMmbltyKzJdKSxyKz0yKX1yZXR1cm4gaX1mdW5jdGlvbiBfZSh0LGUsbil7Zm9yKHZhciByPVwiXCIsaT0wO3IubGVuZ3RoPGU7KXIrPW4odCtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxbKDQyNzgxOTAwODAmaSk+PjI0LCgxNjcxMTY4MCZpKT4+MTYsKDY1MjgwJmkpPj44LDI1NSZpXSkpLGkrPTE7cmV0dXJuIHJ9ZnVuY3Rpb24geGUodCxlLG4pe3Q9dC50b0J5dGVBcnJheSgpO3ZhciByO2ZvcihyPTA7cjx0Lmxlbmd0aDtyKz0xKXRbcl0mPTI1NTtmb3IoO3QubGVuZ3RoPGU7KXQudW5zaGlmdCgwKTtpZih0PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQpLHQubGVuZ3RoPDIqRnIrMil0aHJvd1wiQ2lwaGVyIHRvbyBzaG9ydFwiO3ZhciByLGk9dC5zdWJzdHIoMSxGcikscz10LnN1YnN0cihGcisxKSxvPV9lKHMsRnIsbnx8cnN0cl9zaGExKSxhPVtdO2ZvcihyPTA7cjxpLmxlbmd0aDtyKz0xKWFbcl09aS5jaGFyQ29kZUF0KHIpXm8uY2hhckNvZGVBdChyKTt2YXIgdT1fZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxhKSx0Lmxlbmd0aC1Gcixyc3RyX3NoYTEpLGg9W107Zm9yKHI9MDtyPHMubGVuZ3RoO3IrPTEpaFtyXT1zLmNoYXJDb2RlQXQociledS5jaGFyQ29kZUF0KHIpO2lmKGg9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsaCksaC5zdWJzdHIoMCxGcikhPT1yc3RyX3NoYTEoXCJcIikpdGhyb3dcIkhhc2ggbWlzbWF0Y2hcIjtoPWguc3Vic3RyKEZyKTt2YXIgYz1oLmluZGV4T2YoXCJcdTAwMDFcIiksZj1jIT0tMT9oLnN1YnN0cigwLGMpLmxhc3RJbmRleE9mKFwiXFwwXCIpOi0xO2lmKGYrMSE9Yyl0aHJvd1wiTWFsZm9ybWVkIGRhdGFcIjtyZXR1cm4gaC5zdWJzdHIoYysxKX1mdW5jdGlvbiBBZSh0LGUsbil7dGhpcy5pc1ByaXZhdGU9ITAsXCJzdHJpbmdcIiE9dHlwZW9mIHQ/KHRoaXMubj10LHRoaXMuZT1lLHRoaXMuZD1uKTpudWxsIT10JiZudWxsIT1lJiZ0Lmxlbmd0aD4wJiZlLmxlbmd0aD4wPyh0aGlzLm49ZGUodCwxNiksdGhpcy5lPXBhcnNlSW50KGUsMTYpLHRoaXMuZD1kZShuLDE2KSk6YWxlcnQoXCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleVwiKX1mdW5jdGlvbiBGZSh0LGUsbixyLGkscyxvLGEpe2lmKHRoaXMuaXNQcml2YXRlPSEwLG51bGw9PXQpdGhyb3dcIlJTQVNldFByaXZhdGVFeCBOID09IG51bGxcIjtpZihudWxsPT1lKXRocm93XCJSU0FTZXRQcml2YXRlRXggRSA9PSBudWxsXCI7aWYoMD09dC5sZW5ndGgpdGhyb3dcIlJTQVNldFByaXZhdGVFeCBOLmxlbmd0aCA9PSAwXCI7aWYoMD09ZS5sZW5ndGgpdGhyb3dcIlJTQVNldFByaXZhdGVFeCBFLmxlbmd0aCA9PSAwXCI7bnVsbCE9dCYmbnVsbCE9ZSYmdC5sZW5ndGg+MCYmZS5sZW5ndGg+MD8odGhpcy5uPWRlKHQsMTYpLHRoaXMuZT1wYXJzZUludChlLDE2KSx0aGlzLmQ9ZGUobiwxNiksdGhpcy5wPWRlKHIsMTYpLHRoaXMucT1kZShpLDE2KSx0aGlzLmRtcDE9ZGUocywxNiksdGhpcy5kbXExPWRlKG8sMTYpLHRoaXMuY29lZmY9ZGUoYSwxNikpOmFsZXJ0KFwiSW52YWxpZCBSU0EgcHJpdmF0ZSBrZXkgaW4gUlNBU2V0UHJpdmF0ZUV4XCIpfWZ1bmN0aW9uIFBlKHQsZSl7dmFyIG49bmV3IGxlLHI9dD4+MTt0aGlzLmU9cGFyc2VJbnQoZSwxNik7Zm9yKHZhciBpPW5ldyBvKGUsMTYpOzspe2Zvcig7dGhpcy5wPW5ldyBvKHQtciwxLG4pLDAhPXRoaXMucC5zdWJ0cmFjdChvLk9ORSkuZ2NkKGkpLmNvbXBhcmVUbyhvLk9ORSl8fCF0aGlzLnAuaXNQcm9iYWJsZVByaW1lKDEwKTspO2Zvcig7dGhpcy5xPW5ldyBvKHIsMSxuKSwwIT10aGlzLnEuc3VidHJhY3Qoby5PTkUpLmdjZChpKS5jb21wYXJlVG8oby5PTkUpfHwhdGhpcy5xLmlzUHJvYmFibGVQcmltZSgxMCk7KTtpZih0aGlzLnAuY29tcGFyZVRvKHRoaXMucSk8PTApe3ZhciBzPXRoaXMucDt0aGlzLnA9dGhpcy5xLHRoaXMucT1zfXZhciBhPXRoaXMucC5zdWJ0cmFjdChvLk9ORSksdT10aGlzLnEuc3VidHJhY3Qoby5PTkUpLGg9YS5tdWx0aXBseSh1KTtpZigwPT1oLmdjZChpKS5jb21wYXJlVG8oby5PTkUpKXt0aGlzLm49dGhpcy5wLm11bHRpcGx5KHRoaXMucSksdGhpcy5kPWkubW9kSW52ZXJzZShoKSx0aGlzLmRtcDE9dGhpcy5kLm1vZChhKSx0aGlzLmRtcTE9dGhpcy5kLm1vZCh1KSx0aGlzLmNvZWZmPXRoaXMucS5tb2RJbnZlcnNlKHRoaXMucCk7YnJlYWt9fX1mdW5jdGlvbiBPZSh0KXtpZihudWxsPT10aGlzLnB8fG51bGw9PXRoaXMucSlyZXR1cm4gdC5tb2RQb3codGhpcy5kLHRoaXMubik7Zm9yKHZhciBlPXQubW9kKHRoaXMucCkubW9kUG93KHRoaXMuZG1wMSx0aGlzLnApLG49dC5tb2QodGhpcy5xKS5tb2RQb3codGhpcy5kbXExLHRoaXMucSk7ZS5jb21wYXJlVG8obik8MDspZT1lLmFkZCh0aGlzLnApO3JldHVybiBlLnN1YnRyYWN0KG4pLm11bHRpcGx5KHRoaXMuY29lZmYpLm1vZCh0aGlzLnApLm11bHRpcGx5KHRoaXMucSkuYWRkKG4pfWZ1bmN0aW9uIENlKHQpe3ZhciBlPWRlKHQsMTYpLG49dGhpcy5kb1ByaXZhdGUoZSk7cmV0dXJuIG51bGw9PW4/bnVsbDpFZShuLHRoaXMubi5iaXRMZW5ndGgoKSs3Pj4zKX1mdW5jdGlvbiBUZSh0LGUpe3ZhciBuPWRlKHQsMTYpLHI9dGhpcy5kb1ByaXZhdGUobik7cmV0dXJuIG51bGw9PXI/bnVsbDp4ZShyLHRoaXMubi5iaXRMZW5ndGgoKSs3Pj4zLGUpfS8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuXHQgKi9cbmZ1bmN0aW9uIERlKHQsZSl7dGhpcy54PWUsdGhpcy5xPXR9ZnVuY3Rpb24gUmUodCl7cmV0dXJuIHQ9PXRoaXN8fHRoaXMucS5lcXVhbHModC5xKSYmdGhpcy54LmVxdWFscyh0LngpfWZ1bmN0aW9uIGplKCl7cmV0dXJuIHRoaXMueH1mdW5jdGlvbiBIZSgpe3JldHVybiBuZXcgRGUodGhpcy5xLHRoaXMueC5uZWdhdGUoKS5tb2QodGhpcy5xKSl9ZnVuY3Rpb24gSWUodCl7cmV0dXJuIG5ldyBEZSh0aGlzLnEsdGhpcy54LmFkZCh0LnRvQmlnSW50ZWdlcigpKS5tb2QodGhpcy5xKSl9ZnVuY3Rpb24ga2UodCl7cmV0dXJuIG5ldyBEZSh0aGlzLnEsdGhpcy54LnN1YnRyYWN0KHQudG9CaWdJbnRlZ2VyKCkpLm1vZCh0aGlzLnEpKX1mdW5jdGlvbiBCZSh0KXtyZXR1cm4gbmV3IERlKHRoaXMucSx0aGlzLngubXVsdGlwbHkodC50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpfWZ1bmN0aW9uIE5lKCl7cmV0dXJuIG5ldyBEZSh0aGlzLnEsdGhpcy54LnNxdWFyZSgpLm1vZCh0aGlzLnEpKX1mdW5jdGlvbiBWZSh0KXtyZXR1cm4gbmV3IERlKHRoaXMucSx0aGlzLngubXVsdGlwbHkodC50b0JpZ0ludGVnZXIoKS5tb2RJbnZlcnNlKHRoaXMucSkpLm1vZCh0aGlzLnEpKX1mdW5jdGlvbiBNZSh0LGUsbixyKXt0aGlzLmN1cnZlPXQsdGhpcy54PWUsdGhpcy55PW4sbnVsbD09cj90aGlzLno9by5PTkU6dGhpcy56PXIsdGhpcy56aW52PW51bGx9ZnVuY3Rpb24gS2UoKXtyZXR1cm4gbnVsbD09dGhpcy56aW52JiYodGhpcy56aW52PXRoaXMuei5tb2RJbnZlcnNlKHRoaXMuY3VydmUucSkpLHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIodGhpcy54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMuemludikubW9kKHRoaXMuY3VydmUucSkpfWZ1bmN0aW9uIExlKCl7cmV0dXJuIG51bGw9PXRoaXMuemludiYmKHRoaXMuemludj10aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnEpKSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHRoaXMueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnppbnYpLm1vZCh0aGlzLmN1cnZlLnEpKX1mdW5jdGlvbiBVZSh0KXtpZih0PT10aGlzKXJldHVybiEwO2lmKHRoaXMuaXNJbmZpbml0eSgpKXJldHVybiB0LmlzSW5maW5pdHkoKTtpZih0LmlzSW5maW5pdHkoKSlyZXR1cm4gdGhpcy5pc0luZmluaXR5KCk7dmFyIGUsbjtyZXR1cm4gZT10LnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodC56KSkubW9kKHRoaXMuY3VydmUucSksISFlLmVxdWFscyhvLlpFUk8pJiYobj10LngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodC56KSkubW9kKHRoaXMuY3VydmUucSksbi5lcXVhbHMoby5aRVJPKSl9ZnVuY3Rpb24gcWUoKXtyZXR1cm4gbnVsbD09dGhpcy54JiZudWxsPT10aGlzLnl8fHRoaXMuei5lcXVhbHMoby5aRVJPKSYmIXRoaXMueS50b0JpZ0ludGVnZXIoKS5lcXVhbHMoby5aRVJPKX1mdW5jdGlvbiBXZSgpe3JldHVybiBuZXcgTWUodGhpcy5jdXJ2ZSx0aGlzLngsdGhpcy55Lm5lZ2F0ZSgpLHRoaXMueil9ZnVuY3Rpb24gSmUodCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHQ7aWYodC5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7dmFyIGU9dC55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHQueikpLm1vZCh0aGlzLmN1cnZlLnEpLG49dC54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHQueikpLm1vZCh0aGlzLmN1cnZlLnEpO2lmKG8uWkVSTy5lcXVhbHMobikpcmV0dXJuIG8uWkVSTy5lcXVhbHMoZSk/dGhpcy50d2ljZSgpOnRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTt2YXIgcj1uZXcgbyhcIjNcIiksaT10aGlzLngudG9CaWdJbnRlZ2VyKCkscz10aGlzLnkudG9CaWdJbnRlZ2VyKCksYT0odC54LnRvQmlnSW50ZWdlcigpLHQueS50b0JpZ0ludGVnZXIoKSxuLnNxdWFyZSgpKSx1PWEubXVsdGlwbHkobiksaD1pLm11bHRpcGx5KGEpLGM9ZS5zcXVhcmUoKS5tdWx0aXBseSh0aGlzLnopLGY9Yy5zdWJ0cmFjdChoLnNoaWZ0TGVmdCgxKSkubXVsdGlwbHkodC56KS5zdWJ0cmFjdCh1KS5tdWx0aXBseShuKS5tb2QodGhpcy5jdXJ2ZS5xKSxsPWgubXVsdGlwbHkocikubXVsdGlwbHkoZSkuc3VidHJhY3Qocy5tdWx0aXBseSh1KSkuc3VidHJhY3QoYy5tdWx0aXBseShlKSkubXVsdGlwbHkodC56KS5hZGQoZS5tdWx0aXBseSh1KSkubW9kKHRoaXMuY3VydmUucSksZD11Lm11bHRpcGx5KHRoaXMueikubXVsdGlwbHkodC56KS5tb2QodGhpcy5jdXJ2ZS5xKTtyZXR1cm4gbmV3IE1lKHRoaXMuY3VydmUsdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihmKSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKGwpLGQpfWZ1bmN0aW9uIHplKCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09dGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIHQ9bmV3IG8oXCIzXCIpLGU9dGhpcy54LnRvQmlnSW50ZWdlcigpLG49dGhpcy55LnRvQmlnSW50ZWdlcigpLHI9bi5tdWx0aXBseSh0aGlzLnopLGk9ci5tdWx0aXBseShuKS5tb2QodGhpcy5jdXJ2ZS5xKSxzPXRoaXMuY3VydmUuYS50b0JpZ0ludGVnZXIoKSxhPWUuc3F1YXJlKCkubXVsdGlwbHkodCk7by5aRVJPLmVxdWFscyhzKXx8KGE9YS5hZGQodGhpcy56LnNxdWFyZSgpLm11bHRpcGx5KHMpKSksYT1hLm1vZCh0aGlzLmN1cnZlLnEpO3ZhciB1PWEuc3F1YXJlKCkuc3VidHJhY3QoZS5zaGlmdExlZnQoMykubXVsdGlwbHkoaSkpLnNoaWZ0TGVmdCgxKS5tdWx0aXBseShyKS5tb2QodGhpcy5jdXJ2ZS5xKSxoPWEubXVsdGlwbHkodCkubXVsdGlwbHkoZSkuc3VidHJhY3QoaS5zaGlmdExlZnQoMSkpLnNoaWZ0TGVmdCgyKS5tdWx0aXBseShpKS5zdWJ0cmFjdChhLnNxdWFyZSgpLm11bHRpcGx5KGEpKS5tb2QodGhpcy5jdXJ2ZS5xKSxjPXIuc3F1YXJlKCkubXVsdGlwbHkocikuc2hpZnRMZWZ0KDMpLm1vZCh0aGlzLmN1cnZlLnEpO3JldHVybiBuZXcgTWUodGhpcy5jdXJ2ZSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHUpLHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIoaCksYyl9ZnVuY3Rpb24gWWUodCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09dC5zaWdudW0oKSlyZXR1cm4gdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpO3ZhciBlLG49dCxyPW4ubXVsdGlwbHkobmV3IG8oXCIzXCIpKSxpPXRoaXMubmVnYXRlKCkscz10aGlzO2ZvcihlPXIuYml0TGVuZ3RoKCktMjtlPjA7LS1lKXtzPXMudHdpY2UoKTt2YXIgYT1yLnRlc3RCaXQoZSksdT1uLnRlc3RCaXQoZSk7YSE9dSYmKHM9cy5hZGQoYT90aGlzOmkpKX1yZXR1cm4gc31mdW5jdGlvbiBHZSh0LGUsbil7dmFyIHI7cj10LmJpdExlbmd0aCgpPm4uYml0TGVuZ3RoKCk/dC5iaXRMZW5ndGgoKS0xOm4uYml0TGVuZ3RoKCktMTtmb3IodmFyIGk9dGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpLHM9dGhpcy5hZGQoZSk7cj49MDspaT1pLnR3aWNlKCksdC50ZXN0Qml0KHIpP2k9bi50ZXN0Qml0KHIpP2kuYWRkKHMpOmkuYWRkKHRoaXMpOm4udGVzdEJpdChyKSYmKGk9aS5hZGQoZSkpLC0tcjtyZXR1cm4gaX1mdW5jdGlvbiBYZSh0LGUsbil7dGhpcy5xPXQsdGhpcy5hPXRoaXMuZnJvbUJpZ0ludGVnZXIoZSksdGhpcy5iPXRoaXMuZnJvbUJpZ0ludGVnZXIobiksdGhpcy5pbmZpbml0eT1uZXcgTWUodGhpcyxudWxsLG51bGwpfWZ1bmN0aW9uICRlKCl7cmV0dXJuIHRoaXMucX1mdW5jdGlvbiBRZSgpe3JldHVybiB0aGlzLmF9ZnVuY3Rpb24gWmUoKXtyZXR1cm4gdGhpcy5ifWZ1bmN0aW9uIHRuKHQpe3JldHVybiB0PT10aGlzfHx0aGlzLnEuZXF1YWxzKHQucSkmJnRoaXMuYS5lcXVhbHModC5hKSYmdGhpcy5iLmVxdWFscyh0LmIpfWZ1bmN0aW9uIGVuKCl7cmV0dXJuIHRoaXMuaW5maW5pdHl9ZnVuY3Rpb24gbm4odCl7cmV0dXJuIG5ldyBEZSh0aGlzLnEsdCl9ZnVuY3Rpb24gcm4odCl7c3dpdGNoKHBhcnNlSW50KHQuc3Vic3RyKDAsMiksMTYpKXtjYXNlIDA6cmV0dXJuIHRoaXMuaW5maW5pdHk7Y2FzZSAyOmNhc2UgMzpyZXR1cm4gbnVsbDtjYXNlIDQ6Y2FzZSA2OmNhc2UgNzp2YXIgZT0odC5sZW5ndGgtMikvMixuPXQuc3Vic3RyKDIsZSkscj10LnN1YnN0cihlKzIsZSk7cmV0dXJuIG5ldyBNZSh0aGlzLHRoaXMuZnJvbUJpZ0ludGVnZXIobmV3IG8obiwxNikpLHRoaXMuZnJvbUJpZ0ludGVnZXIobmV3IG8ociwxNikpKTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBzbih0KXtmb3IodmFyIGU9bmV3IEFycmF5LG49MDtuPHQubGVuZ3RoO24rKyllW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gZX1mdW5jdGlvbiBvbih0KXtmb3IodmFyIGU9XCJcIixuPTA7bjx0Lmxlbmd0aDtuKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTtyZXR1cm4gZX1mdW5jdGlvbiBhbih0KXtmb3IodmFyIGU9XCJcIixuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0udG9TdHJpbmcoMTYpOzE9PXIubGVuZ3RoJiYocj1cIjBcIityKSxlKz1yfXJldHVybiBlfWZ1bmN0aW9uIHVuKHQpe3JldHVybiBhbihzbih0KSl9ZnVuY3Rpb24gaG4odCl7cmV0dXJuIHIodW4odCkpfWZ1bmN0aW9uIGNuKHQpe3JldHVybiBsbihyKHVuKHQpKSl9ZnVuY3Rpb24gZm4odCl7cmV0dXJuIG9uKHMoZG4odCkpKX1mdW5jdGlvbiBsbih0KXtyZXR1cm4gdD10LnJlcGxhY2UoL1xcPS9nLFwiXCIpLHQ9dC5yZXBsYWNlKC9cXCsvZyxcIi1cIiksdD10LnJlcGxhY2UoL1xcLy9nLFwiX1wiKX1mdW5jdGlvbiBkbih0KXtyZXR1cm4gdC5sZW5ndGglND09Mj90Kz1cIj09XCI6dC5sZW5ndGglND09MyYmKHQrPVwiPVwiKSx0PXQucmVwbGFjZSgvLS9nLFwiK1wiKSx0PXQucmVwbGFjZSgvXy9nLFwiL1wiKX1mdW5jdGlvbiBnbih0KXtyZXR1cm4gdC5sZW5ndGglMj09MSYmKHQ9XCIwXCIrdCksbG4ocih0KSl9ZnVuY3Rpb24gcG4odCl7cmV0dXJuIGkoZG4odCkpfWZ1bmN0aW9uIHluKHQpe3JldHVybiByKF9uKEFuKHQpKSl9ZnVuY3Rpb24gdm4odCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh4bihpKHQpKSl9ZnVuY3Rpb24gbW4odCl7cmV0dXJuIF9uKEFuKHQpKX1mdW5jdGlvbiBTbih0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHhuKHQpKX1mdW5jdGlvbiBibih0KXtmb3IodmFyIGU9XCJcIixuPTA7bjx0Lmxlbmd0aC0xO24rPTIpZSs9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCh0LnN1YnN0cihuLDIpLDE2KSk7cmV0dXJuIGV9ZnVuY3Rpb24gd24odCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dC5sZW5ndGg7bisrKWUrPShcIjBcIit0LmNoYXJDb2RlQXQobikudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIGV9ZnVuY3Rpb24gRW4odCl7cmV0dXJuIHIodCl9ZnVuY3Rpb24gX24odCl7cmV0dXJuIHQucmVwbGFjZSgvJS9nLFwiXCIpfWZ1bmN0aW9uIHhuKHQpe3JldHVybiB0LnJlcGxhY2UoLyguLikvZyxcIiUkMVwiKX1mdW5jdGlvbiBBbih0KXtmb3IodmFyIGU9ZW5jb2RlVVJJQ29tcG9uZW50KHQpLG49XCJcIixyPTA7cjxlLmxlbmd0aDtyKyspXCIlXCI9PWVbcl0/KG4rPWUuc3Vic3RyKHIsMykscis9Mik6bj1uK1wiJVwiK3VuKGVbcl0pO3JldHVybiBufWZ1bmN0aW9uIEZuKHQpe3JldHVybiB0PXQucmVwbGFjZSgvXFxyXFxuL2dtLFwiXFxuXCIpfWZ1bmN0aW9uIFBuKHQpe3JldHVybiB0PXQucmVwbGFjZSgvXFxyXFxuL2dtLFwiXFxuXCIpLHQ9dC5yZXBsYWNlKC9cXG4vZ20sXCJcXHJcXG5cIil9ZnVuY3Rpb24gT24odCl7dD10LnJlcGxhY2UoL15cXHMqXFxbXFxzKi8sXCJcIiksdD10LnJlcGxhY2UoL1xccypcXF1cXHMqJC8sXCJcIiksdD10LnJlcGxhY2UoL1xccyovZyxcIlwiKTt0cnl7dmFyIGU9dC5zcGxpdCgvLC8pLm1hcChmdW5jdGlvbih0LGUsbil7dmFyIHI9cGFyc2VJbnQodCk7aWYocjwwfHwyNTU8cil0aHJvd1wiaW50ZWdlciBub3QgaW4gcmFuZ2UgMC0yNTVcIjt2YXIgaT0oXCIwMFwiK3IudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIGl9KS5qb2luKFwiXCIpO3JldHVybiBlfWNhdGNoKHQpe3Rocm93XCJtYWxmb3JtZWQgaW50ZWdlciBhcnJheSBzdHJpbmc6IFwiK3R9fS8qISByc2FwZW0tMS4xLmpzIChjKSAyMDEyIEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG5cdCAqL1xuZnVuY3Rpb24gQ24odCl7dmFyIGU9dDtyZXR1cm4gZT1lLnJlcGxhY2UoXCItLS0tLUJFR0lOIFJTQSBQUklWQVRFIEtFWS0tLS0tXCIsXCJcIiksZT1lLnJlcGxhY2UoXCItLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLVwiLFwiXCIpLGU9ZS5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIil9ZnVuY3Rpb24gVG4odCl7dmFyIGU9bmV3IEFycmF5LG49T3IuZ2V0U3RhcnRQb3NPZlZfQXRPYmoodCwwKSxyPU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxuKSxpPU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxyKSxzPU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxpKSxvPU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxzKSxhPU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxvKSx1PU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxhKSxoPU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCx1KSxjPU9yLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxoKTtyZXR1cm4gZS5wdXNoKG4scixpLHMsbyxhLHUsaCxjKSxlfWZ1bmN0aW9uIERuKHQpe3ZhciBlPVRuKHQpLG49T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsZVswXSkscj1Pci5nZXRIZXhPZlZfQXRPYmoodCxlWzFdKSxpPU9yLmdldEhleE9mVl9BdE9iaih0LGVbMl0pLHM9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsZVszXSksbz1Pci5nZXRIZXhPZlZfQXRPYmoodCxlWzRdKSxhPU9yLmdldEhleE9mVl9BdE9iaih0LGVbNV0pLHU9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsZVs2XSksaD1Pci5nZXRIZXhPZlZfQXRPYmoodCxlWzddKSxjPU9yLmdldEhleE9mVl9BdE9iaih0LGVbOF0pLGY9bmV3IEFycmF5O3JldHVybiBmLnB1c2gobixyLGkscyxvLGEsdSxoLGMpLGZ9ZnVuY3Rpb24gUm4odCl7dmFyIGU9RG4odCk7dGhpcy5zZXRQcml2YXRlRXgoZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0sZVs3XSxlWzhdKX1mdW5jdGlvbiBqbih0KXt2YXIgZT1Dbih0KSxuPWkoZSkscj1EbihuKTt0aGlzLnNldFByaXZhdGVFeChyWzFdLHJbMl0sclszXSxyWzRdLHJbNV0scls2XSxyWzddLHJbOF0pfWZ1bmN0aW9uIEhuKHQsZSl7Zm9yKHZhciBuPVwiXCIscj1lLzQtdC5sZW5ndGgsaT0wO2k8cjtpKyspbis9XCIwXCI7cmV0dXJuIG4rdH1mdW5jdGlvbiBJbih0LGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiBDci5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKHQsZSl9LHI9bih0KTtyZXR1cm4gdGhpcy5zaWduV2l0aE1lc3NhZ2VIYXNoKHIsZSl9ZnVuY3Rpb24ga24odCxlKXt2YXIgbj1Dci5jcnlwdG8uVXRpbC5nZXRQYWRkZWREaWdlc3RJbmZvSGV4KHQsZSx0aGlzLm4uYml0TGVuZ3RoKCkpLHI9ZGUobiwxNiksaT10aGlzLmRvUHJpdmF0ZShyKSxzPWkudG9TdHJpbmcoMTYpO3JldHVybiBIbihzLHRoaXMubi5iaXRMZW5ndGgoKSl9ZnVuY3Rpb24gQm4odCl7cmV0dXJuIEluLmNhbGwodGhpcyx0LFwic2hhMVwiKX1mdW5jdGlvbiBObih0KXtyZXR1cm4gSW4uY2FsbCh0aGlzLHQsXCJzaGEyNTZcIil9ZnVuY3Rpb24gVm4odCxlLG4pe2Zvcih2YXIgcj1cIlwiLGk9MDtyLmxlbmd0aDxlOylyKz1ibihuKHduKHQrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsWyg0Mjc4MTkwMDgwJmkpPj4yNCwoMTY3MTE2ODAmaSk+PjE2LCg2NTI4MCZpKT4+OCwyNTUmaV0pKSkpLGkrPTE7cmV0dXJuIHJ9ZnVuY3Rpb24gTW4odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBDci5jcnlwdG8uVXRpbC5oYXNoSGV4KHQsZSl9LGk9cih3bih0KSk7cmV0dXJuIHZvaWQgMD09PW4mJihuPS0xKSx0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2hQU1MoaSxlLG4pfWZ1bmN0aW9uIEtuKHQsZSxuKXt2YXIgcixpPWJuKHQpLHM9aS5sZW5ndGgsYT10aGlzLm4uYml0TGVuZ3RoKCktMSx1PU1hdGguY2VpbChhLzgpLGg9ZnVuY3Rpb24odCl7cmV0dXJuIENyLmNyeXB0by5VdGlsLmhhc2hIZXgodCxlKX07aWYobj09PS0xfHx2b2lkIDA9PT1uKW49cztlbHNlIGlmKG49PT0tMiluPXUtcy0yO2Vsc2UgaWYobjwtMil0aHJvd1wiaW52YWxpZCBzYWx0IGxlbmd0aFwiO2lmKHU8cytuKzIpdGhyb3dcImRhdGEgdG9vIGxvbmdcIjt2YXIgYz1cIlwiO24+MCYmKGM9bmV3IEFycmF5KG4pLChuZXcgbGUpLm5leHRCeXRlcyhjKSxjPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGMpKTt2YXIgZj1ibihoKHduKFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCIraStjKSkpLGw9W107Zm9yKHI9MDtyPHUtbi1zLTI7cis9MSlsW3JdPTA7dmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbCkrXCJcdTAwMDFcIitjLGc9Vm4oZixkLmxlbmd0aCxoKSxwPVtdO2ZvcihyPTA7cjxkLmxlbmd0aDtyKz0xKXBbcl09ZC5jaGFyQ29kZUF0KHIpXmcuY2hhckNvZGVBdChyKTt2YXIgeT02NTI4MD4+OCp1LWEmMjU1O2ZvcihwWzBdJj1+eSxyPTA7cjxzO3IrKylwLnB1c2goZi5jaGFyQ29kZUF0KHIpKTtyZXR1cm4gcC5wdXNoKDE4OCksSG4odGhpcy5kb1ByaXZhdGUobmV3IG8ocCkpLnRvU3RyaW5nKDE2KSx0aGlzLm4uYml0TGVuZ3RoKCkpfWZ1bmN0aW9uIExuKHQsZSxuKXt2YXIgcj1uZXcgdmU7ci5zZXRQdWJsaWMoZSxuKTt2YXIgaT1yLmRvUHVibGljKHQpO3JldHVybiBpfWZ1bmN0aW9uIFVuKHQsZSxuKXt2YXIgcj1Mbih0LGUsbiksaT1yLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMWYrMDAvLFwiXCIpO3JldHVybiBpfWZ1bmN0aW9uIHFuKHQpe2Zvcih2YXIgZSBpbiBDci5jcnlwdG8uVXRpbC5ESUdFU1RJTkZPSEVBRCl7dmFyIG49Q3IuY3J5cHRvLlV0aWwuRElHRVNUSU5GT0hFQURbZV0scj1uLmxlbmd0aDtpZih0LnN1YnN0cmluZygwLHIpPT1uKXt2YXIgaT1bZSx0LnN1YnN0cmluZyhyKV07cmV0dXJuIGl9fXJldHVybltdfWZ1bmN0aW9uIFduKHQsZSxuLHIpe3ZhciBpPVVuKGUsbixyKSxzPXFuKGkpO2lmKDA9PXMubGVuZ3RoKXJldHVybiExO3ZhciBvPXNbMF0sYT1zWzFdLHU9ZnVuY3Rpb24odCl7cmV0dXJuIENyLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcodCxvKX0saD11KHQpO3JldHVybiBhPT1ofWZ1bmN0aW9uIEpuKHQsZSl7dmFyIG49ZGUodCwxNikscj1XbihlLG4sdGhpcy5uLnRvU3RyaW5nKDE2KSx0aGlzLmUudG9TdHJpbmcoMTYpKTtyZXR1cm4gcn1mdW5jdGlvbiB6bih0LGUpe2U9ZS5yZXBsYWNlKElyLFwiXCIpLGU9ZS5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIik7dmFyIG49ZGUoZSwxNik7aWYobi5iaXRMZW5ndGgoKT50aGlzLm4uYml0TGVuZ3RoKCkpcmV0dXJuIDA7dmFyIHI9dGhpcy5kb1B1YmxpYyhuKSxpPXIudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIikscz1xbihpKTtpZigwPT1zLmxlbmd0aClyZXR1cm4hMTt2YXIgbz1zWzBdLGE9c1sxXSx1PWZ1bmN0aW9uKHQpe3JldHVybiBDci5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKHQsbyl9LGg9dSh0KTtyZXR1cm4gYT09aH1mdW5jdGlvbiBZbih0LGUpe2U9ZS5yZXBsYWNlKElyLFwiXCIpLGU9ZS5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIik7dmFyIG49ZGUoZSwxNik7aWYobi5iaXRMZW5ndGgoKT50aGlzLm4uYml0TGVuZ3RoKCkpcmV0dXJuIDA7dmFyIHI9dGhpcy5kb1B1YmxpYyhuKSxpPXIudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIikscz1xbihpKTtpZigwPT1zLmxlbmd0aClyZXR1cm4hMTt2YXIgbz0oc1swXSxzWzFdKTtyZXR1cm4gbz09dH1mdW5jdGlvbiBHbih0LGUsbixyKXt2YXIgaT1mdW5jdGlvbih0KXtyZXR1cm4gQ3IuY3J5cHRvLlV0aWwuaGFzaEhleCh0LG4pfSxzPWkod24odCkpO3JldHVybiB2b2lkIDA9PT1yJiYocj0tMSksdGhpcy52ZXJpZnlXaXRoTWVzc2FnZUhhc2hQU1MocyxlLG4scil9ZnVuY3Rpb24gWG4odCxlLG4scil7dmFyIGk9bmV3IG8oZSwxNik7aWYoaS5iaXRMZW5ndGgoKT50aGlzLm4uYml0TGVuZ3RoKCkpcmV0dXJuITE7dmFyIHMsYT1mdW5jdGlvbih0KXtyZXR1cm4gQ3IuY3J5cHRvLlV0aWwuaGFzaEhleCh0LG4pfSx1PWJuKHQpLGg9dS5sZW5ndGgsYz10aGlzLm4uYml0TGVuZ3RoKCktMSxmPU1hdGguY2VpbChjLzgpO2lmKHI9PT0tMXx8dm9pZCAwPT09cilyPWg7ZWxzZSBpZihyPT09LTIpcj1mLWgtMjtlbHNlIGlmKHI8LTIpdGhyb3dcImludmFsaWQgc2FsdCBsZW5ndGhcIjtpZihmPGgrcisyKXRocm93XCJkYXRhIHRvbyBsb25nXCI7dmFyIGw9dGhpcy5kb1B1YmxpYyhpKS50b0J5dGVBcnJheSgpO2ZvcihzPTA7czxsLmxlbmd0aDtzKz0xKWxbc10mPTI1NTtmb3IoO2wubGVuZ3RoPGY7KWwudW5zaGlmdCgwKTtpZigxODghPT1sW2YtMV0pdGhyb3dcImVuY29kZWQgbWVzc2FnZSBkb2VzIG5vdCBlbmQgaW4gMHhiY1wiO2w9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbCk7dmFyIGQ9bC5zdWJzdHIoMCxmLWgtMSksZz1sLnN1YnN0cihkLmxlbmd0aCxoKSxwPTY1MjgwPj44KmYtYyYyNTU7aWYoMCE9PShkLmNoYXJDb2RlQXQoMCkmcCkpdGhyb3dcImJpdHMgYmV5b25kIGtleXNpemUgbm90IHplcm9cIjt2YXIgeT1WbihnLGQubGVuZ3RoLGEpLHY9W107Zm9yKHM9MDtzPGQubGVuZ3RoO3MrPTEpdltzXT1kLmNoYXJDb2RlQXQocyleeS5jaGFyQ29kZUF0KHMpO3ZbMF0mPX5wO3ZhciBtPWYtaC1yLTI7Zm9yKHM9MDtzPG07cys9MSlpZigwIT09dltzXSl0aHJvd1wibGVmdG1vc3Qgb2N0ZXRzIG5vdCB6ZXJvXCI7aWYoMSE9PXZbbV0pdGhyb3dcIjB4MDEgbWFya2VyIG5vdCBmb3VuZFwiO3JldHVybiBnPT09Ym4oYSh3bihcIlxcMFxcMFxcMFxcMFxcMFxcMFxcMFxcMFwiK3UrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdi5zbGljZSgtcikpKSkpfS8qISB4NTA5LTEuMS45LmpzIChjKSAyMDEyLTIwMTYgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2Vcblx0ICovXG5mdW5jdGlvbiAkbigpe3RoaXMuc3ViamVjdFB1YmxpY0tleVJTQT1udWxsLHRoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oTj1udWxsLHRoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oRT1udWxsLHRoaXMuaGV4PW51bGwsdGhpcy5nZXRTZXJpYWxOdW1iZXJIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gT3IuZ2V0RGVjZW5kYW50SGV4VkJ5TnRoTGlzdCh0aGlzLmhleCwwLFswLDFdKX0sdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1GaWVsZD1mdW5jdGlvbigpe3ZhciB0PU9yLmdldERlY2VuZGFudEhleFZCeU50aExpc3QodGhpcy5oZXgsMCxbMCwyLDBdKSxlPUNyLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQodCksbj1Dci5hc24xLng1MDkuT0lELm9pZDJuYW1lKGUpO3JldHVybiBufSx0aGlzLmdldElzc3VlckhleD1mdW5jdGlvbigpe3JldHVybiBPci5nZXREZWNlbmRhbnRIZXhUTFZCeU50aExpc3QodGhpcy5oZXgsMCxbMCwzXSl9LHRoaXMuZ2V0SXNzdWVyU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICRuLmhleDJkbihPci5nZXREZWNlbmRhbnRIZXhUTFZCeU50aExpc3QodGhpcy5oZXgsMCxbMCwzXSkpfSx0aGlzLmdldFN1YmplY3RIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gT3IuZ2V0RGVjZW5kYW50SGV4VExWQnlOdGhMaXN0KHRoaXMuaGV4LDAsWzAsNV0pfSx0aGlzLmdldFN1YmplY3RTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gJG4uaGV4MmRuKE9yLmdldERlY2VuZGFudEhleFRMVkJ5TnRoTGlzdCh0aGlzLmhleCwwLFswLDVdKSl9LHRoaXMuZ2V0Tm90QmVmb3JlPWZ1bmN0aW9uKCl7dmFyIHQ9T3IuZ2V0RGVjZW5kYW50SGV4VkJ5TnRoTGlzdCh0aGlzLmhleCwwLFswLDQsMF0pO3JldHVybiB0PXQucmVwbGFjZSgvKC4uKS9nLFwiJSQxXCIpLHQ9ZGVjb2RlVVJJQ29tcG9uZW50KHQpfSx0aGlzLmdldE5vdEFmdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9T3IuZ2V0RGVjZW5kYW50SGV4VkJ5TnRoTGlzdCh0aGlzLmhleCwwLFswLDQsMV0pO3JldHVybiB0PXQucmVwbGFjZSgvKC4uKS9nLFwiJSQxXCIpLHQ9ZGVjb2RlVVJJQ29tcG9uZW50KHQpfSx0aGlzLnJlYWRDZXJ0UEVNPWZ1bmN0aW9uKHQpe3ZhciBlPSRuLnBlbVRvSGV4KHQpLG49JG4uZ2V0UHVibGljS2V5SGV4QXJyYXlGcm9tQ2VydEhleChlKSxyPW5ldyB2ZTtyLnNldFB1YmxpYyhuWzBdLG5bMV0pLHRoaXMuc3ViamVjdFB1YmxpY0tleVJTQT1yLHRoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oTj1uWzBdLHRoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oRT1uWzFdLHRoaXMuaGV4PWV9LHRoaXMucmVhZENlcnRQRU1XaXRob3V0UlNBSW5pdD1mdW5jdGlvbih0KXt2YXIgZT0kbi5wZW1Ub0hleCh0KSxuPSRuLmdldFB1YmxpY0tleUhleEFycmF5RnJvbUNlcnRIZXgoZSk7dGhpcy5zdWJqZWN0UHVibGljS2V5UlNBLnNldFB1YmxpYyhuWzBdLG5bMV0pLHRoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oTj1uWzBdLHRoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oRT1uWzFdLHRoaXMuaGV4PWV9LHRoaXMuZ2V0SW5mbz1mdW5jdGlvbigpe3ZhciB0PVwiQmFzaWMgRmllbGRzXFxuXCI7dCs9XCIgIHNlcmlhbCBudW1iZXI6IFwiK3RoaXMuZ2V0U2VyaWFsTnVtYmVySGV4KCkrXCJcXG5cIix0Kz1cIiAgc2lnbmF0dXJlIGFsZ29yaXRobTogXCIrdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1GaWVsZCgpK1wiXFxuXCIsdCs9XCIgIGlzc3VlcjogXCIrdGhpcy5nZXRJc3N1ZXJTdHJpbmcoKStcIlxcblwiLHQrPVwiICBub3RCZWZvcmU6IFwiK3RoaXMuZ2V0Tm90QmVmb3JlKCkrXCJcXG5cIix0Kz1cIiAgbm90QWZ0ZXI6IFwiK3RoaXMuZ2V0Tm90QWZ0ZXIoKStcIlxcblwiLHQrPVwiICBzdWJqZWN0OiBcIit0aGlzLmdldFN1YmplY3RTdHJpbmcoKStcIlxcblwiLHQrPVwiICBzdWJqZWN0IHB1YmxpYyBrZXkgaW5mbzogXFxuXCI7dmFyIGU9JG4uZ2V0U3ViamVjdFB1YmxpY0tleUluZm9Qb3NGcm9tQ2VydEhleCh0aGlzLmhleCksbj1Pci5nZXRIZXhPZlRMVl9BdE9iaih0aGlzLmhleCxlKSxyPUhyLmdldEtleShuLG51bGwsXCJwa2NzOHB1YlwiKTtyIGluc3RhbmNlb2YgdmUmJih0Kz1cIiAgICBrZXkgYWxnb3JpdGhtOiBSU0FcXG5cIix0Kz1cIiAgICBuPVwiK3Iubi50b1N0cmluZygxNikuc3Vic3RyKDAsMTYpK1wiLi4uXFxuXCIsdCs9XCIgICAgZT1cIityLmUudG9TdHJpbmcoMTYpK1wiXFxuXCIpLHQrPVwiWDUwOXYzIEV4dGVuc2lvbnM6XFxuXCI7Zm9yKHZhciBpPSRuLmdldFYzRXh0SW5mb0xpc3RPZkNlcnRIZXgodGhpcy5oZXgpLHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIG89aVtzXSxhPUNyLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoby5vaWQpO1wiXCI9PT1hJiYoYT1vLm9pZCk7dmFyIHU9XCJcIjtpZihvLmNyaXRpY2FsPT09ITAmJih1PVwiQ1JJVElDQUxcIiksdCs9XCIgIFwiK2ErXCIgXCIrdStcIjpcXG5cIixcImJhc2ljQ29uc3RyYWludHNcIj09PWEpe3ZhciBoPSRuLmdldEV4dEJhc2ljQ29uc3RyYWludHModGhpcy5oZXgpO3ZvaWQgMD09PWguY0E/dCs9XCIgICAge31cXG5cIjoodCs9XCIgICAgY0E9dHJ1ZVwiLHZvaWQgMCE9PWgucGF0aExlbiYmKHQrPVwiLCBwYXRoTGVuPVwiK2gucGF0aExlbiksdCs9XCJcXG5cIil9ZWxzZSBpZihcImtleVVzYWdlXCI9PT1hKXQrPVwiICAgIFwiKyRuLmdldEV4dEtleVVzYWdlU3RyaW5nKHRoaXMuaGV4KStcIlxcblwiO2Vsc2UgaWYoXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiPT09YSl0Kz1cIiAgICBcIiskbi5nZXRFeHRTdWJqZWN0S2V5SWRlbnRpZmllcih0aGlzLmhleCkrXCJcXG5cIjtlbHNlIGlmKFwiYXV0aG9yaXR5S2V5SWRlbnRpZmllclwiPT09YSl7dmFyIGM9JG4uZ2V0RXh0QXV0aG9yaXR5S2V5SWRlbnRpZmllcih0aGlzLmhleCk7dm9pZCAwIT09Yy5raWQmJih0Kz1cIiAgICBraWQ9XCIrYy5raWQrXCJcXG5cIil9ZWxzZSBpZihcImV4dEtleVVzYWdlXCI9PT1hKXt2YXIgZj0kbi5nZXRFeHRFeHRLZXlVc2FnZU5hbWUodGhpcy5oZXgpO3QrPVwiICAgIFwiK2Yuam9pbihcIiwgXCIpK1wiXFxuXCJ9ZWxzZSBpZihcInN1YmplY3RBbHROYW1lXCI9PT1hKXt2YXIgbD0kbi5nZXRFeHRTdWJqZWN0QWx0TmFtZSh0aGlzLmhleCk7dCs9XCIgICAgXCIrbC5qb2luKFwiLCBcIikrXCJcXG5cIn1lbHNlIGlmKFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCI9PT1hKXt2YXIgZD0kbi5nZXRFeHRDUkxEaXN0cmlidXRpb25Qb2ludHNVUkkodGhpcy5oZXgpO3QrPVwiICAgIFwiK2QrXCJcXG5cIn1lbHNlIGlmKFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiPT09YSl7dmFyIGc9JG4uZ2V0RXh0QUlBSW5mbyh0aGlzLmhleCk7dm9pZCAwIT09Zy5vY3NwJiYodCs9XCIgICAgb2NzcDogXCIrZy5vY3NwLmpvaW4oXCIsXCIpK1wiXFxuXCIpLHZvaWQgMCE9PWcuY2Fpc3N1ZXImJih0Kz1cIiAgICBjYWlzc3VlcjogXCIrZy5jYWlzc3Vlci5qb2luKFwiLFwiKStcIlxcblwiKX19cmV0dXJuIHQrPVwic2lnbmF0dXJlIGFsZ29yaXRobTogXCIrJG4uZ2V0U2lnbmF0dXJlQWxnb3JpdGhtTmFtZSh0aGlzLmhleCkrXCJcXG5cIix0Kz1cInNpZ25hdHVyZTogXCIrJG4uZ2V0U2lnbmF0dXJlVmFsdWVIZXgodGhpcy5oZXgpLnN1YnN0cigwLDE2KStcIi4uLlxcblwifX0vKiEgbm9kZXV0aWwtMS4wLjAgKGMpIDIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2Vcblx0ICovXG5mdW5jdGlvbiBRbih0KXtyZXR1cm4gbigxNykucmVhZEZpbGVTeW5jKHQsXCJ1dGY4XCIpfWZ1bmN0aW9uIFpuKHQpe3ZhciBlPW4oMTIpLHI9bigxNyk7cmV0dXJuIGUucnN0cnRvaGV4KHIucmVhZEZpbGVTeW5jKHQsXCJiaW5hcnlcIikpfWZ1bmN0aW9uIHRyKHQpe3ZhciBlPW4oMTcpO3JldHVybiBlLnJlYWRGaWxlU3luYyh0LFwiYmluYXJ5XCIpfWZ1bmN0aW9uIGVyKHQsZSl7dmFyIHI9bigxNyk7ci53cml0ZUZpbGVTeW5jKHQsZSxcImJpbmFyeVwiKX1mdW5jdGlvbiBucih0LGUpe3ZhciByPW4oMTcpLGk9bigxMikscz1pLmhleHRvcnN0cihlKTtyLndyaXRlRmlsZVN5bmModCxzLFwiYmluYXJ5XCIpfXZhciBycj17fTtyci51c2VyQWdlbnQ9ITE7dmFyIGlyPXt9O2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzcnx8IXNyKXZhciBzcj17fTtzci5uYW1lc3BhY2U9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scj1hcmd1bWVudHMsaT1udWxsO2Zvcih0PTA7dDxyLmxlbmd0aDt0Kz0xKWZvcihuPShcIlwiK3JbdF0pLnNwbGl0KFwiLlwiKSxpPXNyLGU9XCJZQUhPT1wiPT1uWzBdPzE6MDtlPG4ubGVuZ3RoO2UrPTEpaVtuW2VdXT1pW25bZV1dfHx7fSxpPWlbbltlXV07cmV0dXJuIGl9LHNyLmxvZz1mdW5jdGlvbih0LGUsbil7dmFyIHI9c3Iud2lkZ2V0LkxvZ2dlcjtyZXR1cm4hKCFyfHwhci5sb2cpJiZyLmxvZyh0LGUsbil9LHNyLnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLHMsbyxhLHU9c3IuZW52Lm1vZHVsZXM7Zm9yKHVbdF18fCh1W3RdPXt2ZXJzaW9uczpbXSxidWlsZHM6W119KSxyPXVbdF0saT1uLnZlcnNpb24scz1uLmJ1aWxkLG89c3IuZW52Lmxpc3RlbmVycyxyLm5hbWU9dCxyLnZlcnNpb249aSxyLmJ1aWxkPXMsci52ZXJzaW9ucy5wdXNoKGkpLHIuYnVpbGRzLnB1c2gocyksci5tYWluQ2xhc3M9ZSxhPTA7YTxvLmxlbmd0aDthKz0xKW9bYV0ocik7ZT8oZS5WRVJTSU9OPWksZS5CVUlMRD1zKTpzci5sb2coXCJtYWluQ2xhc3MgaXMgdW5kZWZpbmVkIGZvciBtb2R1bGUgXCIrdCxcIndhcm5cIil9LHNyLmVudj1zci5lbnZ8fHttb2R1bGVzOltdLGxpc3RlbmVyczpbXX0sc3IuZW52LmdldFZlcnNpb249ZnVuY3Rpb24odCl7cmV0dXJuIHNyLmVudi5tb2R1bGVzW3RdfHxudWxsfSxzci5lbnYucGFyc2VVQT1mdW5jdGlvbih0KXt2YXIgZSxuPWZ1bmN0aW9uKHQpe3ZhciBlPTA7cmV0dXJuIHBhcnNlRmxvYXQodC5yZXBsYWNlKC9cXC4vZyxmdW5jdGlvbigpe3JldHVybiAxPT1lKys/XCJcIjpcIi5cIn0pKX0scj1ycixpPXtpZTowLG9wZXJhOjAsZ2Vja286MCx3ZWJraXQ6MCxjaHJvbWU6MCxtb2JpbGU6bnVsbCxhaXI6MCxpcGFkOjAsaXBob25lOjAsaXBvZDowLGlvczpudWxsLGFuZHJvaWQ6MCx3ZWJvczowLGNhamE6ciYmci5jYWphVmVyc2lvbixzZWN1cmU6ITEsb3M6bnVsbH0scz10fHxyciYmcnIudXNlckFnZW50LG89aXImJmlyLmxvY2F0aW9uLGE9byYmby5ocmVmO3JldHVybiBpLnNlY3VyZT1hJiYwPT09YS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJodHRwc1wiKSxzJiYoL3dpbmRvd3N8d2luMzIvaS50ZXN0KHMpP2kub3M9XCJ3aW5kb3dzXCI6L21hY2ludG9zaC9pLnRlc3Qocyk/aS5vcz1cIm1hY2ludG9zaFwiOi9yaGluby9pLnRlc3QocykmJihpLm9zPVwicmhpbm9cIiksL0tIVE1MLy50ZXN0KHMpJiYoaS53ZWJraXQ9MSksZT1zLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhbXlxcc10qKS8pLGUmJmVbMV0mJihpLndlYmtpdD1uKGVbMV0pLC8gTW9iaWxlXFwvLy50ZXN0KHMpPyhpLm1vYmlsZT1cIkFwcGxlXCIsZT1zLm1hdGNoKC9PUyAoW15cXHNdKikvKSxlJiZlWzFdJiYoZT1uKGVbMV0ucmVwbGFjZShcIl9cIixcIi5cIikpKSxpLmlvcz1lLGkuaXBhZD1pLmlwb2Q9aS5pcGhvbmU9MCxlPXMubWF0Y2goL2lQYWR8aVBvZHxpUGhvbmUvKSxlJiZlWzBdJiYoaVtlWzBdLnRvTG93ZXJDYXNlKCldPWkuaW9zKSk6KGU9cy5tYXRjaCgvTm9raWFOW15cXC9dKnxBbmRyb2lkIFxcZFxcLlxcZHx3ZWJPU1xcL1xcZFxcLlxcZC8pLGUmJihpLm1vYmlsZT1lWzBdKSwvd2ViT1MvLnRlc3QocykmJihpLm1vYmlsZT1cIldlYk9TXCIsZT1zLm1hdGNoKC93ZWJPU1xcLyhbXlxcc10qKTsvKSxlJiZlWzFdJiYoaS53ZWJvcz1uKGVbMV0pKSksLyBBbmRyb2lkLy50ZXN0KHMpJiYoaS5tb2JpbGU9XCJBbmRyb2lkXCIsZT1zLm1hdGNoKC9BbmRyb2lkIChbXlxcc10qKTsvKSxlJiZlWzFdJiYoaS5hbmRyb2lkPW4oZVsxXSkpKSksZT1zLm1hdGNoKC9DaHJvbWVcXC8oW15cXHNdKikvKSxlJiZlWzFdP2kuY2hyb21lPW4oZVsxXSk6KGU9cy5tYXRjaCgvQWRvYmVBSVJcXC8oW15cXHNdKikvKSxlJiYoaS5haXI9ZVswXSkpKSxpLndlYmtpdHx8KGU9cy5tYXRjaCgvT3BlcmFbXFxzXFwvXShbXlxcc10qKS8pLGUmJmVbMV0/KGkub3BlcmE9bihlWzFdKSxlPXMubWF0Y2goL1ZlcnNpb25cXC8oW15cXHNdKikvKSxlJiZlWzFdJiYoaS5vcGVyYT1uKGVbMV0pKSxlPXMubWF0Y2goL09wZXJhIE1pbmlbXjtdKi8pLGUmJihpLm1vYmlsZT1lWzBdKSk6KGU9cy5tYXRjaCgvTVNJRVxccyhbXjtdKikvKSxlJiZlWzFdP2kuaWU9bihlWzFdKTooZT1zLm1hdGNoKC9HZWNrb1xcLyhbXlxcc10qKS8pLGUmJihpLmdlY2tvPTEsZT1zLm1hdGNoKC9ydjooW15cXHNcXCldKikvKSxlJiZlWzFdJiYoaS5nZWNrbz1uKGVbMV0pKSkpKSkpLGl9LHNyLmVudi51YT1zci5lbnYucGFyc2VVQSgpLGZ1bmN0aW9uKCl7aWYoc3IubmFtZXNwYWNlKFwidXRpbFwiLFwid2lkZ2V0XCIsXCJleGFtcGxlXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBZQUhPT19jb25maWcpe3ZhciB0LGU9WUFIT09fY29uZmlnLmxpc3RlbmVyLG49c3IuZW52Lmxpc3RlbmVycyxyPSEwO2lmKGUpe2Zvcih0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XT09ZSl7cj0hMTticmVha31yJiZuLnB1c2goZSl9fX0oKSxzci5sYW5nPXNyLmxhbmd8fHt9LGZ1bmN0aW9uKCl7dmFyIHQ9c3IubGFuZyxlPU9iamVjdC5wcm90b3R5cGUsbj1cIltvYmplY3QgQXJyYXldXCIscj1cIltvYmplY3QgRnVuY3Rpb25dXCIsaT1cIltvYmplY3QgT2JqZWN0XVwiLHM9W10sbz17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wiLFwiL1wiOlwiJiN4MkY7XCIsXCJgXCI6XCImI3g2MDtcIn0sYT1bXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXSx1PXtpc0FycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBlLnRvU3RyaW5nLmFwcGx5KHQpPT09bn0saXNCb29sZWFuOmZ1bmN0aW9uKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH0saXNGdW5jdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHxlLnRvU3RyaW5nLmFwcGx5KHQpPT09cn0saXNOdWxsOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dH0saXNOdW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJmlzRmluaXRlKHQpfSxpc09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKFwib2JqZWN0XCI9PXR5cGVvZiBlfHx0LmlzRnVuY3Rpb24oZSkpfHwhMX0saXNTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9LGlzVW5kZWZpbmVkOmZ1bmN0aW9uKHQpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB0fSxfSUVFbnVtRml4OnNyLmVudi51YS5pZT9mdW5jdGlvbihuLHIpe3ZhciBpLHMsbztmb3IoaT0wO2k8YS5sZW5ndGg7aSs9MSlzPWFbaV0sbz1yW3NdLHQuaXNGdW5jdGlvbihvKSYmbyE9ZVtzXSYmKG5bc109byl9OmZ1bmN0aW9uKCl7fSxlc2NhcGVIVE1MOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1smPD5cIidcXC9gXS9nLGZ1bmN0aW9uKHQpe3JldHVybiBvW3RdfSl9LGV4dGVuZDpmdW5jdGlvbihuLHIsaSl7aWYoIXJ8fCFuKXRocm93IG5ldyBFcnJvcihcImV4dGVuZCBmYWlsZWQsIHBsZWFzZSBjaGVjayB0aGF0IGFsbCBkZXBlbmRlbmNpZXMgYXJlIGluY2x1ZGVkLlwiKTt2YXIgcyxvPWZ1bmN0aW9uKCl7fTtpZihvLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuLnByb3RvdHlwZT1uZXcgbyxuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1uLG4uc3VwZXJjbGFzcz1yLnByb3RvdHlwZSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj09ZS5jb25zdHJ1Y3RvciYmKHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXIpLGkpe2ZvcihzIGluIGkpdC5oYXNPd25Qcm9wZXJ0eShpLHMpJiYobi5wcm90b3R5cGVbc109aVtzXSk7dC5fSUVFbnVtRml4KG4ucHJvdG90eXBlLGkpfX0sYXVnbWVudE9iamVjdDpmdW5jdGlvbihlLG4pe2lmKCFufHwhZSl0aHJvdyBuZXcgRXJyb3IoXCJBYnNvcmIgZmFpbGVkLCB2ZXJpZnkgZGVwZW5kZW5jaWVzLlwiKTt2YXIgcixpLHM9YXJndW1lbnRzLG89c1syXTtpZihvJiZvIT09ITApZm9yKHI9MjtyPHMubGVuZ3RoO3IrPTEpZVtzW3JdXT1uW3Nbcl1dO2Vsc2V7Zm9yKGkgaW4gbikhbyYmaSBpbiBlfHwoZVtpXT1uW2ldKTt0Ll9JRUVudW1GaXgoZSxuKX1yZXR1cm4gZX0sYXVnbWVudFByb3RvOmZ1bmN0aW9uKGUsbil7aWYoIW58fCFlKXRocm93IG5ldyBFcnJvcihcIkF1Z21lbnQgZmFpbGVkLCB2ZXJpZnkgZGVwZW5kZW5jaWVzLlwiKTt2YXIgcixpPVtlLnByb3RvdHlwZSxuLnByb3RvdHlwZV07Zm9yKHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cis9MSlpLnB1c2goYXJndW1lbnRzW3JdKTtyZXR1cm4gdC5hdWdtZW50T2JqZWN0LmFwcGx5KHRoaXMsaSksZX0sZHVtcDpmdW5jdGlvbihlLG4pe3ZhciByLGkscz1bXSxvPVwiey4uLn1cIixhPVwiZigpey4uLn1cIix1PVwiLCBcIixoPVwiID0+IFwiO2lmKCF0LmlzT2JqZWN0KGUpKXJldHVybiBlK1wiXCI7aWYoZSBpbnN0YW5jZW9mIERhdGV8fFwibm9kZVR5cGVcImluIGUmJlwidGFnTmFtZVwiaW4gZSlyZXR1cm4gZTtpZih0LmlzRnVuY3Rpb24oZSkpcmV0dXJuIGE7aWYobj10LmlzTnVtYmVyKG4pP246Myx0LmlzQXJyYXkoZSkpe2ZvcihzLnB1c2goXCJbXCIpLHI9MCxpPWUubGVuZ3RoO3I8aTtyKz0xKXQuaXNPYmplY3QoZVtyXSk/cy5wdXNoKG4+MD90LmR1bXAoZVtyXSxuLTEpOm8pOnMucHVzaChlW3JdKSxzLnB1c2godSk7cy5sZW5ndGg+MSYmcy5wb3AoKSxzLnB1c2goXCJdXCIpfWVsc2V7cy5wdXNoKFwie1wiKTtmb3IociBpbiBlKXQuaGFzT3duUHJvcGVydHkoZSxyKSYmKHMucHVzaChyK2gpLHQuaXNPYmplY3QoZVtyXSk/cy5wdXNoKG4+MD90LmR1bXAoZVtyXSxuLTEpOm8pOnMucHVzaChlW3JdKSxzLnB1c2godSkpO3MubGVuZ3RoPjEmJnMucG9wKCkscy5wdXNoKFwifVwiKX1yZXR1cm4gcy5qb2luKFwiXCIpfSxzdWJzdGl0dXRlOmZ1bmN0aW9uKGUsbixyLHMpe2Zvcih2YXIgbyxhLHUsaCxjLGYsbCxkLGcscD1bXSx5PWUubGVuZ3RoLHY9XCJkdW1wXCIsbT1cIiBcIixTPVwie1wiLGI9XCJ9XCI7KG89ZS5sYXN0SW5kZXhPZihTLHkpLCEobzwwKSkmJihhPWUuaW5kZXhPZihiLG8pLCEobysxPmEpKTspbD1lLnN1YnN0cmluZyhvKzEsYSksaD1sLGY9bnVsbCx1PWguaW5kZXhPZihtKSx1Pi0xJiYoZj1oLnN1YnN0cmluZyh1KzEpLGg9aC5zdWJzdHJpbmcoMCx1KSksYz1uW2hdLHImJihjPXIoaCxjLGYpKSx0LmlzT2JqZWN0KGMpP3QuaXNBcnJheShjKT9jPXQuZHVtcChjLHBhcnNlSW50KGYsMTApKTooZj1mfHxcIlwiLGQ9Zi5pbmRleE9mKHYpLGQ+LTEmJihmPWYuc3Vic3RyaW5nKDQpKSxnPWMudG9TdHJpbmcoKSxjPWc9PT1pfHxkPi0xP3QuZHVtcChjLHBhcnNlSW50KGYsMTApKTpnKTp0LmlzU3RyaW5nKGMpfHx0LmlzTnVtYmVyKGMpfHwoYz1cIn4tXCIrcC5sZW5ndGgrXCItflwiLHBbcC5sZW5ndGhdPWwpLGU9ZS5zdWJzdHJpbmcoMCxvKStjK2Uuc3Vic3RyaW5nKGErMSkscz09PSExJiYoeT1vLTEpO2ZvcihvPXAubGVuZ3RoLTE7bz49MDtvLT0xKWU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJ+LVwiK28rXCItflwiKSxcIntcIitwW29dK1wifVwiLFwiZ1wiKTtyZXR1cm4gZX0sdHJpbTpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIHQucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX1jYXRjaChlKXtyZXR1cm4gdH19LG1lcmdlOmZ1bmN0aW9uKCl7dmFyIGUsbj17fSxyPWFyZ3VtZW50cyxpPXIubGVuZ3RoO2ZvcihlPTA7ZTxpO2UrPTEpdC5hdWdtZW50T2JqZWN0KG4scltlXSwhMCk7cmV0dXJuIG59LGxhdGVyOmZ1bmN0aW9uKGUsbixyLGksbyl7ZT1lfHwwLG49bnx8e307dmFyIGEsdSxoPXIsYz1pO2lmKHQuaXNTdHJpbmcocikmJihoPW5bcl0pLCFoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtZXRob2QgdW5kZWZpbmVkXCIpO3JldHVybiB0LmlzVW5kZWZpbmVkKGkpfHx0LmlzQXJyYXkoYyl8fChjPVtpXSksYT1mdW5jdGlvbigpe2guYXBwbHkobixjfHxzKX0sdT1vP3NldEludGVydmFsKGEsZSk6c2V0VGltZW91dChhLGUpLHtpbnRlcnZhbDpvLGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaW50ZXJ2YWw/Y2xlYXJJbnRlcnZhbCh1KTpjbGVhclRpbWVvdXQodSl9fX0saXNWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc09iamVjdChlKXx8dC5pc1N0cmluZyhlKXx8dC5pc051bWJlcihlKXx8dC5pc0Jvb2xlYW4oZSl9fTt0Lmhhc093blByb3BlcnR5PWUuaGFzT3duUHJvcGVydHk/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5oYXNPd25Qcm9wZXJ0eSYmdC5oYXNPd25Qcm9wZXJ0eShlKX06ZnVuY3Rpb24oZSxuKXtyZXR1cm4hdC5pc1VuZGVmaW5lZChlW25dKSYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbbl0hPT1lW25dfSx1LmF1Z21lbnRPYmplY3QodCx1LCEwKSxzci51dGlsLkxhbmc9dCx0LmF1Z21lbnQ9dC5hdWdtZW50UHJvdG8sc3IuYXVnbWVudD10LmF1Z21lbnRQcm90byxzci5leHRlbmQ9dC5leHRlbmR9KCksc3IucmVnaXN0ZXIoXCJ5YWhvb1wiLHNyLHt2ZXJzaW9uOlwiMi45LjBcIixidWlsZDpcIjI4MDBcIn0pOy8qISBDcnlwdG9KUyB2My4xLjIgY29yZS1maXguanNcblx0ICogY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzXG5cdCAqIChjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlXG5cdCAqIFRISVMgSVMgRklYIG9mICdjb3JlLmpzJyB0byBmaXggSG1hYyBpc3N1ZS5cblx0ICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvaXNzdWVzL2RldGFpbD9pZD04NFxuXHQgKiBodHRwczovL2NyeXB0by1qcy5nb29nbGVjb2RlLmNvbS9zdm4taGlzdG9yeS9yNjY3L2JyYW5jaGVzLzMueC9zcmMvY29yZS5qc1xuXHQgKi9cbnZhciBvcj1vcnx8ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxyPW4ubGliPXt9LGk9ci5CYXNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm57ZXh0ZW5kOmZ1bmN0aW9uKGUpe3QucHJvdG90eXBlPXRoaXM7dmFyIG49bmV3IHQ7cmV0dXJuIGUmJm4ubWl4SW4oZSksbi5oYXNPd25Qcm9wZXJ0eShcImluaXRcIil8fChuLmluaXQ9ZnVuY3Rpb24oKXtuLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG4uaW5pdC5wcm90b3R5cGU9bixuLiRzdXBlcj10aGlzLG59LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXh0ZW5kKCk7cmV0dXJuIHQuaW5pdC5hcHBseSh0LGFyZ3VtZW50cyksdH0saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXNbZV09dFtlXSk7dC5oYXNPd25Qcm9wZXJ0eShcInRvU3RyaW5nXCIpJiYodGhpcy50b1N0cmluZz10LnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fX0oKSxzPXIuV29yZEFycmF5PWkuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsbil7dD10aGlzLndvcmRzPXR8fFtdLG4hPWU/dGhpcy5zaWdCeXRlcz1uOnRoaXMuc2lnQnl0ZXM9NCp0Lmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuKHR8fGEpLnN0cmluZ2lmeSh0aGlzKX0sY29uY2F0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud29yZHMsbj10LndvcmRzLHI9dGhpcy5zaWdCeXRlcyxpPXQuc2lnQnl0ZXM7aWYodGhpcy5jbGFtcCgpLHIlNClmb3IodmFyIHM9MDtzPGk7cysrKXt2YXIgbz1uW3M+Pj4yXT4+PjI0LXMlNCo4JjI1NTtlW3Ircz4+PjJdfD1vPDwyNC0ocitzKSU0Kjh9ZWxzZSBmb3IodmFyIHM9MDtzPGk7cys9NCllW3Ircz4+PjJdPW5bcz4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1pLHRoaXN9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53b3JkcyxuPXRoaXMuc2lnQnl0ZXM7ZVtuPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLW4lNCo4LGUubGVuZ3RoPXQuY2VpbChuLzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PWkuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLHR9LHJhbmRvbTpmdW5jdGlvbihlKXtmb3IodmFyIG49W10scj0wO3I8ZTtyKz00KW4ucHVzaCg0Mjk0OTY3Mjk2KnQucmFuZG9tKCl8MCk7cmV0dXJuIG5ldyBzLmluaXQobixlKX19KSxvPW4uZW5jPXt9LGE9by5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC53b3JkcyxuPXQuc2lnQnl0ZXMscj1bXSxpPTA7aTxuO2krKyl7dmFyIHM9ZVtpPj4+Ml0+Pj4yNC1pJTQqOCYyNTU7ci5wdXNoKChzPj4+NCkudG9TdHJpbmcoMTYpKSxyLnB1c2goKDE1JnMpLnRvU3RyaW5nKDE2KSl9cmV0dXJuIHIuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLG49W10scj0wO3I8ZTtyKz0yKW5bcj4+PjNdfD1wYXJzZUludCh0LnN1YnN0cihyLDIpLDE2KTw8MjQtciU4KjQ7cmV0dXJuIG5ldyBzLmluaXQobixlLzIpfX0sdT1vLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLG49dC5zaWdCeXRlcyxyPVtdLGk9MDtpPG47aSsrKXt2YXIgcz1lW2k+Pj4yXT4+PjI0LWklNCo4JjI1NTtyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzKSl9cmV0dXJuIHIuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLG49W10scj0wO3I8ZTtyKyspbltyPj4+Ml18PSgyNTUmdC5jaGFyQ29kZUF0KHIpKTw8MjQtciU0Kjg7cmV0dXJuIG5ldyBzLmluaXQobixlKX19LGg9by5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHUuc3RyaW5naWZ5KHQpKSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFVURi04IGRhdGFcIil9fSxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4gdS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpKX19LGM9ci5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtPWkuZXh0ZW5kKHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RhdGE9bmV3IHMuaW5pdCx0aGlzLl9uRGF0YUJ5dGVzPTB9LF9hcHBlbmQ6ZnVuY3Rpb24odCl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWgucGFyc2UodCkpLHRoaXMuX2RhdGEuY29uY2F0KHQpLHRoaXMuX25EYXRhQnl0ZXMrPXQuc2lnQnl0ZXN9LF9wcm9jZXNzOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuX2RhdGEscj1uLndvcmRzLGk9bi5zaWdCeXRlcyxvPXRoaXMuYmxvY2tTaXplLGE9NCpvLHU9aS9hO3U9ZT90LmNlaWwodSk6dC5tYXgoKDB8dSktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTt2YXIgaD11Km8sYz10Lm1pbig0KmgsaSk7aWYoaCl7Zm9yKHZhciBmPTA7ZjxoO2YrPW8pdGhpcy5fZG9Qcm9jZXNzQmxvY2socixmKTt2YXIgbD1yLnNwbGljZSgwLGgpO24uc2lnQnl0ZXMtPWN9cmV0dXJuIG5ldyBzLmluaXQobCxjKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1pLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpLHR9LF9taW5CdWZmZXJTaXplOjB9KSxmPShyLkhhc2hlcj1jLmV4dGVuZCh7Y2ZnOmkuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbih0KXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQodCksdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe2MucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXBwZW5kKHQpLHRoaXMuX3Byb2Nlc3MoKSx0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbih0KXt0JiZ0aGlzLl9hcHBlbmQodCk7dmFyIGU9dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiBlfSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IHQuaW5pdChuKS5maW5hbGl6ZShlKX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgZi5ITUFDLmluaXQodCxuKS5maW5hbGl6ZShlKX19fSksbi5hbGdvPXt9KTtyZXR1cm4gbn0oTWF0aCk7IWZ1bmN0aW9uKHQpe3ZhciBlPW9yLG49ZS5saWIscj1uLkJhc2UsaT1uLldvcmRBcnJheSxlPWUueDY0PXt9O2UuV29yZD1yLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuaGlnaD10LHRoaXMubG93PWV9fSksZS5Xb3JkQXJyYXk9ci5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSxuKXtlPXRoaXMud29yZHM9ZXx8W10sdGhpcy5zaWdCeXRlcz1uIT10P246OCplLmxlbmd0aH0sdG9YMzI6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy53b3JkcyxlPXQubGVuZ3RoLG49W10scj0wO3I8ZTtyKyspe3ZhciBzPXRbcl07bi5wdXNoKHMuaGlnaCksbi5wdXNoKHMubG93KX1yZXR1cm4gaS5jcmVhdGUobix0aGlzLnNpZ0J5dGVzKX0sY2xvbmU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ci5jbG9uZS5jYWxsKHRoaXMpLGU9dC53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLG49ZS5sZW5ndGgsaT0wO2k8bjtpKyspZVtpXT1lW2ldLmNsb25lKCk7cmV0dXJuIHR9fSl9KCksb3IubGliLkNpcGhlcnx8ZnVuY3Rpb24odCl7dmFyIGU9b3Isbj1lLmxpYixyPW4uQmFzZSxpPW4uV29yZEFycmF5LHM9bi5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtLG89ZS5lbmMuQmFzZTY0LGE9ZS5hbGdvLkV2cEtERix1PW4uQ2lwaGVyPXMuZXh0ZW5kKHtjZmc6ci5leHRlbmQoKSxjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsdCxlKX0sY3JlYXRlRGVjcnlwdG9yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLHQsZSl9LGluaXQ6ZnVuY3Rpb24odCxlLG4pe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChuKSx0aGlzLl94Zm9ybU1vZGU9dCx0aGlzLl9rZXk9ZSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7cy5yZXNldC5jYWxsKHRoaXMpLHRoaXMuX2RvUmVzZXQoKX0scHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXBwZW5kKHQpLHRoaXMuX3Byb2Nlc3MoKX0sZmluYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2FwcGVuZCh0KSx0aGlzLl9kb0ZpbmFsaXplKCl9LGtleVNpemU6NCxpdlNpemU6NCxfRU5DX1hGT1JNX01PREU6MSxfREVDX1hGT1JNX01PREU6MixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIG4/ZzpkKS5lbmNyeXB0KHQsZSxuLHIpfSxkZWNyeXB0OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIG4/ZzpkKS5kZWNyeXB0KHQsZSxuLHIpfX19fSk7bi5TdHJlYW1DaXBoZXI9dS5leHRlbmQoe19kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3MoITApfSxibG9ja1NpemU6MX0pO3ZhciBoPWUubW9kZT17fSxjPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10aGlzLl9pdjtpP3RoaXMuX2l2PXQ6aT10aGlzLl9wcmV2QmxvY2s7Zm9yKHZhciBzPTA7czxyO3MrKyllW24rc11ePWlbc119LGY9KG4uQmxvY2tDaXBoZXJNb2RlPXIuZXh0ZW5kKHtjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5FbmNyeXB0b3IuY3JlYXRlKHQsZSl9LGNyZWF0ZURlY3J5cHRvcjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUodCxlKX0saW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX2NpcGhlcj10LHRoaXMuX2l2PWV9fSkpLmV4dGVuZCgpO2YuRW5jcnlwdG9yPWYuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jaXBoZXIscj1uLmJsb2NrU2l6ZTtjLmNhbGwodGhpcyx0LGUsciksbi5lbmNyeXB0QmxvY2sodCxlKSx0aGlzLl9wcmV2QmxvY2s9dC5zbGljZShlLGUrcil9fSksZi5EZWNyeXB0b3I9Zi5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NpcGhlcixyPW4uYmxvY2tTaXplLGk9dC5zbGljZShlLGUrcik7bi5kZWNyeXB0QmxvY2sodCxlKSxjLmNhbGwodGhpcyx0LGUsciksdGhpcy5fcHJldkJsb2NrPWl9fSksaD1oLkNCQz1mLGY9KGUucGFkPXt9KS5Qa2NzNz17cGFkOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTQqZSxuPW4tdC5zaWdCeXRlcyVuLHI9bjw8MjR8bjw8MTZ8bjw8OHxuLHM9W10sbz0wO288bjtvKz00KXMucHVzaChyKTtuPWkuY3JlYXRlKHMsbiksdC5jb25jYXQobil9LHVucGFkOmZ1bmN0aW9uKHQpe3Quc2lnQnl0ZXMtPTI1NSZ0LndvcmRzW3Quc2lnQnl0ZXMtMT4+PjJdfX0sbi5CbG9ja0NpcGhlcj11LmV4dGVuZCh7Y2ZnOnUuY2ZnLmV4dGVuZCh7bW9kZTpoLHBhZGRpbmc6Zn0pLHJlc2V0OmZ1bmN0aW9uKCl7dS5yZXNldC5jYWxsKHRoaXMpO3ZhciB0PXRoaXMuY2ZnLGU9dC5pdix0PXQubW9kZTtpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXZhciBuPXQuY3JlYXRlRW5jcnlwdG9yO2Vsc2Ugbj10LmNyZWF0ZURlY3J5cHRvcix0aGlzLl9taW5CdWZmZXJTaXplPTE7dGhpcy5fbW9kZT1uLmNhbGwodCx0aGlzLGUmJmUud29yZHMpfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt0aGlzLl9tb2RlLnByb2Nlc3NCbG9jayh0LGUpfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY2ZnLnBhZGRpbmc7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl7dC5wYWQodGhpcy5fZGF0YSx0aGlzLmJsb2NrU2l6ZSk7dmFyIGU9dGhpcy5fcHJvY2VzcyghMCl9ZWxzZSBlPXRoaXMuX3Byb2Nlc3MoITApLHQudW5wYWQoZSk7cmV0dXJuIGV9LGJsb2NrU2l6ZTo0fSk7dmFyIGw9bi5DaXBoZXJQYXJhbXM9ci5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dGhpcy5taXhJbih0KX0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuKHR8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fSksaD0oZS5mb3JtYXQ9e30pLk9wZW5TU0w9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXt2YXIgZT10LmNpcGhlcnRleHQ7cmV0dXJuIHQ9dC5zYWx0LCh0P2kuY3JlYXRlKFsxMzk4ODkzNjg0LDE3MDEwNzY4MzFdKS5jb25jYXQodCkuY29uY2F0KGUpOmUpLnRvU3RyaW5nKG8pfSxwYXJzZTpmdW5jdGlvbih0KXt0PW8ucGFyc2UodCk7dmFyIGU9dC53b3JkcztpZigxMzk4ODkzNjg0PT1lWzBdJiYxNzAxMDc2ODMxPT1lWzFdKXt2YXIgbj1pLmNyZWF0ZShlLnNsaWNlKDIsNCkpO2Uuc3BsaWNlKDAsNCksdC5zaWdCeXRlcy09MTZ9cmV0dXJuIGwuY3JlYXRlKHtjaXBoZXJ0ZXh0OnQsc2FsdDpufSl9fSxkPW4uU2VyaWFsaXphYmxlQ2lwaGVyPXIuZXh0ZW5kKHtjZmc6ci5leHRlbmQoe2Zvcm1hdDpofSksZW5jcnlwdDpmdW5jdGlvbih0LGUsbixyKXtyPXRoaXMuY2ZnLmV4dGVuZChyKTt2YXIgaT10LmNyZWF0ZUVuY3J5cHRvcihuLHIpO3JldHVybiBlPWkuZmluYWxpemUoZSksaT1pLmNmZyxsLmNyZWF0ZSh7Y2lwaGVydGV4dDplLGtleTpuLGl2OmkuaXYsYWxnb3JpdGhtOnQsbW9kZTppLm1vZGUscGFkZGluZzppLnBhZGRpbmcsYmxvY2tTaXplOnQuYmxvY2tTaXplLGZvcm1hdHRlcjpyLmZvcm1hdH0pfSxkZWNyeXB0OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByPXRoaXMuY2ZnLmV4dGVuZChyKSxlPXRoaXMuX3BhcnNlKGUsci5mb3JtYXQpLHQuY3JlYXRlRGVjcnlwdG9yKG4scikuZmluYWxpemUoZS5jaXBoZXJ0ZXh0KX0sX3BhcnNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/ZS5wYXJzZSh0LHRoaXMpOnR9fSksZT0oZS5rZGY9e30pLk9wZW5TU0w9e2V4ZWN1dGU6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHJ8fChyPWkucmFuZG9tKDgpKSx0PWEuY3JlYXRlKHtrZXlTaXplOmUrbn0pLmNvbXB1dGUodCxyKSxuPWkuY3JlYXRlKHQud29yZHMuc2xpY2UoZSksNCpuKSx0LnNpZ0J5dGVzPTQqZSxsLmNyZWF0ZSh7a2V5OnQsaXY6bixzYWx0OnJ9KX19LGc9bi5QYXNzd29yZEJhc2VkQ2lwaGVyPWQuZXh0ZW5kKHtjZmc6ZC5jZmcuZXh0ZW5kKHtrZGY6ZX0pLGVuY3J5cHQ6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHI9dGhpcy5jZmcuZXh0ZW5kKHIpLG49ci5rZGYuZXhlY3V0ZShuLHQua2V5U2l6ZSx0Lml2U2l6ZSksci5pdj1uLml2LHQ9ZC5lbmNyeXB0LmNhbGwodGhpcyx0LGUsbi5rZXksciksdC5taXhJbihuKSx0fSxkZWNyeXB0OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByPXRoaXMuY2ZnLmV4dGVuZChyKSxlPXRoaXMuX3BhcnNlKGUsci5mb3JtYXQpLG49ci5rZGYuZXhlY3V0ZShuLHQua2V5U2l6ZSx0Lml2U2l6ZSxlLnNhbHQpLHIuaXY9bi5pdixkLmRlY3J5cHQuY2FsbCh0aGlzLHQsZSxuLmtleSxyKX19KX0oKSxmdW5jdGlvbigpe2Zvcih2YXIgdD1vcixlPXQubGliLkJsb2NrQ2lwaGVyLG49dC5hbGdvLHI9W10saT1bXSxzPVtdLG89W10sYT1bXSx1PVtdLGg9W10sYz1bXSxmPVtdLGw9W10sZD1bXSxnPTA7MjU2Pmc7ZysrKWRbZ109MTI4Pmc/Zzw8MTpnPDwxXjI4Mztmb3IodmFyIHA9MCx5PTAsZz0wOzI1Nj5nO2crKyl7dmFyIHY9eV55PDwxXnk8PDJeeTw8M155PDw0LHY9dj4+PjheMjU1JnZeOTk7cltwXT12LGlbdl09cDt2YXIgbT1kW3BdLFM9ZFttXSxiPWRbU10sdz0yNTcqZFt2XV4xNjg0MzAwOCp2O3NbcF09dzw8MjR8dz4+Pjgsb1twXT13PDwxNnx3Pj4+MTYsYVtwXT13PDw4fHc+Pj4yNCx1W3BdPXcsdz0xNjg0MzAwOSpiXjY1NTM3KlNeMjU3Km1eMTY4NDMwMDgqcCxoW3ZdPXc8PDI0fHc+Pj44LGNbdl09dzw8MTZ8dz4+PjE2LGZbdl09dzw8OHx3Pj4+MjQsbFt2XT13LHA/KHA9bV5kW2RbZFtiXm1dXV0seV49ZFtkW3ldXSk6cD15PTF9dmFyIEU9WzAsMSwyLDQsOCwxNiwzMiw2NCwxMjgsMjcsNTRdLG49bi5BRVM9ZS5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2tleSxlPXQud29yZHMsbj10LnNpZ0J5dGVzLzQsdD00KigodGhpcy5fblJvdW5kcz1uKzYpKzEpLGk9dGhpcy5fa2V5U2NoZWR1bGU9W10scz0wO3M8dDtzKyspaWYoczxuKWlbc109ZVtzXTtlbHNle3ZhciBvPWlbcy0xXTtzJW4/NjxuJiY0PT1zJW4mJihvPXJbbz4+PjI0XTw8MjR8cltvPj4+MTYmMjU1XTw8MTZ8cltvPj4+OCYyNTVdPDw4fHJbMjU1Jm9dKToobz1vPDw4fG8+Pj4yNCxvPXJbbz4+PjI0XTw8MjR8cltvPj4+MTYmMjU1XTw8MTZ8cltvPj4+OCYyNTVdPDw4fHJbMjU1Jm9dLG9ePUVbcy9ufDBdPDwyNCksaVtzXT1pW3Mtbl1eb31mb3IoZT10aGlzLl9pbnZLZXlTY2hlZHVsZT1bXSxuPTA7bjx0O24rKylzPXQtbixvPW4lND9pW3NdOmlbcy00XSxlW25dPTQ+bnx8ND49cz9vOmhbcltvPj4+MjRdXV5jW3Jbbz4+PjE2JjI1NV1dXmZbcltvPj4+OCYyNTVdXV5sW3JbMjU1Jm9dXX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9DcnlwdEJsb2NrKHQsZSx0aGlzLl9rZXlTY2hlZHVsZSxzLG8sYSx1LHIpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgbj10W2UrMV07dFtlKzFdPXRbZSszXSx0W2UrM109bix0aGlzLl9kb0NyeXB0QmxvY2sodCxlLHRoaXMuX2ludktleVNjaGVkdWxlLGgsYyxmLGwsaSksbj10W2UrMV0sdFtlKzFdPXRbZSszXSx0W2UrM109bn0sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbih0LGUsbixyLGkscyxvLGEpe2Zvcih2YXIgdT10aGlzLl9uUm91bmRzLGg9dFtlXV5uWzBdLGM9dFtlKzFdXm5bMV0sZj10W2UrMl1eblsyXSxsPXRbZSszXV5uWzNdLGQ9NCxnPTE7Zzx1O2crKyl2YXIgcD1yW2g+Pj4yNF1eaVtjPj4+MTYmMjU1XV5zW2Y+Pj44JjI1NV1eb1syNTUmbF1ebltkKytdLHk9cltjPj4+MjRdXmlbZj4+PjE2JjI1NV1ec1tsPj4+OCYyNTVdXm9bMjU1JmhdXm5bZCsrXSx2PXJbZj4+PjI0XV5pW2w+Pj4xNiYyNTVdXnNbaD4+PjgmMjU1XV5vWzI1NSZjXV5uW2QrK10sbD1yW2w+Pj4yNF1eaVtoPj4+MTYmMjU1XV5zW2M+Pj44JjI1NV1eb1syNTUmZl1ebltkKytdLGg9cCxjPXksZj12O3A9KGFbaD4+PjI0XTw8MjR8YVtjPj4+MTYmMjU1XTw8MTZ8YVtmPj4+OCYyNTVdPDw4fGFbMjU1JmxdKV5uW2QrK10seT0oYVtjPj4+MjRdPDwyNHxhW2Y+Pj4xNiYyNTVdPDwxNnxhW2w+Pj44JjI1NV08PDh8YVsyNTUmaF0pXm5bZCsrXSx2PShhW2Y+Pj4yNF08PDI0fGFbbD4+PjE2JjI1NV08PDE2fGFbaD4+PjgmMjU1XTw8OHxhWzI1NSZjXSlebltkKytdLGw9KGFbbD4+PjI0XTw8MjR8YVtoPj4+MTYmMjU1XTw8MTZ8YVtjPj4+OCYyNTVdPDw4fGFbMjU1JmZdKV5uW2QrK10sdFtlXT1wLHRbZSsxXT15LHRbZSsyXT12LHRbZSszXT1sfSxrZXlTaXplOjh9KTt0LkFFUz1lLl9jcmVhdGVIZWxwZXIobil9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49KHRoaXMuX2xCbG9jaz4+PnRedGhpcy5fckJsb2NrKSZlO3RoaXMuX3JCbG9ja149bix0aGlzLl9sQmxvY2tePW48PHR9ZnVuY3Rpb24gZSh0LGUpe3ZhciBuPSh0aGlzLl9yQmxvY2s+Pj50XnRoaXMuX2xCbG9jaykmZTt0aGlzLl9sQmxvY2tePW4sdGhpcy5fckJsb2NrXj1uPDx0fXZhciBuPW9yLHI9bi5saWIsaT1yLldvcmRBcnJheSxyPXIuQmxvY2tDaXBoZXIscz1uLmFsZ28sbz1bNTcsNDksNDEsMzMsMjUsMTcsOSwxLDU4LDUwLDQyLDM0LDI2LDE4LDEwLDIsNTksNTEsNDMsMzUsMjcsMTksMTEsMyw2MCw1Miw0NCwzNiw2Myw1NSw0NywzOSwzMSwyMywxNSw3LDYyLDU0LDQ2LDM4LDMwLDIyLDE0LDYsNjEsNTMsNDUsMzcsMjksMjEsMTMsNSwyOCwyMCwxMiw0XSxhPVsxNCwxNywxMSwyNCwxLDUsMywyOCwxNSw2LDIxLDEwLDIzLDE5LDEyLDQsMjYsOCwxNiw3LDI3LDIwLDEzLDIsNDEsNTIsMzEsMzcsNDcsNTUsMzAsNDAsNTEsNDUsMzMsNDgsNDQsNDksMzksNTYsMzQsNTMsNDYsNDIsNTAsMzYsMjksMzJdLHU9WzEsMiw0LDYsOCwxMCwxMiwxNCwxNSwxNywxOSwyMSwyMywyNSwyNywyOF0saD1bezA6ODQyMTg4OCwyNjg0MzU0NTY6MzI3NjgsNTM2ODcwOTEyOjg0MjEzNzgsODA1MzA2MzY4OjIsMTA3Mzc0MTgyNDo1MTIsMTM0MjE3NzI4MDo4NDIxODkwLDE2MTA2MTI3MzY6ODM4OTEyMiwxODc5MDQ4MTkyOjgzODg2MDgsMjE0NzQ4MzY0ODo1MTQsMjQxNTkxOTEwNDo4Mzg5MTIwLDI2ODQzNTQ1NjA6MzMyODAsMjk1Mjc5MDAxNjo4NDIxMzc2LDMyMjEyMjU0NzI6MzI3NzAsMzQ4OTY2MDkyODo4Mzg4NjEwLDM3NTgwOTYzODQ6MCw0MDI2NTMxODQwOjMzMjgyLDEzNDIxNzcyODowLDQwMjY1MzE4NDo4NDIxODkwLDY3MTA4ODY0MDozMzI4Miw5Mzk1MjQwOTY6MzI3NjgsMTIwNzk1OTU1Mjo4NDIxODg4LDE0NzYzOTUwMDg6NTEyLDE3NDQ4MzA0NjQ6ODQyMTM3OCwyMDEzMjY1OTIwOjIsMjI4MTcwMTM3Njo4Mzg5MTIwLDI1NTAxMzY4MzI6MzMyODAsMjgxODU3MjI4ODo4NDIxMzc2LDMwODcwMDc3NDQ6ODM4OTEyMiwzMzU1NDQzMjAwOjgzODg2MTAsMzYyMzg3ODY1NjozMjc3MCwzODkyMzE0MTEyOjUxNCw0MTYwNzQ5NTY4OjgzODg2MDgsMTozMjc2OCwyNjg0MzU0NTc6Miw1MzY4NzA5MTM6ODQyMTg4OCw4MDUzMDYzNjk6ODM4ODYwOCwxMDczNzQxODI1Ojg0MjEzNzgsMTM0MjE3NzI4MTozMzI4MCwxNjEwNjEyNzM3OjUxMiwxODc5MDQ4MTkzOjgzODkxMjIsMjE0NzQ4MzY0OTo4NDIxODkwLDI0MTU5MTkxMDU6ODQyMTM3NiwyNjg0MzU0NTYxOjgzODg2MTAsMjk1Mjc5MDAxNzozMzI4MiwzMjIxMjI1NDczOjUxNCwzNDg5NjYwOTI5OjgzODkxMjAsMzc1ODA5NjM4NTozMjc3MCw0MDI2NTMxODQxOjAsMTM0MjE3NzI5Ojg0MjE4OTAsNDAyNjUzMTg1Ojg0MjEzNzYsNjcxMDg4NjQxOjgzODg2MDgsOTM5NTI0MDk3OjUxMiwxMjA3OTU5NTUzOjMyNzY4LDE0NzYzOTUwMDk6ODM4ODYxMCwxNzQ0ODMwNDY1OjIsMjAxMzI2NTkyMTozMzI4MiwyMjgxNzAxMzc3OjMyNzcwLDI1NTAxMzY4MzM6ODM4OTEyMiwyODE4NTcyMjg5OjUxNCwzMDg3MDA3NzQ1Ojg0MjE4ODgsMzM1NTQ0MzIwMTo4Mzg5MTIwLDM2MjM4Nzg2NTc6MCwzODkyMzE0MTEzOjMzMjgwLDQxNjA3NDk1Njk6ODQyMTM3OH0sezA6MTA3NDI4MjUxMiwxNjc3NzIxNjoxNjM4NCwzMzU1NDQzMjo1MjQyODgsNTAzMzE2NDg6MTA3NDI2NjEyOCw2NzEwODg2NDoxMDczNzQxODQwLDgzODg2MDgwOjEwNzQyODI0OTYsMTAwNjYzMjk2OjEwNzM3NTgyMDgsMTE3NDQwNTEyOjE2LDEzNDIxNzcyODo1NDA2NzIsMTUwOTk0OTQ0OjEwNzM3NTgyMjQsMTY3NzcyMTYwOjEwNzM3NDE4MjQsMTg0NTQ5Mzc2OjU0MDY4OCwyMDEzMjY1OTI6NTI0MzA0LDIxODEwMzgwODowLDIzNDg4MTAyNDoxNjQwMCwyNTE2NTgyNDA6MTA3NDI2NjExMiw4Mzg4NjA4OjEwNzM3NTgyMDgsMjUxNjU4MjQ6NTQwNjg4LDQxOTQzMDQwOjE2LDU4NzIwMjU2OjEwNzM3NTgyMjQsNzU0OTc0NzI6MTA3NDI4MjUxMiw5MjI3NDY4ODoxMDczNzQxODI0LDEwOTA1MTkwNDo1MjQyODgsMTI1ODI5MTIwOjEwNzQyNjYxMjgsMTQyNjA2MzM2OjUyNDMwNCwxNTkzODM1NTI6MCwxNzYxNjA3Njg6MTYzODQsMTkyOTM3OTg0OjEwNzQyNjYxMTIsMjA5NzE1MjAwOjEwNzM3NDE4NDAsMjI2NDkyNDE2OjU0MDY3MiwyNDMyNjk2MzI6MTA3NDI4MjQ5NiwyNjAwNDY4NDg6MTY0MDAsMjY4NDM1NDU2OjAsMjg1MjEyNjcyOjEwNzQyNjYxMjgsMzAxOTg5ODg4OjEwNzM3NTgyMjQsMzE4NzY3MTA0OjEwNzQyODI0OTYsMzM1NTQ0MzIwOjEwNzQyNjYxMTIsMzUyMzIxNTM2OjE2LDM2OTA5ODc1Mjo1NDA2ODgsMzg1ODc1OTY4OjE2Mzg0LDQwMjY1MzE4NDoxNjQwMCw0MTk0MzA0MDA6NTI0Mjg4LDQzNjIwNzYxNjo1MjQzMDQsNDUyOTg0ODMyOjEwNzM3NDE4NDAsNDY5NzYyMDQ4OjU0MDY3Miw0ODY1MzkyNjQ6MTA3Mzc1ODIwOCw1MDMzMTY0ODA6MTA3Mzc0MTgyNCw1MjAwOTM2OTY6MTA3NDI4MjUxMiwyNzY4MjQwNjQ6NTQwNjg4LDI5MzYwMTI4MDo1MjQyODgsMzEwMzc4NDk2OjEwNzQyNjYxMTIsMzI3MTU1NzEyOjE2Mzg0LDM0MzkzMjkyODoxMDczNzU4MjA4LDM2MDcxMDE0NDoxMDc0MjgyNTEyLDM3NzQ4NzM2MDoxNiwzOTQyNjQ1NzY6MTA3Mzc0MTgyNCw0MTEwNDE3OTI6MTA3NDI4MjQ5Niw0Mjc4MTkwMDg6MTA3Mzc0MTg0MCw0NDQ1OTYyMjQ6MTA3Mzc1ODIyNCw0NjEzNzM0NDA6NTI0MzA0LDQ3ODE1MDY1NjowLDQ5NDkyNzg3MjoxNjQwMCw1MTE3MDUwODg6MTA3NDI2NjEyOCw1Mjg0ODIzMDQ6NTQwNjcyfSx7MDoyNjAsMTA0ODU3NjowLDIwOTcxNTI6NjcxMDkxMjAsMzE0NTcyODo2NTc5Niw0MTk0MzA0OjY1NTQwLDUyNDI4ODA6NjcxMDg4NjgsNjI5MTQ1Njo2NzE3NDY2MCw3MzQwMDMyOjY3MTc0NDAwLDgzODg2MDg6NjcxMDg4NjQsOTQzNzE4NDo2NzE3NDY1NiwxMDQ4NTc2MDo2NTc5MiwxMTUzNDMzNjo2NzE3NDQwNCwxMjU4MjkxMjo2NzEwOTEyNCwxMzYzMTQ4ODo2NTUzNiwxNDY4MDA2NDo0LDE1NzI4NjQwOjI1Niw1MjQyODg6NjcxNzQ2NTYsMTU3Mjg2NDo2NzE3NDQwNCwyNjIxNDQwOjAsMzY3MDAxNjo2NzEwOTEyMCw0NzE4NTkyOjY3MTA4ODY4LDU3NjcxNjg6NjU1MzYsNjgxNTc0NDo2NTU0MCw3ODY0MzIwOjI2MCw4OTEyODk2OjQsOTk2MTQ3MjoyNTYsMTEwMTAwNDg6NjcxNzQ0MDAsMTIwNTg2MjQ6NjU3OTYsMTMxMDcyMDA6NjU3OTIsMTQxNTU3NzY6NjcxMDkxMjQsMTUyMDQzNTI6NjcxNzQ2NjAsMTYyNTI5Mjg6NjcxMDg4NjQsMTY3NzcyMTY6NjcxNzQ2NTYsMTc4MjU3OTI6NjU1NDAsMTg4NzQzNjg6NjU1MzYsMTk5MjI5NDQ6NjcxMDkxMjAsMjA5NzE1MjA6MjU2LDIyMDIwMDk2OjY3MTc0NjYwLDIzMDY4NjcyOjY3MTA4ODY4LDI0MTE3MjQ4OjAsMjUxNjU4MjQ6NjcxMDkxMjQsMjYyMTQ0MDA6NjcxMDg4NjQsMjcyNjI5NzY6NCwyODMxMTU1Mjo2NTc5MiwyOTM2MDEyODo2NzE3NDQwMCwzMDQwODcwNDoyNjAsMzE0NTcyODA6NjU3OTYsMzI1MDU4NTY6NjcxNzQ0MDQsMTczMDE1MDQ6NjcxMDg4NjQsMTgzNTAwODA6MjYwLDE5Mzk4NjU2OjY3MTc0NjU2LDIwNDQ3MjMyOjAsMjE0OTU4MDg6NjU1NDAsMjI1NDQzODQ6NjcxMDkxMjAsMjM1OTI5NjA6MjU2LDI0NjQxNTM2OjY3MTc0NDA0LDI1NjkwMTEyOjY1NTM2LDI2NzM4Njg4OjY3MTc0NjYwLDI3Nzg3MjY0OjY1Nzk2LDI4ODM1ODQwOjY3MTA4ODY4LDI5ODg0NDE2OjY3MTA5MTI0LDMwOTMyOTkyOjY3MTc0NDAwLDMxOTgxNTY4OjQsMzMwMzAxNDQ6NjU3OTJ9LHswOjIxNTE2ODIwNDgsNjU1MzY6MjE0NzQ4NzgwOCwxMzEwNzI6NDE5ODQ2NCwxOTY2MDg6MjE1MTY3Nzk1MiwyNjIxNDQ6MCwzMjc2ODA6NDE5ODQwMCwzOTMyMTY6MjE0NzQ4MzcxMiw0NTg3NTI6NDE5NDM2OCw1MjQyODg6MjE0NzQ4MzY0OCw1ODk4MjQ6NDE5NDMwNCw2NTUzNjA6NjQsNzIwODk2OjIxNDc0ODc3NDQsNzg2NDMyOjIxNTE2NzgwMTYsODUxOTY4OjQxNjAsOTE3NTA0OjQwOTYsOTgzMDQwOjIxNTE2ODIxMTIsMzI3Njg6MjE0NzQ4NzgwOCw5ODMwNDo2NCwxNjM4NDA6MjE1MTY3ODAxNiwyMjkzNzY6MjE0NzQ4Nzc0NCwyOTQ5MTI6NDE5ODQwMCwzNjA0NDg6MjE1MTY4MjExMiw0MjU5ODQ6MCw0OTE1MjA6MjE1MTY3Nzk1Miw1NTcwNTY6NDA5Niw2MjI1OTI6MjE1MTY4MjA0OCw2ODgxMjg6NDE5NDMwNCw3NTM2NjQ6NDE2MCw4MTkyMDA6MjE0NzQ4MzY0OCw4ODQ3MzY6NDE5NDM2OCw5NTAyNzI6NDE5ODQ2NCwxMDE1ODA4OjIxNDc0ODM3MTIsMTA0ODU3Njo0MTk0MzY4LDExMTQxMTI6NDE5ODQwMCwxMTc5NjQ4OjIxNDc0ODM3MTIsMTI0NTE4NDowLDEzMTA3MjA6NDE2MCwxMzc2MjU2OjIxNTE2NzgwMTYsMTQ0MTc5MjoyMTUxNjgyMDQ4LDE1MDczMjg6MjE0NzQ4NzgwOCwxNTcyODY0OjIxNTE2ODIxMTIsMTYzODQwMDoyMTQ3NDgzNjQ4LDE3MDM5MzY6MjE1MTY3Nzk1MiwxNzY5NDcyOjQxOTg0NjQsMTgzNTAwODoyMTQ3NDg3NzQ0LDE5MDA1NDQ6NDE5NDMwNCwxOTY2MDgwOjY0LDIwMzE2MTY6NDA5NiwxMDgxMzQ0OjIxNTE2Nzc5NTIsMTE0Njg4MDoyMTUxNjgyMTEyLDEyMTI0MTY6MCwxMjc3OTUyOjQxOTg0MDAsMTM0MzQ4ODo0MTk0MzY4LDE0MDkwMjQ6MjE0NzQ4MzY0OCwxNDc0NTYwOjIxNDc0ODc4MDgsMTU0MDA5Njo2NCwxNjA1NjMyOjIxNDc0ODM3MTIsMTY3MTE2ODo0MDk2LDE3MzY3MDQ6MjE0NzQ4Nzc0NCwxODAyMjQwOjIxNTE2NzgwMTYsMTg2Nzc3Njo0MTYwLDE5MzMzMTI6MjE1MTY4MjA0OCwxOTk4ODQ4OjQxOTQzMDQsMjA2NDM4NDo0MTk4NDY0fSx7MDoxMjgsNDA5NjoxNzAzOTM2MCw4MTkyOjI2MjE0NCwxMjI4ODo1MzY4NzA5MTIsMTYzODQ6NTM3MTMzMTg0LDIwNDgwOjE2Nzc3MzQ0LDI0NTc2OjU1MzY0ODI1NiwyODY3MjoyNjIyNzIsMzI3Njg6MTY3NzcyMTYsMzY4NjQ6NTM3MTMzMDU2LDQwOTYwOjUzNjg3MTA0MCw0NTA1Njo1NTM5MTA0MDAsNDkxNTI6NTUzOTEwMjcyLDUzMjQ4OjAsNTczNDQ6MTcwMzk0ODgsNjE0NDA6NTUzNjQ4MTI4LDIwNDg6MTcwMzk0ODgsNjE0NDo1NTM2NDgyNTYsMTAyNDA6MTI4LDE0MzM2OjE3MDM5MzYwLDE4NDMyOjI2MjE0NCwyMjUyODo1MzcxMzMxODQsMjY2MjQ6NTUzOTEwMjcyLDMwNzIwOjUzNjg3MDkxMiwzNDgxNjo1MzcxMzMwNTYsMzg5MTI6MCw0MzAwODo1NTM5MTA0MDAsNDcxMDQ6MTY3NzczNDQsNTEyMDA6NTM2ODcxMDQwLDU1Mjk2OjU1MzY0ODEyOCw1OTM5MjoxNjc3NzIxNiw2MzQ4ODoyNjIyNzIsNjU1MzY6MjYyMTQ0LDY5NjMyOjEyOCw3MzcyODo1MzY4NzA5MTIsNzc4MjQ6NTUzNjQ4MjU2LDgxOTIwOjE2Nzc3MzQ0LDg2MDE2OjU1MzkxMDI3Miw5MDExMjo1MzcxMzMxODQsOTQyMDg6MTY3NzcyMTYsOTgzMDQ6NTUzOTEwNDAwLDEwMjQwMDo1NTM2NDgxMjgsMTA2NDk2OjE3MDM5MzYwLDExMDU5Mjo1MzcxMzMwNTYsMTE0Njg4OjI2MjI3MiwxMTg3ODQ6NTM2ODcxMDQwLDEyMjg4MDowLDEyNjk3NjoxNzAzOTQ4OCw2NzU4NDo1NTM2NDgyNTYsNzE2ODA6MTY3NzcyMTYsNzU3NzY6MTcwMzkzNjAsNzk4NzI6NTM3MTMzMTg0LDgzOTY4OjUzNjg3MDkxMiw4ODA2NDoxNzAzOTQ4OCw5MjE2MDoxMjgsOTYyNTY6NTUzOTEwMjcyLDEwMDM1MjoyNjIyNzIsMTA0NDQ4OjU1MzkxMDQwMCwxMDg1NDQ6MCwxMTI2NDA6NTUzNjQ4MTI4LDExNjczNjoxNjc3NzM0NCwxMjA4MzI6MjYyMTQ0LDEyNDkyODo1MzcxMzMwNTYsMTI5MDI0OjUzNjg3MTA0MH0sezA6MjY4NDM1NDY0LDI1Njo4MTkyLDUxMjoyNzA1MzI2MDgsNzY4OjI3MDU0MDgwOCwxMDI0OjI2ODQ0MzY0OCwxMjgwOjIwOTcxNTIsMTUzNjoyMDk3MTYwLDE3OTI6MjY4NDM1NDU2LDIwNDg6MCwyMzA0OjI2ODQ0MzY1NiwyNTYwOjIxMDUzNDQsMjgxNjo4LDMwNzI6MjcwNTMyNjE2LDMzMjg6MjEwNTM1MiwzNTg0OjgyMDAsMzg0MDoyNzA1NDA4MDAsMTI4OjI3MDUzMjYwOCwzODQ6MjcwNTQwODA4LDY0MDo4LDg5NjoyMDk3MTUyLDExNTI6MjEwNTM1MiwxNDA4OjI2ODQzNTQ2NCwxNjY0OjI2ODQ0MzY0OCwxOTIwOjgyMDAsMjE3NjoyMDk3MTYwLDI0MzI6ODE5MiwyNjg4OjI2ODQ0MzY1NiwyOTQ0OjI3MDUzMjYxNiwzMjAwOjAsMzQ1NjoyNzA1NDA4MDAsMzcxMjoyMTA1MzQ0LDM5Njg6MjY4NDM1NDU2LDQwOTY6MjY4NDQzNjQ4LDQzNTI6MjcwNTMyNjE2LDQ2MDg6MjcwNTQwODA4LDQ4NjQ6ODIwMCw1MTIwOjIwOTcxNTIsNTM3NjoyNjg0MzU0NTYsNTYzMjoyNjg0MzU0NjQsNTg4ODoyMTA1MzQ0LDYxNDQ6MjEwNTM1Miw2NDAwOjAsNjY1Njo4LDY5MTI6MjcwNTMyNjA4LDcxNjg6ODE5Miw3NDI0OjI2ODQ0MzY1Niw3NjgwOjI3MDU0MDgwMCw3OTM2OjIwOTcxNjAsNDIyNDo4LDQ0ODA6MjEwNTM0NCw0NzM2OjIwOTcxNTIsNDk5MjoyNjg0MzU0NjQsNTI0ODoyNjg0NDM2NDgsNTUwNDo4MjAwLDU3NjA6MjcwNTQwODA4LDYwMTY6MjcwNTMyNjA4LDYyNzI6MjcwNTQwODAwLDY1Mjg6MjcwNTMyNjE2LDY3ODQ6ODE5Miw3MDQwOjIxMDUzNTIsNzI5NjoyMDk3MTYwLDc1NTI6MCw3ODA4OjI2ODQzNTQ1Niw4MDY0OjI2ODQ0MzY1Nn0sezA6MTA0ODU3NiwxNjozMzU1NTQ1NywzMjoxMDI0LDQ4OjEwNDk2MDEsNjQ6MzQ2MDQwMzMsODA6MCw5NjoxLDExMjozNDYwMzAwOSwxMjg6MzM1NTU0NTYsMTQ0OjEwNDg1NzcsMTYwOjMzNTU0NDMzLDE3NjozNDYwNDAzMiwxOTI6MzQ2MDMwMDgsMjA4OjEwMjUsMjI0OjEwNDk2MDAsMjQwOjMzNTU0NDMyLDg6MzQ2MDMwMDksMjQ6MCw0MDozMzU1NTQ1Nyw1NjozNDYwNDAzMiw3MjoxMDQ4NTc2LDg4OjMzNTU0NDMzLDEwNDozMzU1NDQzMiwxMjA6MTAyNSwxMzY6MTA0OTYwMSwxNTI6MzM1NTU0NTYsMTY4OjM0NjAzMDA4LDE4NDoxMDQ4NTc3LDIwMDoxMDI0LDIxNjozNDYwNDAzMywyMzI6MSwyNDg6MTA0OTYwMCwyNTY6MzM1NTQ0MzIsMjcyOjEwNDg1NzYsMjg4OjMzNTU1NDU3LDMwNDozNDYwMzAwOSwzMjA6MTA0ODU3NywzMzY6MzM1NTU0NTYsMzUyOjM0NjA0MDMyLDM2ODoxMDQ5NjAxLDM4NDoxMDI1LDQwMDozNDYwNDAzMyw0MTY6MTA0OTYwMCw0MzI6MSw0NDg6MCw0NjQ6MzQ2MDMwMDgsNDgwOjMzNTU0NDMzLDQ5NjoxMDI0LDI2NDoxMDQ5NjAwLDI4MDozMzU1NTQ1NywyOTY6MzQ2MDMwMDksMzEyOjEsMzI4OjMzNTU0NDMyLDM0NDoxMDQ4NTc2LDM2MDoxMDI1LDM3NjozNDYwNDAzMiwzOTI6MzM1NTQ0MzMsNDA4OjM0NjAzMDA4LDQyNDowLDQ0MDozNDYwNDAzMyw0NTY6MTA0OTYwMSw0NzI6MTAyNCw0ODg6MzM1NTU0NTYsNTA0OjEwNDg1Nzd9LHswOjEzNDIxOTgwOCwxOjEzMTA3MiwyOjEzNDIxNzcyOCwzOjMyLDQ6MTMxMTA0LDU6MTM0MzUwODgwLDY6MTM0MzUwODQ4LDc6MjA0OCw4OjEzNDM0ODgwMCw5OjEzNDIxOTc3NiwxMDoxMzMxMjAsMTE6MTM0MzQ4ODMyLDEyOjIwODAsMTM6MCwxNDoxMzQyMTc3NjAsMTU6MTMzMTUyLDIxNDc0ODM2NDg6MjA0OCwyMTQ3NDgzNjQ5OjEzNDM1MDg4MCwyMTQ3NDgzNjUwOjEzNDIxOTgwOCwyMTQ3NDgzNjUxOjEzNDIxNzcyOCwyMTQ3NDgzNjUyOjEzNDM0ODgwMCwyMTQ3NDgzNjUzOjEzMzEyMCwyMTQ3NDgzNjU0OjEzMzE1MiwyMTQ3NDgzNjU1OjMyLDIxNDc0ODM2NTY6MTM0MjE3NzYwLDIxNDc0ODM2NTc6MjA4MCwyMTQ3NDgzNjU4OjEzMTEwNCwyMTQ3NDgzNjU5OjEzNDM1MDg0OCwyMTQ3NDgzNjYwOjAsMjE0NzQ4MzY2MToxMzQzNDg4MzIsMjE0NzQ4MzY2MjoxMzQyMTk3NzYsMjE0NzQ4MzY2MzoxMzEwNzIsMTY6MTMzMTUyLDE3OjEzNDM1MDg0OCwxODozMiwxOToyMDQ4LDIwOjEzNDIxOTc3NiwyMToxMzQyMTc3NjAsMjI6MTM0MzQ4ODMyLDIzOjEzMTA3MiwyNDowLDI1OjEzMTEwNCwyNjoxMzQzNDg4MDAsMjc6MTM0MjE5ODA4LDI4OjEzNDM1MDg4MCwyOToxMzMxMjAsMzA6MjA4MCwzMToxMzQyMTc3MjgsMjE0NzQ4MzY2NDoxMzEwNzIsMjE0NzQ4MzY2NToyMDQ4LDIxNDc0ODM2NjY6MTM0MzQ4ODMyLDIxNDc0ODM2Njc6MTMzMTUyLDIxNDc0ODM2Njg6MzIsMjE0NzQ4MzY2OToxMzQzNDg4MDAsMjE0NzQ4MzY3MDoxMzQyMTc3MjgsMjE0NzQ4MzY3MToxMzQyMTk4MDgsMjE0NzQ4MzY3MjoxMzQzNTA4ODAsMjE0NzQ4MzY3MzoxMzQyMTc3NjAsMjE0NzQ4MzY3NDoxMzQyMTk3NzYsMjE0NzQ4MzY3NTowLDIxNDc0ODM2NzY6MTMzMTIwLDIxNDc0ODM2Nzc6MjA4MCwyMTQ3NDgzNjc4OjEzMTEwNCwyMTQ3NDgzNjc5OjEzNDM1MDg0OH1dLGM9WzQxNjA3NDk1NjksNTI4NDgyMzA0LDMzMDMwMTQ0LDIwNjQzODQsMTI5MDI0LDgwNjQsNTA0LDIxNDc0ODM2NzldLGY9cy5ERVM9ci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2tleS53b3JkcyxlPVtdLG49MDs1Nj5uO24rKyl7dmFyIHI9b1tuXS0xO2Vbbl09dFtyPj4+NV0+Pj4zMS1yJTMyJjF9Zm9yKHQ9dGhpcy5fc3ViS2V5cz1bXSxyPTA7MTY+cjtyKyspe2Zvcih2YXIgaT10W3JdPVtdLHM9dVtyXSxuPTA7MjQ+bjtuKyspaVtuLzZ8MF18PWVbKGFbbl0tMStzKSUyOF08PDMxLW4lNixpWzQrKG4vNnwwKV18PWVbMjgrKGFbbisyNF0tMStzKSUyOF08PDMxLW4lNjtmb3IoaVswXT1pWzBdPDwxfGlbMF0+Pj4zMSxuPTE7Nz5uO24rKylpW25dPj4+PTQqKG4tMSkrMztpWzddPWlbN108PDV8aVs3XT4+PjI3fWZvcihlPXRoaXMuX2ludlN1YktleXM9W10sbj0wOzE2Pm47bisrKWVbbl09dFsxNS1uXX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9DcnlwdEJsb2NrKHQsZSx0aGlzLl9zdWJLZXlzKX0sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9DcnlwdEJsb2NrKHQsZSx0aGlzLl9pbnZTdWJLZXlzKX0sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbihuLHIsaSl7dGhpcy5fbEJsb2NrPW5bcl0sdGhpcy5fckJsb2NrPW5bcisxXSx0LmNhbGwodGhpcyw0LDI1MjY0NTEzNSksdC5jYWxsKHRoaXMsMTYsNjU1MzUpLGUuY2FsbCh0aGlzLDIsODU4OTkzNDU5KSxlLmNhbGwodGhpcyw4LDE2NzExOTM1KSx0LmNhbGwodGhpcywxLDE0MzE2NTU3NjUpO2Zvcih2YXIgcz0wOzE2PnM7cysrKXtmb3IodmFyIG89aVtzXSxhPXRoaXMuX2xCbG9jayx1PXRoaXMuX3JCbG9jayxmPTAsbD0wOzg+bDtsKyspZnw9aFtsXVsoKHVeb1tsXSkmY1tsXSk+Pj4wXTt0aGlzLl9sQmxvY2s9dSx0aGlzLl9yQmxvY2s9YV5mfWk9dGhpcy5fbEJsb2NrLHRoaXMuX2xCbG9jaz10aGlzLl9yQmxvY2ssdGhpcy5fckJsb2NrPWksdC5jYWxsKHRoaXMsMSwxNDMxNjU1NzY1KSxlLmNhbGwodGhpcyw4LDE2NzExOTM1KSxlLmNhbGwodGhpcywyLDg1ODk5MzQ1OSksdC5jYWxsKHRoaXMsMTYsNjU1MzUpLHQuY2FsbCh0aGlzLDQsMjUyNjQ1MTM1KSxuW3JdPXRoaXMuX2xCbG9jayxuW3IrMV09dGhpcy5fckJsb2NrfSxrZXlTaXplOjIsaXZTaXplOjIsYmxvY2tTaXplOjJ9KTtuLkRFUz1yLl9jcmVhdGVIZWxwZXIoZikscz1zLlRyaXBsZURFUz1yLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9rZXkud29yZHM7dGhpcy5fZGVzMT1mLmNyZWF0ZUVuY3J5cHRvcihpLmNyZWF0ZSh0LnNsaWNlKDAsMikpKSx0aGlzLl9kZXMyPWYuY3JlYXRlRW5jcnlwdG9yKGkuY3JlYXRlKHQuc2xpY2UoMiw0KSkpLHRoaXMuX2RlczM9Zi5jcmVhdGVFbmNyeXB0b3IoaS5jcmVhdGUodC5zbGljZSg0LDYpKSl9LGVuY3J5cHRCbG9jazpmdW5jdGlvbih0LGUpe3RoaXMuX2RlczEuZW5jcnlwdEJsb2NrKHQsZSksdGhpcy5fZGVzMi5kZWNyeXB0QmxvY2sodCxlKSx0aGlzLl9kZXMzLmVuY3J5cHRCbG9jayh0LGUpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24odCxlKXt0aGlzLl9kZXMzLmRlY3J5cHRCbG9jayh0LGUpLHRoaXMuX2RlczIuZW5jcnlwdEJsb2NrKHQsZSksdGhpcy5fZGVzMS5kZWNyeXB0QmxvY2sodCxlKX0sa2V5U2l6ZTo2LGl2U2l6ZToyLGJsb2NrU2l6ZToyfSksbi5UcmlwbGVERVM9ci5fY3JlYXRlSGVscGVyKHMpfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9b3IsZT10LmxpYi5Xb3JkQXJyYXk7dC5lbmMuQmFzZTY0PXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dmFyIGU9dC53b3JkcyxuPXQuc2lnQnl0ZXMscj10aGlzLl9tYXA7dC5jbGFtcCgpLHQ9W107Zm9yKHZhciBpPTA7aTxuO2krPTMpZm9yKHZhciBzPShlW2k+Pj4yXT4+PjI0LTgqKGklNCkmMjU1KTw8MTZ8KGVbaSsxPj4+Ml0+Pj4yNC04KigoaSsxKSU0KSYyNTUpPDw4fGVbaSsyPj4+Ml0+Pj4yNC04KigoaSsyKSU0KSYyNTUsbz0wOzQ+byYmaSsuNzUqbzxuO28rKyl0LnB1c2goci5jaGFyQXQocz4+PjYqKDMtbykmNjMpKTtpZihlPXIuY2hhckF0KDY0KSlmb3IoO3QubGVuZ3RoJTQ7KXQucHVzaChlKTtyZXR1cm4gdC5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgbj10Lmxlbmd0aCxyPXRoaXMuX21hcCxpPXIuY2hhckF0KDY0KTtpJiYoaT10LmluZGV4T2YoaSksLTEhPWkmJihuPWkpKTtmb3IodmFyIGk9W10scz0wLG89MDtvPG47bysrKWlmKG8lNCl7dmFyIGE9ci5pbmRleE9mKHQuY2hhckF0KG8tMSkpPDwyKihvJTQpLHU9ci5pbmRleE9mKHQuY2hhckF0KG8pKT4+PjYtMioobyU0KTtpW3M+Pj4yXXw9KGF8dSk8PDI0LTgqKHMlNCkscysrfXJldHVybiBlLmNyZWF0ZShpLHMpfSxfbWFwOlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIn19KCksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsbixyLGkscyxvKXtyZXR1cm4gdD10KyhlJm58fmUmcikraStvLCh0PDxzfHQ+Pj4zMi1zKStlfWZ1bmN0aW9uIG4odCxlLG4scixpLHMsbyl7cmV0dXJuIHQ9dCsoZSZyfG4mfnIpK2krbywodDw8c3x0Pj4+MzItcykrZX1mdW5jdGlvbiByKHQsZSxuLHIsaSxzLG8pe3JldHVybiB0PXQrKGVebl5yKStpK28sKHQ8PHN8dD4+PjMyLXMpK2V9ZnVuY3Rpb24gaSh0LGUsbixyLGkscyxvKXtyZXR1cm4gdD10KyhuXihlfH5yKSkraStvLCh0PDxzfHQ+Pj4zMi1zKStlfWZvcih2YXIgcz1vcixvPXMubGliLGE9by5Xb3JkQXJyYXksdT1vLkhhc2hlcixvPXMuYWxnbyxoPVtdLGM9MDs2ND5jO2MrKyloW2NdPTQyOTQ5NjcyOTYqdC5hYnModC5zaW4oYysxKSl8MDtvPW8uTUQ1PXUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGEuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LHMpe2Zvcih2YXIgbz0wOzE2Pm87bysrKXt2YXIgYT1zK28sdT10W2FdO3RbYV09MTY3MTE5MzUmKHU8PDh8dT4+PjI0KXw0Mjc4MjU1MzYwJih1PDwyNHx1Pj4+OCl9dmFyIG89dGhpcy5faGFzaC53b3JkcyxhPXRbcyswXSx1PXRbcysxXSxjPXRbcysyXSxmPXRbcyszXSxsPXRbcys0XSxkPXRbcys1XSxnPXRbcys2XSxwPXRbcys3XSx5PXRbcys4XSx2PXRbcys5XSxtPXRbcysxMF0sUz10W3MrMTFdLGI9dFtzKzEyXSx3PXRbcysxM10sRT10W3MrMTRdLF89dFtzKzE1XSx4PW9bMF0sQT1vWzFdLEY9b1syXSxQPW9bM10seD1lKHgsQSxGLFAsYSw3LGhbMF0pLFA9ZShQLHgsQSxGLHUsMTIsaFsxXSksRj1lKEYsUCx4LEEsYywxNyxoWzJdKSxBPWUoQSxGLFAseCxmLDIyLGhbM10pLHg9ZSh4LEEsRixQLGwsNyxoWzRdKSxQPWUoUCx4LEEsRixkLDEyLGhbNV0pLEY9ZShGLFAseCxBLGcsMTcsaFs2XSksQT1lKEEsRixQLHgscCwyMixoWzddKSx4PWUoeCxBLEYsUCx5LDcsaFs4XSksUD1lKFAseCxBLEYsdiwxMixoWzldKSxGPWUoRixQLHgsQSxtLDE3LGhbMTBdKSxBPWUoQSxGLFAseCxTLDIyLGhbMTFdKSx4PWUoeCxBLEYsUCxiLDcsaFsxMl0pLFA9ZShQLHgsQSxGLHcsMTIsaFsxM10pLEY9ZShGLFAseCxBLEUsMTcsaFsxNF0pLEE9ZShBLEYsUCx4LF8sMjIsaFsxNV0pLHg9bih4LEEsRixQLHUsNSxoWzE2XSksUD1uKFAseCxBLEYsZyw5LGhbMTddKSxGPW4oRixQLHgsQSxTLDE0LGhbMThdKSxBPW4oQSxGLFAseCxhLDIwLGhbMTldKSx4PW4oeCxBLEYsUCxkLDUsaFsyMF0pLFA9bihQLHgsQSxGLG0sOSxoWzIxXSksRj1uKEYsUCx4LEEsXywxNCxoWzIyXSksQT1uKEEsRixQLHgsbCwyMCxoWzIzXSkseD1uKHgsQSxGLFAsdiw1LGhbMjRdKSxQPW4oUCx4LEEsRixFLDksaFsyNV0pLEY9bihGLFAseCxBLGYsMTQsaFsyNl0pLEE9bihBLEYsUCx4LHksMjAsaFsyN10pLHg9bih4LEEsRixQLHcsNSxoWzI4XSksUD1uKFAseCxBLEYsYyw5LGhbMjldKSxGPW4oRixQLHgsQSxwLDE0LGhbMzBdKSxBPW4oQSxGLFAseCxiLDIwLGhbMzFdKSx4PXIoeCxBLEYsUCxkLDQsaFszMl0pLFA9cihQLHgsQSxGLHksMTEsaFszM10pLEY9cihGLFAseCxBLFMsMTYsaFszNF0pLEE9cihBLEYsUCx4LEUsMjMsaFszNV0pLHg9cih4LEEsRixQLHUsNCxoWzM2XSksUD1yKFAseCxBLEYsbCwxMSxoWzM3XSksRj1yKEYsUCx4LEEscCwxNixoWzM4XSksQT1yKEEsRixQLHgsbSwyMyxoWzM5XSkseD1yKHgsQSxGLFAsdyw0LGhbNDBdKSxQPXIoUCx4LEEsRixhLDExLGhbNDFdKSxGPXIoRixQLHgsQSxmLDE2LGhbNDJdKSxBPXIoQSxGLFAseCxnLDIzLGhbNDNdKSx4PXIoeCxBLEYsUCx2LDQsaFs0NF0pLFA9cihQLHgsQSxGLGIsMTEsaFs0NV0pLEY9cihGLFAseCxBLF8sMTYsaFs0Nl0pLEE9cihBLEYsUCx4LGMsMjMsaFs0N10pLHg9aSh4LEEsRixQLGEsNixoWzQ4XSksUD1pKFAseCxBLEYscCwxMCxoWzQ5XSksRj1pKEYsUCx4LEEsRSwxNSxoWzUwXSksQT1pKEEsRixQLHgsZCwyMSxoWzUxXSkseD1pKHgsQSxGLFAsYiw2LGhbNTJdKSxQPWkoUCx4LEEsRixmLDEwLGhbNTNdKSxGPWkoRixQLHgsQSxtLDE1LGhbNTRdKSxBPWkoQSxGLFAseCx1LDIxLGhbNTVdKSx4PWkoeCxBLEYsUCx5LDYsaFs1Nl0pLFA9aShQLHgsQSxGLF8sMTAsaFs1N10pLEY9aShGLFAseCxBLGcsMTUsaFs1OF0pLEE9aShBLEYsUCx4LHcsMjEsaFs1OV0pLHg9aSh4LEEsRixQLGwsNixoWzYwXSksUD1pKFAseCxBLEYsUywxMCxoWzYxXSksRj1pKEYsUCx4LEEsYywxNSxoWzYyXSksQT1pKEEsRixQLHgsdiwyMSxoWzYzXSk7b1swXT1vWzBdK3h8MCxvWzFdPW9bMV0rQXwwLG9bMl09b1syXStGfDAsb1szXT1vWzNdK1B8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kYXRhLG49ZS53b3JkcyxyPTgqdGhpcy5fbkRhdGFCeXRlcyxpPTgqZS5zaWdCeXRlcztuW2k+Pj41XXw9MTI4PDwyNC1pJTMyO3ZhciBzPXQuZmxvb3Ioci80Mjk0OTY3Mjk2KTtmb3IoblsoaSs2ND4+Pjk8PDQpKzE1XT0xNjcxMTkzNSYoczw8OHxzPj4+MjQpfDQyNzgyNTUzNjAmKHM8PDI0fHM+Pj44KSxuWyhpKzY0Pj4+OTw8NCkrMTRdPTE2NzExOTM1JihyPDw4fHI+Pj4yNCl8NDI3ODI1NTM2MCYocjw8MjR8cj4+PjgpLGUuc2lnQnl0ZXM9NCoobi5sZW5ndGgrMSksdGhpcy5fcHJvY2VzcygpLGU9dGhpcy5faGFzaCxuPWUud29yZHMscj0wOzQ+cjtyKyspaT1uW3JdLG5bcl09MTY3MTE5MzUmKGk8PDh8aT4+PjI0KXw0Mjc4MjU1MzYwJihpPDwyNHxpPj4+OCk7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9dS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fX0pLHMuTUQ1PXUuX2NyZWF0ZUhlbHBlcihvKSxzLkhtYWNNRDU9dS5fY3JlYXRlSG1hY0hlbHBlcihvKX0oTWF0aCksZnVuY3Rpb24oKXt2YXIgdD1vcixlPXQubGliLG49ZS5Xb3JkQXJyYXkscj1lLkhhc2hlcixpPVtdLGU9dC5hbGdvLlNIQTE9ci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgbi5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5faGFzaC53b3JkcyxyPW5bMF0scz1uWzFdLG89blsyXSxhPW5bM10sdT1uWzRdLGg9MDs4MD5oO2grKyl7aWYoMTY+aClpW2hdPTB8dFtlK2hdO2Vsc2V7dmFyIGM9aVtoLTNdXmlbaC04XV5pW2gtMTRdXmlbaC0xNl07aVtoXT1jPDwxfGM+Pj4zMX1jPShyPDw1fHI+Pj4yNykrdStpW2hdLGM9MjA+aD9jKygocyZvfH5zJmEpKzE1MTg1MDAyNDkpOjQwPmg/YysoKHNeb15hKSsxODU5Nzc1MzkzKTo2MD5oP2MrKChzJm98cyZhfG8mYSktMTg5NDAwNzU4OCk6YysoKHNeb15hKS04OTk0OTc1MTQpLHU9YSxhPW8sbz1zPDwzMHxzPj4+MixzPXIscj1jfW5bMF09blswXStyfDAsblsxXT1uWzFdK3N8MCxuWzJdPW5bMl0rb3wwLG5bM109blszXSthfDAsbls0XT1uWzRdK3V8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dC53b3JkcyxuPTgqdGhpcy5fbkRhdGFCeXRlcyxyPTgqdC5zaWdCeXRlcztyZXR1cm4gZVtyPj4+NV18PTEyODw8MjQtciUzMixlWyhyKzY0Pj4+OTw8NCkrMTRdPU1hdGguZmxvb3Iobi80Mjk0OTY3Mjk2KSxlWyhyKzY0Pj4+OTw8NCkrMTVdPW4sdC5zaWdCeXRlcz00KmUubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNofSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PXIuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksdH19KTt0LlNIQTE9ci5fY3JlYXRlSGVscGVyKGUpLHQuSG1hY1NIQTE9ci5fY3JlYXRlSG1hY0hlbHBlcihlKX0oKSxmdW5jdGlvbih0KXtmb3IodmFyIGU9b3Isbj1lLmxpYixyPW4uV29yZEFycmF5LGk9bi5IYXNoZXIsbj1lLmFsZ28scz1bXSxvPVtdLGE9ZnVuY3Rpb24odCl7cmV0dXJuIDQyOTQ5NjcyOTYqKHQtKDB8dCkpfDB9LHU9MixoPTA7NjQ+aDspe3ZhciBjO3Q6e2M9dTtmb3IodmFyIGY9dC5zcXJ0KGMpLGw9MjtsPD1mO2wrKylpZighKGMlbCkpe2M9ITE7YnJlYWsgdH1jPSEwfWMmJig4PmgmJihzW2hdPWEodC5wb3codSwuNSkpKSxvW2hdPWEodC5wb3codSwxLzMpKSxoKyspLHUrK312YXIgZD1bXSxuPW4uU0hBMjU2PWkuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IHIuaW5pdChzLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX2hhc2gud29yZHMscj1uWzBdLGk9blsxXSxzPW5bMl0sYT1uWzNdLHU9bls0XSxoPW5bNV0sYz1uWzZdLGY9bls3XSxsPTA7NjQ+bDtsKyspe2lmKDE2PmwpZFtsXT0wfHRbZStsXTtlbHNle3ZhciBnPWRbbC0xNV0scD1kW2wtMl07ZFtsXT0oKGc8PDI1fGc+Pj43KV4oZzw8MTR8Zz4+PjE4KV5nPj4+MykrZFtsLTddKygocDw8MTV8cD4+PjE3KV4ocDw8MTN8cD4+PjE5KV5wPj4+MTApK2RbbC0xNl19Zz1mKygodTw8MjZ8dT4+PjYpXih1PDwyMXx1Pj4+MTEpXih1PDw3fHU+Pj4yNSkpKyh1JmhefnUmYykrb1tsXStkW2xdLHA9KChyPDwzMHxyPj4+MileKHI8PDE5fHI+Pj4xMyleKHI8PDEwfHI+Pj4yMikpKyhyJmleciZzXmkmcyksZj1jLGM9aCxoPXUsdT1hK2d8MCxhPXMscz1pLGk9cixyPWcrcHwwfW5bMF09blswXStyfDAsblsxXT1uWzFdK2l8MCxuWzJdPW5bMl0rc3wwLG5bM109blszXSthfDAsbls0XT1uWzRdK3V8MCxuWzVdPW5bNV0raHwwLG5bNl09bls2XStjfDAsbls3XT1uWzddK2Z8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kYXRhLG49ZS53b3JkcyxyPTgqdGhpcy5fbkRhdGFCeXRlcyxpPTgqZS5zaWdCeXRlcztyZXR1cm4gbltpPj4+NV18PTEyODw8MjQtaSUzMixuWyhpKzY0Pj4+OTw8NCkrMTRdPXQuZmxvb3Ioci80Mjk0OTY3Mjk2KSxuWyhpKzY0Pj4+OTw8NCkrMTVdPXIsZS5zaWdCeXRlcz00Km4ubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNofSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PWkuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksdH19KTtlLlNIQTI1Nj1pLl9jcmVhdGVIZWxwZXIobiksZS5IbWFjU0hBMjU2PWkuX2NyZWF0ZUhtYWNIZWxwZXIobil9KE1hdGgpLGZ1bmN0aW9uKCl7dmFyIHQ9b3IsZT10LmxpYi5Xb3JkQXJyYXksbj10LmFsZ28scj1uLlNIQTI1NixuPW4uU0hBMjI0PXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGUuaW5pdChbMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF0pfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXIuX2RvRmluYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gdC5zaWdCeXRlcy09NCx0fX0pO3QuU0hBMjI0PXIuX2NyZWF0ZUhlbHBlcihuKSx0LkhtYWNTSEEyMjQ9ci5fY3JlYXRlSG1hY0hlbHBlcihuKX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gaS5jcmVhdGUuYXBwbHkoaSxhcmd1bWVudHMpfWZvcih2YXIgZT1vcixuPWUubGliLkhhc2hlcixyPWUueDY0LGk9ci5Xb3JkLHM9ci5Xb3JkQXJyYXkscj1lLmFsZ28sbz1bdCgxMTE2MzUyNDA4LDM2MDk3Njc0NTgpLHQoMTg5OTQ0NzQ0MSw2MDI4OTE3MjUpLHQoMzA0OTMyMzQ3MSwzOTY0NDg0Mzk5KSx0KDM5MjEwMDk1NzMsMjE3MzI5NTU0OCksdCg5NjE5ODcxNjMsNDA4MTYyODQ3MiksdCgxNTA4OTcwOTkzLDMwNTM4MzQyNjUpLHQoMjQ1MzYzNTc0OCwyOTM3NjcxNTc5KSx0KDI4NzA3NjMyMjEsMzY2NDYwOTU2MCksdCgzNjI0MzgxMDgwLDI3MzQ4ODMzOTQpLHQoMzEwNTk4NDAxLDExNjQ5OTY1NDIpLHQoNjA3MjI1Mjc4LDEzMjM2MTA3NjQpLHQoMTQyNjg4MTk4NywzNTkwMzA0OTk0KSx0KDE5MjUwNzgzODgsNDA2ODE4MjM4MyksdCgyMTYyMDc4MjA2LDk5MTMzNjExMyksdCgyNjE0ODg4MTAzLDYzMzgwMzMxNyksdCgzMjQ4MjIyNTgwLDM0Nzk3NzQ4NjgpLHQoMzgzNTM5MDQwMSwyNjY2NjEzNDU4KSx0KDQwMjIyMjQ3NzQsOTQ0NzExMTM5KSx0KDI2NDM0NzA3OCwyMzQxMjYyNzczKSx0KDYwNDgwNzYyOCwyMDA3ODAwOTMzKSx0KDc3MDI1NTk4MywxNDk1OTkwOTAxKSx0KDEyNDkxNTAxMjIsMTg1NjQzMTIzNSksdCgxNTU1MDgxNjkyLDMxNzUyMTgxMzIpLHQoMTk5NjA2NDk4NiwyMTk4OTUwODM3KSx0KDI1NTQyMjA4ODIsMzk5OTcxOTMzOSksdCgyODIxODM0MzQ5LDc2Njc4NDAxNiksdCgyOTUyOTk2ODA4LDI1NjY1OTQ4NzkpLHQoMzIxMDMxMzY3MSwzMjAzMzM3OTU2KSx0KDMzMzY1NzE4OTEsMTAzNDQ1NzAyNiksdCgzNTg0NTI4NzExLDI0NjY5NDg5MDEpLHQoMTEzOTI2OTkzLDM3NTgzMjYzODMpLHQoMzM4MjQxODk1LDE2ODcxNzkzNiksdCg2NjYzMDcyMDUsMTE4ODE3OTk2NCksdCg3NzM1Mjk5MTIsMTU0NjA0NTczNCksdCgxMjk0NzU3MzcyLDE1MjI4MDU0ODUpLHQoMTM5NjE4MjI5MSwyNjQzODMzODIzKSx0KDE2OTUxODM3MDAsMjM0MzUyNzM5MCksdCgxOTg2NjYxMDUxLDEwMTQ0Nzc0ODApLHQoMjE3NzAyNjM1MCwxMjA2NzU5MTQyKSx0KDI0NTY5NTYwMzcsMzQ0MDc3NjI3KSx0KDI3MzA0ODU5MjEsMTI5MDg2MzQ2MCksdCgyODIwMzAyNDExLDMxNTg0NTQyNzMpLHQoMzI1OTczMDgwMCwzNTA1OTUyNjU3KSx0KDMzNDU3NjQ3NzEsMTA2MjE3MDA4KSx0KDM1MTYwNjU4MTcsMzYwNjAwODM0NCksdCgzNjAwMzUyODA0LDE0MzI3MjU3NzYpLHQoNDA5NDU3MTkwOSwxNDY3MDMxNTk0KSx0KDI3NTQyMzM0NCw4NTExNjk3MjApLHQoNDMwMjI3NzM0LDMxMDA4MjM3NTIpLHQoNTA2OTQ4NjE2LDEzNjMyNTgxOTUpLHQoNjU5MDYwNTU2LDM3NTA2ODU1OTMpLHQoODgzOTk3ODc3LDM3ODUwNTAyODApLHQoOTU4MTM5NTcxLDMzMTgzMDc0MjcpLHQoMTMyMjgyMjIxOCwzODEyNzIzNDAzKSx0KDE1MzcwMDIwNjMsMjAwMzAzNDk5NSksdCgxNzQ3ODczNzc5LDM2MDIwMzY4OTkpLHQoMTk1NTU2MjIyMiwxNTc1OTkwMDEyKSx0KDIwMjQxMDQ4MTUsMTEyNTU5MjkyOCksdCgyMjI3NzMwNDUyLDI3MTY5MDQzMDYpLHQoMjM2MTg1MjQyNCw0NDI3NzYwNDQpLHQoMjQyODQzNjQ3NCw1OTM2OTgzNDQpLHQoMjc1NjczNDE4NywzNzMzMTEwMjQ5KSx0KDMyMDQwMzE0NzksMjk5OTM1MTU3MyksdCgzMzI5MzI1Mjk4LDM4MTU5MjA0MjcpLHQoMzM5MTU2OTYxNCwzOTI4MzgzOTAwKSx0KDM1MTUyNjcyNzEsNTY2MjgwNzExKSx0KDM5NDAxODc2MDYsMzQ1NDA2OTUzNCksdCg0MTE4NjMwMjcxLDQwMDAyMzk5OTIpLHQoMTE2NDE4NDc0LDE5MTQxMzg1NTQpLHQoMTc0MjkyNDIxLDI3MzEwNTUyNzApLHQoMjg5MzgwMzU2LDMyMDM5OTMwMDYpLHQoNDYwMzkzMjY5LDMyMDYyMDMxNSksdCg2ODU0NzE3MzMsNTg3NDk2ODM2KSx0KDg1MjE0Mjk3MSwxMDg2NzkyODUxKSx0KDEwMTcwMzYyOTgsMzY1NTQzMTAwKSx0KDExMjYwMDA1ODAsMjYxODI5NzY3NiksdCgxMjg4MDMzNDcwLDM0MDk4NTUxNTgpLHQoMTUwMTUwNTk0OCw0MjM0NTA5ODY2KSx0KDE2MDcxNjc5MTUsOTg3MTY3NDY4KSx0KDE4MTY0MDIzMTYsMTI0NjE4OTU5MSldLGE9W10sdT0wOzgwPnU7dSsrKWFbdV09dCgpO3I9ci5TSEE1MTI9bi5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgcy5pbml0KFtuZXcgaS5pbml0KDE3NzkwMzM3MDMsNDA4OTIzNTcyMCksbmV3IGkuaW5pdCgzMTQ0MTM0Mjc3LDIyMjc4NzM1OTUpLG5ldyBpLmluaXQoMTAxMzkwNDI0Miw0MjcxMTc1NzIzKSxuZXcgaS5pbml0KDI3NzM0ODA3NjIsMTU5NTc1MDEyOSksbmV3IGkuaW5pdCgxMzU5ODkzMTE5LDI5MTc1NjUxMzcpLG5ldyBpLmluaXQoMjYwMDgyMjkyNCw3MjU1MTExOTkpLG5ldyBpLmluaXQoNTI4NzM0NjM1LDQyMTUzODk1NDcpLG5ldyBpLmluaXQoMTU0MTQ1OTIyNSwzMjcwMzMyMDkpXSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9oYXNoLndvcmRzLHI9blswXSxpPW5bMV0scz1uWzJdLHU9blszXSxoPW5bNF0sYz1uWzVdLGY9bls2XSxuPW5bN10sbD1yLmhpZ2gsZD1yLmxvdyxnPWkuaGlnaCxwPWkubG93LHk9cy5oaWdoLHY9cy5sb3csbT11LmhpZ2gsUz11LmxvdyxiPWguaGlnaCx3PWgubG93LEU9Yy5oaWdoLF89Yy5sb3cseD1mLmhpZ2gsQT1mLmxvdyxGPW4uaGlnaCxQPW4ubG93LE89bCxDPWQsVD1nLEQ9cCxSPXksaj12LEg9bSxJPVMsaz1iLEI9dyxOPUUsVj1fLE09eCxLPUEsTD1GLFU9UCxxPTA7ODA+cTtxKyspe3ZhciBXPWFbcV07aWYoMTY+cSl2YXIgSj1XLmhpZ2g9MHx0W2UrMipxXSx6PVcubG93PTB8dFtlKzIqcSsxXTtlbHNle3ZhciBKPWFbcS0xNV0sej1KLmhpZ2gsWT1KLmxvdyxKPSh6Pj4+MXxZPDwzMSleKHo+Pj44fFk8PDI0KV56Pj4+NyxZPShZPj4+MXx6PDwzMSleKFk+Pj44fHo8PDI0KV4oWT4+Pjd8ejw8MjUpLEc9YVtxLTJdLHo9Ry5oaWdoLFg9Ry5sb3csRz0oej4+PjE5fFg8PDEzKV4oejw8M3xYPj4+MjkpXno+Pj42LFg9KFg+Pj4xOXx6PDwxMyleKFg8PDN8ej4+PjI5KV4oWD4+PjZ8ejw8MjYpLHo9YVtxLTddLCQ9ei5oaWdoLFE9YVtxLTE2XSxaPVEuaGlnaCxRPVEubG93LHo9WSt6LmxvdyxKPUorJCsoej4+PjA8WT4+PjA/MTowKSx6PXorWCxKPUorRysoej4+PjA8WD4+PjA/MTowKSx6PXorUSxKPUorWisoej4+PjA8UT4+PjA/MTowKTtXLmhpZ2g9SixXLmxvdz16fXZhciAkPWsmTl5+ayZNLFE9QiZWXn5CJkssVz1PJlReTyZSXlQmUix0dD1DJkReQyZqXkQmaixZPShPPj4+Mjh8Qzw8NCleKE88PDMwfEM+Pj4yKV4oTzw8MjV8Qz4+PjcpLEc9KEM+Pj4yOHxPPDw0KV4oQzw8MzB8Tz4+PjIpXihDPDwyNXxPPj4+NyksWD1vW3FdLGV0PVguaGlnaCxudD1YLmxvdyxYPVUrKChCPj4+MTR8azw8MTgpXihCPj4+MTh8azw8MTQpXihCPDwyM3xrPj4+OSkpLFo9TCsoKGs+Pj4xNHxCPDwxOCleKGs+Pj4xOHxCPDwxNCleKGs8PDIzfEI+Pj45KSkrKFg+Pj4wPFU+Pj4wPzE6MCksWD1YK1EsWj1aKyQrKFg+Pj4wPFE+Pj4wPzE6MCksWD1YK250LFo9WitldCsoWD4+PjA8bnQ+Pj4wPzE6MCksWD1YK3osWj1aK0orKFg+Pj4wPHo+Pj4wPzE6MCksej1HK3R0LFc9WStXKyh6Pj4+MDxHPj4+MD8xOjApLEw9TSxVPUssTT1OLEs9VixOPWssVj1CLEI9SStYfDAsaz1IK1orKEI+Pj4wPEk+Pj4wPzE6MCl8MCxIPVIsST1qLFI9VCxqPUQsVD1PLEQ9QyxDPVgrenwwLE89WitXKyhDPj4+MDxYPj4+MD8xOjApfDB9ZD1yLmxvdz1kK0Msci5oaWdoPWwrTysoZD4+PjA8Qz4+PjA/MTowKSxwPWkubG93PXArRCxpLmhpZ2g9ZytUKyhwPj4+MDxEPj4+MD8xOjApLHY9cy5sb3c9ditqLHMuaGlnaD15K1IrKHY+Pj4wPGo+Pj4wPzE6MCksUz11Lmxvdz1TK0ksdS5oaWdoPW0rSCsoUz4+PjA8ST4+PjA/MTowKSx3PWgubG93PXcrQixoLmhpZ2g9YitrKyh3Pj4+MDxCPj4+MD8xOjApLF89Yy5sb3c9XytWLGMuaGlnaD1FK04rKF8+Pj4wPFY+Pj4wPzE6MCksQT1mLmxvdz1BK0ssZi5oaWdoPXgrTSsoQT4+PjA8Sz4+PjA/MTowKSxQPW4ubG93PVArVSxuLmhpZ2g9RitMKyhQPj4+MDxVPj4+MD8xOjApfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEsZT10LndvcmRzLG49OCp0aGlzLl9uRGF0YUJ5dGVzLHI9OCp0LnNpZ0J5dGVzO3JldHVybiBlW3I+Pj41XXw9MTI4PDwyNC1yJTMyLGVbKHIrMTI4Pj4+MTA8PDUpKzMwXT1NYXRoLmZsb29yKG4vNDI5NDk2NzI5NiksZVsocisxMjg+Pj4xMDw8NSkrMzFdPW4sdC5zaWdCeXRlcz00KmUubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNoLnRvWDMyKCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fSxibG9ja1NpemU6MzJ9KSxlLlNIQTUxMj1uLl9jcmVhdGVIZWxwZXIociksZS5IbWFjU0hBNTEyPW4uX2NyZWF0ZUhtYWNIZWxwZXIocil9KCksZnVuY3Rpb24oKXt2YXIgdD1vcixlPXQueDY0LG49ZS5Xb3JkLHI9ZS5Xb3JkQXJyYXksZT10LmFsZ28saT1lLlNIQTUxMixlPWUuU0hBMzg0PWkuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IHIuaW5pdChbbmV3IG4uaW5pdCgzNDE4MDcwMzY1LDMyMzgzNzEwMzIpLG5ldyBuLmluaXQoMTY1NDI3MDI1MCw5MTQxNTA2NjMpLG5ldyBuLmluaXQoMjQzODUyOTM3MCw4MTI3MDI5OTkpLG5ldyBuLmluaXQoMzU1NDYyMzYwLDQxNDQ5MTI2OTcpLG5ldyBuLmluaXQoMTczMTQwNTQxNSw0MjkwNzc1ODU3KSxuZXcgbi5pbml0KDIzOTQxODAyMzEsMTc1MDYwMzAyNSksbmV3IG4uaW5pdCgzNjc1MDA4NTI1LDE2OTQwNzY4MzkpLG5ldyBuLmluaXQoMTIwMzA2MjgxMywzMjA0MDc1NDI4KV0pfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PWkuX2RvRmluYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gdC5zaWdCeXRlcy09MTYsdH19KTt0LlNIQTM4ND1pLl9jcmVhdGVIZWxwZXIoZSksdC5IbWFjU0hBMzg0PWkuX2NyZWF0ZUhtYWNIZWxwZXIoZSl9KCksZnVuY3Rpb24oKXt2YXIgdD1vcixlPXQubGliLG49ZS5Xb3JkQXJyYXkscj1lLkhhc2hlcixlPXQuYWxnbyxpPW4uY3JlYXRlKFswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDcsNCwxMywxLDEwLDYsMTUsMywxMiwwLDksNSwyLDE0LDExLDgsMywxMCwxNCw0LDksMTUsOCwxLDIsNywwLDYsMTMsMTEsNSwxMiwxLDksMTEsMTAsMCw4LDEyLDQsMTMsMyw3LDE1LDE0LDUsNiwyLDQsMCw1LDksNywxMiwyLDEwLDE0LDEsMyw4LDExLDYsMTUsMTNdKSxzPW4uY3JlYXRlKFs1LDE0LDcsMCw5LDIsMTEsNCwxMyw2LDE1LDgsMSwxMCwzLDEyLDYsMTEsMyw3LDAsMTMsNSwxMCwxNCwxNSw4LDEyLDQsOSwxLDIsMTUsNSwxLDMsNywxNCw2LDksMTEsOCwxMiwyLDEwLDAsNCwxMyw4LDYsNCwxLDMsMTEsMTUsMCw1LDEyLDIsMTMsOSw3LDEwLDE0LDEyLDE1LDEwLDQsMSw1LDgsNyw2LDIsMTMsMTQsMCwzLDksMTFdKSxvPW4uY3JlYXRlKFsxMSwxNCwxNSwxMiw1LDgsNyw5LDExLDEzLDE0LDE1LDYsNyw5LDgsNyw2LDgsMTMsMTEsOSw3LDE1LDcsMTIsMTUsOSwxMSw3LDEzLDEyLDExLDEzLDYsNywxNCw5LDEzLDE1LDE0LDgsMTMsNiw1LDEyLDcsNSwxMSwxMiwxNCwxNSwxNCwxNSw5LDgsOSwxNCw1LDYsOCw2LDUsMTIsOSwxNSw1LDExLDYsOCwxMywxMiw1LDEyLDEzLDE0LDExLDgsNSw2XSksYT1uLmNyZWF0ZShbOCw5LDksMTEsMTMsMTUsMTUsNSw3LDcsOCwxMSwxNCwxNCwxMiw2LDksMTMsMTUsNywxMiw4LDksMTEsNyw3LDEyLDcsNiwxNSwxMywxMSw5LDcsMTUsMTEsOCw2LDYsMTQsMTIsMTMsNSwxNCwxMywxMyw3LDUsMTUsNSw4LDExLDE0LDE0LDYsMTQsNiw5LDEyLDksMTIsNSwxNSw4LDgsNSwxMiw5LDEyLDUsMTQsNiw4LDEzLDYsNSwxNSwxMywxMSwxMV0pLHU9bi5jcmVhdGUoWzAsMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMjg0MDg1MzgzOF0pLGg9bi5jcmVhdGUoWzEzNTI4Mjk5MjYsMTU0ODYwMzY4NCwxODM2MDcyNjkxLDIwNTM5OTQyMTcsMF0pLGU9ZS5SSVBFTUQxNjA9ci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uLmNyZWF0ZShbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7MTY+bjtuKyspe3ZhciByPWUrbixjPXRbcl07XG50W3JdPTE2NzExOTM1JihjPDw4fGM+Pj4yNCl8NDI3ODI1NTM2MCYoYzw8MjR8Yz4+PjgpfXZhciBmLGwsZCxnLHAseSx2LG0sUyxiLHI9dGhpcy5faGFzaC53b3JkcyxjPXUud29yZHMsdz1oLndvcmRzLEU9aS53b3JkcyxfPXMud29yZHMseD1vLndvcmRzLEE9YS53b3Jkczt5PWY9clswXSx2PWw9clsxXSxtPWQ9clsyXSxTPWc9clszXSxiPXA9cls0XTtmb3IodmFyIEYsbj0wOzgwPm47bis9MSlGPWYrdFtlK0Vbbl1dfDAsRj0xNj5uP0YrKChsXmReZykrY1swXSk6MzI+bj9GKygobCZkfH5sJmcpK2NbMV0pOjQ4Pm4/RisoKChsfH5kKV5nKStjWzJdKTo2ND5uP0YrKChsJmd8ZCZ+ZykrY1szXSk6RisoKGxeKGR8fmcpKStjWzRdKSxGfD0wLEY9Rjw8eFtuXXxGPj4+MzIteFtuXSxGPUYrcHwwLGY9cCxwPWcsZz1kPDwxMHxkPj4+MjIsZD1sLGw9RixGPXkrdFtlK19bbl1dfDAsRj0xNj5uP0YrKCh2XihtfH5TKSkrd1swXSk6MzI+bj9GKygodiZTfG0mflMpK3dbMV0pOjQ4Pm4/RisoKCh2fH5tKV5TKSt3WzJdKTo2ND5uP0YrKCh2Jm18fnYmUykrd1szXSk6RisoKHZebV5TKSt3WzRdKSxGfD0wLEY9Rjw8QVtuXXxGPj4+MzItQVtuXSxGPUYrYnwwLHk9YixiPVMsUz1tPDwxMHxtPj4+MjIsbT12LHY9RjtGPXJbMV0rZCtTfDAsclsxXT1yWzJdK2crYnwwLHJbMl09clszXStwK3l8MCxyWzNdPXJbNF0rZit2fDAscls0XT1yWzBdK2wrbXwwLHJbMF09Rn0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dC53b3JkcyxuPTgqdGhpcy5fbkRhdGFCeXRlcyxyPTgqdC5zaWdCeXRlcztmb3IoZVtyPj4+NV18PTEyODw8MjQtciUzMixlWyhyKzY0Pj4+OTw8NCkrMTRdPTE2NzExOTM1JihuPDw4fG4+Pj4yNCl8NDI3ODI1NTM2MCYobjw8MjR8bj4+PjgpLHQuc2lnQnl0ZXM9NCooZS5sZW5ndGgrMSksdGhpcy5fcHJvY2VzcygpLHQ9dGhpcy5faGFzaCxlPXQud29yZHMsbj0wOzU+bjtuKyspcj1lW25dLGVbbl09MTY3MTE5MzUmKHI8PDh8cj4+PjI0KXw0Mjc4MjU1MzYwJihyPDwyNHxyPj4+OCk7cmV0dXJuIHR9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9ci5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fX0pO3QuUklQRU1EMTYwPXIuX2NyZWF0ZUhlbHBlcihlKSx0LkhtYWNSSVBFTUQxNjA9ci5fY3JlYXRlSG1hY0hlbHBlcihlKX0oTWF0aCksZnVuY3Rpb24oKXt2YXIgdD1vcixlPXQuZW5jLlV0Zjg7dC5hbGdvLkhNQUM9dC5saWIuQmFzZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxuKXt0PXRoaXMuX2hhc2hlcj1uZXcgdC5pbml0LFwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1lLnBhcnNlKG4pKTt2YXIgcj10LmJsb2NrU2l6ZSxpPTQqcjtuLnNpZ0J5dGVzPmkmJihuPXQuZmluYWxpemUobikpLG4uY2xhbXAoKTtmb3IodmFyIHM9dGhpcy5fb0tleT1uLmNsb25lKCksbz10aGlzLl9pS2V5PW4uY2xvbmUoKSxhPXMud29yZHMsdT1vLndvcmRzLGg9MDtoPHI7aCsrKWFbaF1ePTE1NDk1NTY4MjgsdVtoXV49OTA5NTIyNDg2O3Muc2lnQnl0ZXM9by5zaWdCeXRlcz1pLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9oYXNoZXI7dC5yZXNldCgpLHQudXBkYXRlKHRoaXMuX2lLZXkpfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2hhc2hlci51cGRhdGUodCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faGFzaGVyO3JldHVybiB0PWUuZmluYWxpemUodCksZS5yZXNldCgpLGUuZmluYWxpemUodGhpcy5fb0tleS5jbG9uZSgpLmNvbmNhdCh0KSl9fSl9KCksZnVuY3Rpb24oKXt2YXIgdD1vcixlPXQubGliLG49ZS5CYXNlLHI9ZS5Xb3JkQXJyYXksZT10LmFsZ28saT1lLkhNQUMscz1lLlBCS0RGMj1uLmV4dGVuZCh7Y2ZnOm4uZXh0ZW5kKHtrZXlTaXplOjQsaGFzaGVyOmUuU0hBMSxpdGVyYXRpb25zOjF9KSxpbml0OmZ1bmN0aW9uKHQpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZCh0KX0sY29tcHV0ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmNmZyxzPWkuY3JlYXRlKG4uaGFzaGVyLHQpLG89ci5jcmVhdGUoKSxhPXIuY3JlYXRlKFsxXSksdT1vLndvcmRzLGg9YS53b3JkcyxjPW4ua2V5U2l6ZSxuPW4uaXRlcmF0aW9uczt1Lmxlbmd0aDxjOyl7dmFyIGY9cy51cGRhdGUoZSkuZmluYWxpemUoYSk7cy5yZXNldCgpO2Zvcih2YXIgbD1mLndvcmRzLGQ9bC5sZW5ndGgsZz1mLHA9MTtwPG47cCsrKXtnPXMuZmluYWxpemUoZykscy5yZXNldCgpO2Zvcih2YXIgeT1nLndvcmRzLHY9MDt2PGQ7disrKWxbdl1ePXlbdl19by5jb25jYXQoZiksaFswXSsrfXJldHVybiBvLnNpZ0J5dGVzPTQqYyxvfX0pO3QuUEJLREYyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcy5jcmVhdGUobikuY29tcHV0ZSh0LGUpfX0oKTsvKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cblx0ICovXG52YXIgYXIsdXI9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsaHI9XCI9XCIsY3I9MHhkZWFkYmVlZmNhZmUsZnI9MTU3MTUwNzA9PSgxNjc3NzIxNSZjcik7ZnImJlwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PXJyLmFwcE5hbWU/KG8ucHJvdG90eXBlLmFtPWgsYXI9MzApOmZyJiZcIk5ldHNjYXBlXCIhPXJyLmFwcE5hbWU/KG8ucHJvdG90eXBlLmFtPXUsYXI9MjYpOihvLnByb3RvdHlwZS5hbT1jLGFyPTI4KSxvLnByb3RvdHlwZS5EQj1hcixvLnByb3RvdHlwZS5ETT0oMTw8YXIpLTEsby5wcm90b3R5cGUuRFY9MTw8YXI7dmFyIGxyPTUyO28ucHJvdG90eXBlLkZWPU1hdGgucG93KDIsbHIpLG8ucHJvdG90eXBlLkYxPWxyLWFyLG8ucHJvdG90eXBlLkYyPTIqYXItbHI7dmFyIGRyLGdyLHByPVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIseXI9bmV3IEFycmF5O2Zvcihkcj1cIjBcIi5jaGFyQ29kZUF0KDApLGdyPTA7Z3I8PTk7Kytncil5cltkcisrXT1ncjtmb3IoZHI9XCJhXCIuY2hhckNvZGVBdCgwKSxncj0xMDtncjwzNjsrK2dyKXlyW2RyKytdPWdyO2Zvcihkcj1cIkFcIi5jaGFyQ29kZUF0KDApLGdyPTEwO2dyPDM2OysrZ3IpeXJbZHIrK109Z3I7ai5wcm90b3R5cGUuY29udmVydD1ILGoucHJvdG90eXBlLnJldmVydD1JLGoucHJvdG90eXBlLnJlZHVjZT1rLGoucHJvdG90eXBlLm11bFRvPUIsai5wcm90b3R5cGUuc3FyVG89TixNLnByb3RvdHlwZS5jb252ZXJ0PUssTS5wcm90b3R5cGUucmV2ZXJ0PUwsTS5wcm90b3R5cGUucmVkdWNlPVUsTS5wcm90b3R5cGUubXVsVG89VyxNLnByb3RvdHlwZS5zcXJUbz1xLG8ucHJvdG90eXBlLmNvcHlUbz1kLG8ucHJvdG90eXBlLmZyb21JbnQ9ZyxvLnByb3RvdHlwZS5mcm9tU3RyaW5nPXksby5wcm90b3R5cGUuY2xhbXA9dixvLnByb3RvdHlwZS5kbFNoaWZ0VG89eCxvLnByb3RvdHlwZS5kclNoaWZ0VG89QSxvLnByb3RvdHlwZS5sU2hpZnRUbz1GLG8ucHJvdG90eXBlLnJTaGlmdFRvPVAsby5wcm90b3R5cGUuc3ViVG89TyxvLnByb3RvdHlwZS5tdWx0aXBseVRvPUMsby5wcm90b3R5cGUuc3F1YXJlVG89VCxvLnByb3RvdHlwZS5kaXZSZW1Ubz1ELG8ucHJvdG90eXBlLmludkRpZ2l0PVYsby5wcm90b3R5cGUuaXNFdmVuPUosby5wcm90b3R5cGUuZXhwPXosby5wcm90b3R5cGUudG9TdHJpbmc9bSxvLnByb3RvdHlwZS5uZWdhdGU9UyxvLnByb3RvdHlwZS5hYnM9YixvLnByb3RvdHlwZS5jb21wYXJlVG89dyxvLnByb3RvdHlwZS5iaXRMZW5ndGg9XyxvLnByb3RvdHlwZS5tb2Q9UixvLnByb3RvdHlwZS5tb2RQb3dJbnQ9WSxvLlpFUk89cCgwKSxvLk9ORT1wKDEpLFZ0LnByb3RvdHlwZS5jb252ZXJ0PU10LFZ0LnByb3RvdHlwZS5yZXZlcnQ9TXQsVnQucHJvdG90eXBlLm11bFRvPUt0LFZ0LnByb3RvdHlwZS5zcXJUbz1MdCxKdC5wcm90b3R5cGUuY29udmVydD16dCxKdC5wcm90b3R5cGUucmV2ZXJ0PVl0LEp0LnByb3RvdHlwZS5yZWR1Y2U9R3QsSnQucHJvdG90eXBlLm11bFRvPSR0LEp0LnByb3RvdHlwZS5zcXJUbz1YdDt2YXIgdnI9WzIsMyw1LDcsMTEsMTMsMTcsMTksMjMsMjksMzEsMzcsNDEsNDMsNDcsNTMsNTksNjEsNjcsNzEsNzMsNzksODMsODksOTcsMTAxLDEwMywxMDcsMTA5LDExMywxMjcsMTMxLDEzNywxMzksMTQ5LDE1MSwxNTcsMTYzLDE2NywxNzMsMTc5LDE4MSwxOTEsMTkzLDE5NywxOTksMjExLDIyMywyMjcsMjI5LDIzMywyMzksMjQxLDI1MSwyNTcsMjYzLDI2OSwyNzEsMjc3LDI4MSwyODMsMjkzLDMwNywzMTEsMzEzLDMxNywzMzEsMzM3LDM0NywzNDksMzUzLDM1OSwzNjcsMzczLDM3OSwzODMsMzg5LDM5Nyw0MDEsNDA5LDQxOSw0MjEsNDMxLDQzMyw0MzksNDQzLDQ0OSw0NTcsNDYxLDQ2Myw0NjcsNDc5LDQ4Nyw0OTEsNDk5LDUwMyw1MDksNTIxLDUyMyw1NDEsNTQ3LDU1Nyw1NjMsNTY5LDU3MSw1NzcsNTg3LDU5Myw1OTksNjAxLDYwNyw2MTMsNjE3LDYxOSw2MzEsNjQxLDY0Myw2NDcsNjUzLDY1OSw2NjEsNjczLDY3Nyw2ODMsNjkxLDcwMSw3MDksNzE5LDcyNyw3MzMsNzM5LDc0Myw3NTEsNzU3LDc2MSw3NjksNzczLDc4Nyw3OTcsODA5LDgxMSw4MjEsODIzLDgyNyw4MjksODM5LDg1Myw4NTcsODU5LDg2Myw4NzcsODgxLDg4Myw4ODcsOTA3LDkxMSw5MTksOTI5LDkzNyw5NDEsOTQ3LDk1Myw5NjcsOTcxLDk3Nyw5ODMsOTkxLDk5N10sbXI9KDE8PDI2KS92clt2ci5sZW5ndGgtMV07by5wcm90b3R5cGUuY2h1bmtTaXplPVosby5wcm90b3R5cGUudG9SYWRpeD1ldCxvLnByb3RvdHlwZS5mcm9tUmFkaXg9bnQsby5wcm90b3R5cGUuZnJvbU51bWJlcj1ydCxvLnByb3RvdHlwZS5iaXR3aXNlVG89dXQsby5wcm90b3R5cGUuY2hhbmdlQml0PUF0LG8ucHJvdG90eXBlLmFkZFRvPUN0LG8ucHJvdG90eXBlLmRNdWx0aXBseT1CdCxvLnByb3RvdHlwZS5kQWRkT2Zmc2V0PU50LG8ucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbz1xdCxvLnByb3RvdHlwZS5tdWx0aXBseVVwcGVyVG89V3Qsby5wcm90b3R5cGUubW9kSW50PXRlLG8ucHJvdG90eXBlLm1pbGxlclJhYmluPXJlLG8ucHJvdG90eXBlLmNsb25lPUcsby5wcm90b3R5cGUuaW50VmFsdWU9WCxvLnByb3RvdHlwZS5ieXRlVmFsdWU9JCxvLnByb3RvdHlwZS5zaG9ydFZhbHVlPVEsby5wcm90b3R5cGUuc2lnbnVtPXR0LG8ucHJvdG90eXBlLnRvQnl0ZUFycmF5PWl0LG8ucHJvdG90eXBlLmVxdWFscz1zdCxvLnByb3RvdHlwZS5taW49b3Qsby5wcm90b3R5cGUubWF4PWF0LG8ucHJvdG90eXBlLmFuZD1jdCxvLnByb3RvdHlwZS5vcj1sdCxvLnByb3RvdHlwZS54b3I9Z3Qsby5wcm90b3R5cGUuYW5kTm90PXl0LG8ucHJvdG90eXBlLm5vdD12dCxvLnByb3RvdHlwZS5zaGlmdExlZnQ9bXQsby5wcm90b3R5cGUuc2hpZnRSaWdodD1TdCxvLnByb3RvdHlwZS5nZXRMb3dlc3RTZXRCaXQ9d3Qsby5wcm90b3R5cGUuYml0Q291bnQ9X3Qsby5wcm90b3R5cGUudGVzdEJpdD14dCxvLnByb3RvdHlwZS5zZXRCaXQ9RnQsby5wcm90b3R5cGUuY2xlYXJCaXQ9UHQsby5wcm90b3R5cGUuZmxpcEJpdD1PdCxvLnByb3RvdHlwZS5hZGQ9VHQsby5wcm90b3R5cGUuc3VidHJhY3Q9RHQsby5wcm90b3R5cGUubXVsdGlwbHk9UnQsby5wcm90b3R5cGUuZGl2aWRlPUh0LG8ucHJvdG90eXBlLnJlbWFpbmRlcj1JdCxvLnByb3RvdHlwZS5kaXZpZGVBbmRSZW1haW5kZXI9a3Qsby5wcm90b3R5cGUubW9kUG93PVF0LG8ucHJvdG90eXBlLm1vZEludmVyc2U9ZWUsby5wcm90b3R5cGUucG93PVV0LG8ucHJvdG90eXBlLmdjZD1adCxvLnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWU9bmUsby5wcm90b3R5cGUuc3F1YXJlPWp0LGllLnByb3RvdHlwZS5pbml0PXNlLGllLnByb3RvdHlwZS5uZXh0PW9lO3ZhciBTcixicix3cixFcj0yNTY7aWYobnVsbD09YnIpe2JyPW5ldyBBcnJheSx3cj0wO3ZhciBfcjtpZihpci5jcnlwdG8mJmlyLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpe3ZhciB4cj1uZXcgVWludDhBcnJheSgzMik7Zm9yKGlyLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoeHIpLF9yPTA7X3I8MzI7Kytfciliclt3cisrXT14cltfcl19aWYoXCJOZXRzY2FwZVwiPT1yci5hcHBOYW1lJiZyci5hcHBWZXJzaW9uPFwiNVwiJiZpci5jcnlwdG8pe3ZhciBBcj1pci5jcnlwdG8ucmFuZG9tKDMyKTtmb3IoX3I9MDtfcjxBci5sZW5ndGg7Kytfciliclt3cisrXT0yNTUmQXIuY2hhckNvZGVBdChfcil9Zm9yKDt3cjxFcjspX3I9TWF0aC5mbG9vcig2NTUzNipNYXRoLnJhbmRvbSgpKSxiclt3cisrXT1fcj4+PjgsYnJbd3IrK109MjU1Jl9yO3dyPTAsaGUoKX1sZS5wcm90b3R5cGUubmV4dEJ5dGVzPWZlO3ZhciBGcj0yMDt2ZS5wcm90b3R5cGUuZG9QdWJsaWM9U2UsdmUucHJvdG90eXBlLnNldFB1YmxpYz1tZSx2ZS5wcm90b3R5cGUuZW5jcnlwdD1iZSx2ZS5wcm90b3R5cGUuZW5jcnlwdE9BRVA9d2UsdmUucHJvdG90eXBlLnR5cGU9XCJSU0FcIjt2YXIgRnI9MjA7dmUucHJvdG90eXBlLmRvUHJpdmF0ZT1PZSx2ZS5wcm90b3R5cGUuc2V0UHJpdmF0ZT1BZSx2ZS5wcm90b3R5cGUuc2V0UHJpdmF0ZUV4PUZlLHZlLnByb3RvdHlwZS5nZW5lcmF0ZT1QZSx2ZS5wcm90b3R5cGUuZGVjcnlwdD1DZSx2ZS5wcm90b3R5cGUuZGVjcnlwdE9BRVA9VGUsRGUucHJvdG90eXBlLmVxdWFscz1SZSxEZS5wcm90b3R5cGUudG9CaWdJbnRlZ2VyPWplLERlLnByb3RvdHlwZS5uZWdhdGU9SGUsRGUucHJvdG90eXBlLmFkZD1JZSxEZS5wcm90b3R5cGUuc3VidHJhY3Q9a2UsRGUucHJvdG90eXBlLm11bHRpcGx5PUJlLERlLnByb3RvdHlwZS5zcXVhcmU9TmUsRGUucHJvdG90eXBlLmRpdmlkZT1WZSxNZS5wcm90b3R5cGUuZ2V0WD1LZSxNZS5wcm90b3R5cGUuZ2V0WT1MZSxNZS5wcm90b3R5cGUuZXF1YWxzPVVlLE1lLnByb3RvdHlwZS5pc0luZmluaXR5PXFlLE1lLnByb3RvdHlwZS5uZWdhdGU9V2UsTWUucHJvdG90eXBlLmFkZD1KZSxNZS5wcm90b3R5cGUudHdpY2U9emUsTWUucHJvdG90eXBlLm11bHRpcGx5PVllLE1lLnByb3RvdHlwZS5tdWx0aXBseVR3bz1HZSxYZS5wcm90b3R5cGUuZ2V0UT0kZSxYZS5wcm90b3R5cGUuZ2V0QT1RZSxYZS5wcm90b3R5cGUuZ2V0Qj1aZSxYZS5wcm90b3R5cGUuZXF1YWxzPXRuLFhlLnByb3RvdHlwZS5nZXRJbmZpbml0eT1lbixYZS5wcm90b3R5cGUuZnJvbUJpZ0ludGVnZXI9bm4sWGUucHJvdG90eXBlLmRlY29kZVBvaW50SGV4PXJuLC8qISAoYykgU3RlZmFuIFRob21hcyB8IGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luanMvYml0Y29pbmpzLWxpYlxuXHQgKi9cbkRlLnByb3RvdHlwZS5nZXRCeXRlTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMudG9CaWdJbnRlZ2VyKCkuYml0TGVuZ3RoKCkrNykvOCl9LE1lLnByb3RvdHlwZS5nZXRFbmNvZGVkPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC50b0J5dGVBcnJheVVuc2lnbmVkKCk7aWYoZTxuLmxlbmd0aCluPW4uc2xpY2Uobi5sZW5ndGgtZSk7ZWxzZSBmb3IoO2U+bi5sZW5ndGg7KW4udW5zaGlmdCgwKTtyZXR1cm4gbn0sbj10aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKSxyPXRoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpLGk9ZShuLDMyKTtyZXR1cm4gdD9yLmlzRXZlbigpP2kudW5zaGlmdCgyKTppLnVuc2hpZnQoMyk6KGkudW5zaGlmdCg0KSxpPWkuY29uY2F0KGUociwzMikpKSxpfSxNZS5kZWNvZGVGcm9tPWZ1bmN0aW9uKHQsZSl7dmFyIG49KGVbMF0sZS5sZW5ndGgtMSkscj1lLnNsaWNlKDEsMStuLzIpLGk9ZS5zbGljZSgxK24vMiwxK24pO3IudW5zaGlmdCgwKSxpLnVuc2hpZnQoMCk7dmFyIHM9bmV3IG8ociksYT1uZXcgbyhpKTtyZXR1cm4gbmV3IE1lKHQsdC5mcm9tQmlnSW50ZWdlcihzKSx0LmZyb21CaWdJbnRlZ2VyKGEpKX0sTWUuZGVjb2RlRnJvbUhleD1mdW5jdGlvbih0LGUpe3ZhciBuPShlLnN1YnN0cigwLDIpLGUubGVuZ3RoLTIpLHI9ZS5zdWJzdHIoMixuLzIpLGk9ZS5zdWJzdHIoMituLzIsbi8yKSxzPW5ldyBvKHIsMTYpLGE9bmV3IG8oaSwxNik7cmV0dXJuIG5ldyBNZSh0LHQuZnJvbUJpZ0ludGVnZXIocyksdC5mcm9tQmlnSW50ZWdlcihhKSl9LE1lLnByb3RvdHlwZS5hZGQyRD1mdW5jdGlvbih0KXtpZih0aGlzLmlzSW5maW5pdHkoKSlyZXR1cm4gdDtpZih0LmlzSW5maW5pdHkoKSlyZXR1cm4gdGhpcztpZih0aGlzLnguZXF1YWxzKHQueCkpcmV0dXJuIHRoaXMueS5lcXVhbHModC55KT90aGlzLnR3aWNlKCk6dGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpO3ZhciBlPXQueC5zdWJ0cmFjdCh0aGlzLngpLG49dC55LnN1YnRyYWN0KHRoaXMueSkscj1uLmRpdmlkZShlKSxpPXIuc3F1YXJlKCkuc3VidHJhY3QodGhpcy54KS5zdWJ0cmFjdCh0LngpLHM9ci5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QoaSkpLnN1YnRyYWN0KHRoaXMueSk7cmV0dXJuIG5ldyBNZSh0aGlzLmN1cnZlLGkscyl9LE1lLnByb3RvdHlwZS50d2ljZTJEPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09dGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIHQ9dGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihvLnZhbHVlT2YoMikpLGU9dGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihvLnZhbHVlT2YoMykpLG49dGhpcy54LnNxdWFyZSgpLm11bHRpcGx5KGUpLmFkZCh0aGlzLmN1cnZlLmEpLmRpdmlkZSh0aGlzLnkubXVsdGlwbHkodCkpLHI9bi5zcXVhcmUoKS5zdWJ0cmFjdCh0aGlzLngubXVsdGlwbHkodCkpLGk9bi5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QocikpLnN1YnRyYWN0KHRoaXMueSk7cmV0dXJuIG5ldyBNZSh0aGlzLmN1cnZlLHIsaSl9LE1lLnByb3RvdHlwZS5tdWx0aXBseTJEPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXJldHVybiB0aGlzO2lmKDA9PXQuc2lnbnVtKCkpcmV0dXJuIHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTt2YXIgZSxuPXQscj1uLm11bHRpcGx5KG5ldyBvKFwiM1wiKSksaT10aGlzLm5lZ2F0ZSgpLHM9dGhpcztmb3IoZT1yLmJpdExlbmd0aCgpLTI7ZT4wOy0tZSl7cz1zLnR3aWNlKCk7dmFyIGE9ci50ZXN0Qml0KGUpLHU9bi50ZXN0Qml0KGUpO2EhPXUmJihzPXMuYWRkMkQoYT90aGlzOmkpKX1yZXR1cm4gc30sTWUucHJvdG90eXBlLmlzT25DdXJ2ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLGU9dGhpcy5nZXRZKCkudG9CaWdJbnRlZ2VyKCksbj10aGlzLmN1cnZlLmdldEEoKS50b0JpZ0ludGVnZXIoKSxyPXRoaXMuY3VydmUuZ2V0QigpLnRvQmlnSW50ZWdlcigpLGk9dGhpcy5jdXJ2ZS5nZXRRKCkscz1lLm11bHRpcGx5KGUpLm1vZChpKSxvPXQubXVsdGlwbHkodCkubXVsdGlwbHkodCkuYWRkKG4ubXVsdGlwbHkodCkpLmFkZChyKS5tb2QoaSk7cmV0dXJuIHMuZXF1YWxzKG8pfSxNZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIihcIit0aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKS50b1N0cmluZygpK1wiLFwiK3RoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpLnRvU3RyaW5nKCkrXCIpXCJ9LE1lLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VydmUuZ2V0USgpO2lmKHRoaXMuaXNJbmZpbml0eSgpKXRocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIGF0IGluZmluaXR5LlwiKTt2YXIgZT10aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKSxuPXRoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpO2lmKGUuY29tcGFyZVRvKG8uT05FKTwwfHxlLmNvbXBhcmVUbyh0LnN1YnRyYWN0KG8uT05FKSk+MCl0aHJvdyBuZXcgRXJyb3IoXCJ4IGNvb3JkaW5hdGUgb3V0IG9mIGJvdW5kc1wiKTtpZihuLmNvbXBhcmVUbyhvLk9ORSk8MHx8bi5jb21wYXJlVG8odC5zdWJ0cmFjdChvLk9ORSkpPjApdGhyb3cgbmV3IEVycm9yKFwieSBjb29yZGluYXRlIG91dCBvZiBib3VuZHNcIik7aWYoIXRoaXMuaXNPbkN1cnZlKCkpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgaXMgbm90IG9uIHRoZSBjdXJ2ZS5cIik7aWYodGhpcy5tdWx0aXBseSh0KS5pc0luZmluaXR5KCkpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgaXMgbm90IGEgc2NhbGFyIG11bHRpcGxlIG9mIEcuXCIpO3JldHVybiEwfTsvKiEgTWlrZSBTYW11ZWwgKGMpIDIwMDkgfCBjb2RlLmdvb2dsZS5jb20vcC9qc29uLXNhbnMtZXZhbFxuXHQgKi9cbnZhciBQcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3JldHVybiBlP29bZV06U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLDE2KSl9dmFyIGU9XCIoPzotP1xcXFxiKD86MHxbMS05XVswLTldKikoPzpcXFxcLlswLTldKyk/KD86W2VFXVsrLV0/WzAtOV0rKT9cXFxcYilcIixuPScoPzpbXlxcXFwwLVxcXFx4MDhcXFxceDBhLVxcXFx4MWZcIlxcXFxcXFxcXXxcXFxcXFxcXCg/OltcIi9cXFxcXFxcXGJmbnJ0XXx1WzAtOUEtRmEtZl17NH0pKScscj0nKD86XCInK24rJypcIiknLGk9bmV3IFJlZ0V4cChcIig/OmZhbHNlfHRydWV8bnVsbHxbXFxcXHtcXFxcfVxcXFxbXFxcXF1dfFwiK2UrXCJ8XCIrcitcIilcIixcImdcIikscz1uZXcgUmVnRXhwKFwiXFxcXFxcXFwoPzooW151XSl8dSguezR9KSlcIixcImdcIiksbz17J1wiJzonXCInLFwiL1wiOlwiL1wiLFwiXFxcXFwiOlwiXFxcXFwiLGI6XCJcXGJcIixmOlwiXFxmXCIsbjpcIlxcblwiLHI6XCJcXHJcIix0OlwiXFx0XCJ9LGE9bmV3IFN0cmluZyhcIlwiKSx1PVwiXFxcXFwiLGg9KHtcIntcIjpPYmplY3QsXCJbXCI6QXJyYXl9LE9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsbz1lLm1hdGNoKGkpLGM9b1swXSxmPSExO1wie1wiPT09Yz9yPXt9OlwiW1wiPT09Yz9yPVtdOihyPVtdLGY9ITApO2Zvcih2YXIgbCxkPVtyXSxnPTEtZixwPW8ubGVuZ3RoO2c8cDsrK2cpe2M9b1tnXTt2YXIgeTtzd2l0Y2goYy5jaGFyQ29kZUF0KDApKXtkZWZhdWx0Onk9ZFswXSx5W2x8fHkubGVuZ3RoXT0rYyxsPXZvaWQgMDticmVhaztjYXNlIDM0OmlmKGM9Yy5zdWJzdHJpbmcoMSxjLmxlbmd0aC0xKSxjLmluZGV4T2YodSkhPT0tMSYmKGM9Yy5yZXBsYWNlKHMsdCkpLHk9ZFswXSwhbCl7aWYoISh5IGluc3RhbmNlb2YgQXJyYXkpKXtsPWN8fGE7YnJlYWt9bD15Lmxlbmd0aH15W2xdPWMsbD12b2lkIDA7YnJlYWs7Y2FzZSA5MTp5PWRbMF0sZC51bnNoaWZ0KHlbbHx8eS5sZW5ndGhdPVtdKSxsPXZvaWQgMDticmVhaztjYXNlIDkzOmQuc2hpZnQoKTticmVhaztjYXNlIDEwMjp5PWRbMF0seVtsfHx5Lmxlbmd0aF09ITEsbD12b2lkIDA7YnJlYWs7Y2FzZSAxMTA6eT1kWzBdLHlbbHx8eS5sZW5ndGhdPW51bGwsbD12b2lkIDA7YnJlYWs7Y2FzZSAxMTY6eT1kWzBdLHlbbHx8eS5sZW5ndGhdPSEwLGw9dm9pZCAwO2JyZWFrO2Nhc2UgMTIzOnk9ZFswXSxkLnVuc2hpZnQoeVtsfHx5Lmxlbmd0aF09e30pLGw9dm9pZCAwO2JyZWFrO2Nhc2UgMTI1OmQuc2hpZnQoKX19aWYoZil7aWYoMSE9PWQubGVuZ3RoKXRocm93IG5ldyBFcnJvcjtyPXJbMF19ZWxzZSBpZihkLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3I7aWYobil7dmFyIHY9ZnVuY3Rpb24odCxlKXt2YXIgcj10W2VdO2lmKHImJlwib2JqZWN0XCI9PXR5cGVvZiByKXt2YXIgaT1udWxsO2Zvcih2YXIgcyBpbiByKWlmKGguY2FsbChyLHMpJiZyIT09dCl7dmFyIG89dihyLHMpO3ZvaWQgMCE9PW8/cltzXT1vOihpfHwoaT1bXSksaS5wdXNoKHMpKX1pZihpKWZvcih2YXIgYT1pLmxlbmd0aDstLWE+PTA7KWRlbGV0ZSByW2lbYV1dfXJldHVybiBuLmNhbGwodCxlLHIpfTtyPXYoe1wiXCI6cn0sXCJcIil9cmV0dXJuIHJ9fSgpOy8qISBhc24xLTEuMC4xMC5qcyAoYykgMjAxMy0yMDE2IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG5cdCAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyJiZDcnx8KENyPXt9KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3IuYXNuMSYmQ3IuYXNuMXx8KENyLmFzbjE9e30pLENyLmFzbjEuQVNOMVV0aWw9bmV3IGZ1bmN0aW9uKCl7dGhpcy5pbnRlZ2VyVG9CeXRlSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO3JldHVybiBlLmxlbmd0aCUyPT0xJiYoZT1cIjBcIitlKSxlfSx0aGlzLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO2lmKFwiLVwiIT1lLnN1YnN0cigwLDEpKWUubGVuZ3RoJTI9PTE/ZT1cIjBcIitlOmUubWF0Y2goL15bMC03XS8pfHwoZT1cIjAwXCIrZSk7ZWxzZXt2YXIgbj1lLnN1YnN0cigxKSxyPW4ubGVuZ3RoO3IlMj09MT9yKz0xOmUubWF0Y2goL15bMC03XS8pfHwocis9Mik7Zm9yKHZhciBpPVwiXCIscz0wO3M8cjtzKyspaSs9XCJmXCI7dmFyIGE9bmV3IG8oaSwxNiksdT1hLnhvcih0KS5hZGQoby5PTkUpO2U9dS50b1N0cmluZygxNikucmVwbGFjZSgvXi0vLFwiXCIpfXJldHVybiBlfSx0aGlzLmdldFBFTVN0cmluZ0Zyb21IZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj1Fbih0KSxyPW4ucmVwbGFjZSgvKC57NjR9KS9nLFwiJDFcXHJcXG5cIik7cmV0dXJuIHI9ci5yZXBsYWNlKC9cXHJcXG4kLyxcIlwiKSxcIi0tLS0tQkVHSU4gXCIrZStcIi0tLS0tXFxyXFxuXCIrcitcIlxcclxcbi0tLS0tRU5EIFwiK2UrXCItLS0tLVxcclxcblwifSx0aGlzLm5ld09iamVjdD1mdW5jdGlvbih0KXt2YXIgZT1Dci5hc24xLG49T2JqZWN0LmtleXModCk7aWYoMSE9bi5sZW5ndGgpdGhyb3dcImtleSBvZiBwYXJhbSBzaGFsbCBiZSBvbmx5IG9uZS5cIjt2YXIgcj1uWzBdO2lmKFwiOmJvb2w6aW50OmJpdHN0cjpvY3RzdHI6bnVsbDpvaWQ6ZW51bTp1dGY4c3RyOm51bXN0cjpwcm5zdHI6dGVsc3RyOmlhNXN0cjp1dGN0aW1lOmdlbnRpbWU6c2VxOnNldDp0YWc6XCIuaW5kZXhPZihcIjpcIityK1wiOlwiKT09LTEpdGhyb3dcInVuZGVmaW5lZCBrZXk6IFwiK3I7aWYoXCJib29sXCI9PXIpcmV0dXJuIG5ldyBlLkRFUkJvb2xlYW4odFtyXSk7aWYoXCJpbnRcIj09cilyZXR1cm4gbmV3IGUuREVSSW50ZWdlcih0W3JdKTtpZihcImJpdHN0clwiPT1yKXJldHVybiBuZXcgZS5ERVJCaXRTdHJpbmcodFtyXSk7aWYoXCJvY3RzdHJcIj09cilyZXR1cm4gbmV3IGUuREVST2N0ZXRTdHJpbmcodFtyXSk7aWYoXCJudWxsXCI9PXIpcmV0dXJuIG5ldyBlLkRFUk51bGwodFtyXSk7aWYoXCJvaWRcIj09cilyZXR1cm4gbmV3IGUuREVST2JqZWN0SWRlbnRpZmllcih0W3JdKTtpZihcImVudW1cIj09cilyZXR1cm4gbmV3IGUuREVSRW51bWVyYXRlZCh0W3JdKTtpZihcInV0ZjhzdHJcIj09cilyZXR1cm4gbmV3IGUuREVSVVRGOFN0cmluZyh0W3JdKTtpZihcIm51bXN0clwiPT1yKXJldHVybiBuZXcgZS5ERVJOdW1lcmljU3RyaW5nKHRbcl0pO2lmKFwicHJuc3RyXCI9PXIpcmV0dXJuIG5ldyBlLkRFUlByaW50YWJsZVN0cmluZyh0W3JdKTtpZihcInRlbHN0clwiPT1yKXJldHVybiBuZXcgZS5ERVJUZWxldGV4U3RyaW5nKHRbcl0pO2lmKFwiaWE1c3RyXCI9PXIpcmV0dXJuIG5ldyBlLkRFUklBNVN0cmluZyh0W3JdKTtpZihcInV0Y3RpbWVcIj09cilyZXR1cm4gbmV3IGUuREVSVVRDVGltZSh0W3JdKTtpZihcImdlbnRpbWVcIj09cilyZXR1cm4gbmV3IGUuREVSR2VuZXJhbGl6ZWRUaW1lKHRbcl0pO2lmKFwic2VxXCI9PXIpe2Zvcih2YXIgaT10W3JdLHM9W10sbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1lLkFTTjFVdGlsLm5ld09iamVjdChpW29dKTtzLnB1c2goYSl9cmV0dXJuIG5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTpzfSl9aWYoXCJzZXRcIj09cil7Zm9yKHZhciBpPXRbcl0scz1bXSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBhPWUuQVNOMVV0aWwubmV3T2JqZWN0KGlbb10pO3MucHVzaChhKX1yZXR1cm4gbmV3IGUuREVSU2V0KHthcnJheTpzfSl9aWYoXCJ0YWdcIj09cil7dmFyIHU9dFtyXTtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodSkmJjM9PXUubGVuZ3RoKXt2YXIgaD1lLkFTTjFVdGlsLm5ld09iamVjdCh1WzJdKTtyZXR1cm4gbmV3IGUuREVSVGFnZ2VkT2JqZWN0KHt0YWc6dVswXSxleHBsaWNpdDp1WzFdLG9iajpofSl9dmFyIGM9e307aWYodm9pZCAwIT09dS5leHBsaWNpdCYmKGMuZXhwbGljaXQ9dS5leHBsaWNpdCksdm9pZCAwIT09dS50YWcmJihjLnRhZz11LnRhZyksdm9pZCAwPT09dS5vYmopdGhyb3dcIm9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLlwiO3JldHVybiBjLm9iaj1lLkFTTjFVdGlsLm5ld09iamVjdCh1Lm9iaiksbmV3IGUuREVSVGFnZ2VkT2JqZWN0KGMpfX0sdGhpcy5qc29uVG9BU04xSEVYPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubmV3T2JqZWN0KHQpO3JldHVybiBlLmdldEVuY29kZWRIZXgoKX19LENyLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsbj1wYXJzZUludCh0LnN1YnN0cigwLDIpLDE2KSxyPU1hdGguZmxvb3Iobi80MCksaT1uJTQwLGU9citcIi5cIitpLHM9XCJcIixhPTI7YTx0Lmxlbmd0aDthKz0yKXt2YXIgdT1wYXJzZUludCh0LnN1YnN0cihhLDIpLDE2KSxoPShcIjAwMDAwMDAwXCIrdS50b1N0cmluZygyKSkuc2xpY2UoLTgpO2lmKHMrPWguc3Vic3RyKDEsNyksXCIwXCI9PWguc3Vic3RyKDAsMSkpe3ZhciBjPW5ldyBvKHMsMik7ZT1lK1wiLlwiK2MudG9TdHJpbmcoMTApLHM9XCJcIn19cmV0dXJuIGV9LENyLmFzbjEuQVNOMVV0aWwub2lkSW50VG9IZXg9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PWUubGVuZ3RoJiYoZT1cIjBcIitlKSxlfSxuPWZ1bmN0aW9uKHQpe3ZhciBuPVwiXCIscj1uZXcgbyh0LDEwKSxpPXIudG9TdHJpbmcoMikscz03LWkubGVuZ3RoJTc7Nz09cyYmKHM9MCk7Zm9yKHZhciBhPVwiXCIsdT0wO3U8czt1KyspYSs9XCIwXCI7aT1hK2k7Zm9yKHZhciB1PTA7dTxpLmxlbmd0aC0xO3UrPTcpe3ZhciBoPWkuc3Vic3RyKHUsNyk7dSE9aS5sZW5ndGgtNyYmKGg9XCIxXCIraCksbis9ZShwYXJzZUludChoLDIpKX1yZXR1cm4gbn07aWYoIXQubWF0Y2goL15bMC05Ll0rJC8pKXRocm93XCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIrdDt2YXIgcj1cIlwiLGk9dC5zcGxpdChcIi5cIikscz00MCpwYXJzZUludChpWzBdKStwYXJzZUludChpWzFdKTtyKz1lKHMpLGkuc3BsaWNlKDAsMik7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspcis9bihpW2FdKTtyZXR1cm4gcn0sQ3IuYXNuMS5BU04xT2JqZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9XCJcIjt0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLmhWfHxudWxsPT10aGlzLmhWKXRocm93XCJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkLlwiO2lmKHRoaXMuaFYubGVuZ3RoJTI9PTEpdGhyb3dcInZhbHVlIGhleCBtdXN0IGJlIGV2ZW4gbGVuZ3RoOiBuPVwiK3QubGVuZ3RoK1wiLHY9XCIrdGhpcy5oVjt2YXIgZT10aGlzLmhWLmxlbmd0aC8yLG49ZS50b1N0cmluZygxNik7aWYobi5sZW5ndGglMj09MSYmKG49XCIwXCIrbiksZTwxMjgpcmV0dXJuIG47dmFyIHI9bi5sZW5ndGgvMjtpZihyPjE1KXRocm93XCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIrZS50b1N0cmluZygxNik7dmFyIGk9MTI4K3I7cmV0dXJuIGkudG9TdHJpbmcoMTYpK259LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3JldHVybihudWxsPT10aGlzLmhUTFZ8fHRoaXMuaXNNb2RpZmllZCkmJih0aGlzLmhWPXRoaXMuZ2V0RnJlc2hWYWx1ZUhleCgpLHRoaXMuaEw9dGhpcy5nZXRMZW5ndGhIZXhGcm9tVmFsdWUoKSx0aGlzLmhUTFY9dGhpcy5oVCt0aGlzLmhMK3RoaXMuaFYsdGhpcy5pc01vZGlmaWVkPSExKSx0aGlzLmhUTFZ9LHRoaXMuZ2V0VmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVn0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LENyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmc9ZnVuY3Rpb24odCl7Q3IuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5nZXRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfSx0aGlzLnNldFN0cmluZz1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPXQsdGhpcy5oVj11bih0aGlzLnMpfSx0aGlzLnNldFN0cmluZ0hleD1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLnNldFN0cmluZyh0KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5zdHI/dGhpcy5zZXRTdHJpbmcodC5zdHIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmhleCYmdGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEuREVSQWJzdHJhY3RUaW1lPWZ1bmN0aW9uKHQpe0NyLmFzbjEuREVSQWJzdHJhY3RUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmxvY2FsRGF0ZVRvVVRDPWZ1bmN0aW9uKHQpe3V0Yz10LmdldFRpbWUoKSs2ZTQqdC5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciBlPW5ldyBEYXRlKHV0Yyk7cmV0dXJuIGV9LHRoaXMuZm9ybWF0RGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy56ZXJvUGFkZGluZyxpPXRoaXMubG9jYWxEYXRlVG9VVEModCkscz1TdHJpbmcoaS5nZXRGdWxsWWVhcigpKTtcInV0Y1wiPT1lJiYocz1zLnN1YnN0cigyLDIpKTt2YXIgbz1yKFN0cmluZyhpLmdldE1vbnRoKCkrMSksMiksYT1yKFN0cmluZyhpLmdldERhdGUoKSksMiksdT1yKFN0cmluZyhpLmdldEhvdXJzKCkpLDIpLGg9cihTdHJpbmcoaS5nZXRNaW51dGVzKCkpLDIpLGM9cihTdHJpbmcoaS5nZXRTZWNvbmRzKCkpLDIpLGY9cytvK2ErdStoK2M7aWYobj09PSEwKXt2YXIgbD1pLmdldE1pbGxpc2Vjb25kcygpO2lmKDAhPWwpe3ZhciBkPXIoU3RyaW5nKGwpLDMpO2Q9ZC5yZXBsYWNlKC9bMF0rJC8sXCJcIiksZj1mK1wiLlwiK2R9fXJldHVybiBmK1wiWlwifSx0aGlzLnplcm9QYWRkaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPj1lP3Q6bmV3IEFycmF5KGUtdC5sZW5ndGgrMSkuam9pbihcIjBcIikrdH0sdGhpcy5nZXRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfSx0aGlzLnNldFN0cmluZz1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPXQsdGhpcy5oVj11bih0KX0sdGhpcy5zZXRCeURhdGVWYWx1ZT1mdW5jdGlvbih0LGUsbixyLGkscyl7dmFyIG89bmV3IERhdGUoRGF0ZS5VVEModCxlLTEsbixyLGkscywwKSk7dGhpcy5zZXRCeURhdGUobyl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5ERVJBYnN0cmFjdFRpbWUsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZD1mdW5jdGlvbih0KXtDci5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLnNldEJ5QVNOMU9iamVjdEFycmF5PWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmFzbjFBcnJheT10fSx0aGlzLmFwcGVuZEFTTjFPYmplY3Q9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuYXNuMUFycmF5LnB1c2godCl9LHRoaXMuYXNuMUFycmF5PW5ldyBBcnJheSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuYXJyYXkmJih0aGlzLmFzbjFBcnJheT10LmFycmF5KX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLkRFUkJvb2xlYW49ZnVuY3Rpb24oKXtDci5hc24xLkRFUkJvb2xlYW4uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCIwMVwiLHRoaXMuaFRMVj1cIjAxMDFmZlwifSxzci5sYW5nLmV4dGVuZChDci5hc24xLkRFUkJvb2xlYW4sQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLkRFUkludGVnZXI9ZnVuY3Rpb24odCl7Q3IuYXNuMS5ERVJJbnRlZ2VyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPVwiMDJcIix0aGlzLnNldEJ5QmlnSW50ZWdlcj1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj1Dci5hc24xLkFTTjFVdGlsLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4KHQpfSx0aGlzLnNldEJ5SW50ZWdlcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbyhTdHJpbmcodCksMTApO3RoaXMuc2V0QnlCaWdJbnRlZ2VyKGUpfSx0aGlzLnNldFZhbHVlSGV4PWZ1bmN0aW9uKHQpe3RoaXMuaFY9dH0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuYmlnaW50P3RoaXMuc2V0QnlCaWdJbnRlZ2VyKHQuYmlnaW50KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5pbnQ/dGhpcy5zZXRCeUludGVnZXIodC5pbnQpOlwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuc2V0QnlJbnRlZ2VyKHQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmhleCYmdGhpcy5zZXRWYWx1ZUhleCh0LmhleCkpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLkRFUkludGVnZXIsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLkRFUkJpdFN0cmluZz1mdW5jdGlvbih0KXtDci5hc24xLkRFUkJpdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD1cIjAzXCIsdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHM9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9dH0sdGhpcy5zZXRVbnVzZWRCaXRzQW5kSGV4VmFsdWU9ZnVuY3Rpb24odCxlKXtpZih0PDB8fDc8dCl0aHJvd1widW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIit0O3ZhciBuPVwiMFwiK3Q7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9bitlfSx0aGlzLnNldEJ5QmluYXJ5U3RyaW5nPWZ1bmN0aW9uKHQpe3Q9dC5yZXBsYWNlKC8wKyQvLFwiXCIpO3ZhciBlPTgtdC5sZW5ndGglODs4PT1lJiYoZT0wKTtmb3IodmFyIG49MDtuPD1lO24rKyl0Kz1cIjBcIjtmb3IodmFyIHI9XCJcIixuPTA7bjx0Lmxlbmd0aC0xO24rPTgpe3ZhciBpPXQuc3Vic3RyKG4sOCkscz1wYXJzZUludChpLDIpLnRvU3RyaW5nKDE2KTsxPT1zLmxlbmd0aCYmKHM9XCIwXCIrcykscis9c310aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj1cIjBcIitlK3J9LHRoaXMuc2V0QnlCb29sZWFuQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dC5sZW5ndGg7bisrKWUrPTE9PXRbbl0/XCIxXCI6XCIwXCI7dGhpcy5zZXRCeUJpbmFyeVN0cmluZyhlKX0sdGhpcy5uZXdGYWxzZUFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT0hMTtyZXR1cm4gZX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvXlswLTlhLWZdKyQvKT90aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cyh0KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5oZXg/dGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHModC5oZXgpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmJpbj90aGlzLnNldEJ5QmluYXJ5U3RyaW5nKHQuYmluKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5hcnJheSYmdGhpcy5zZXRCeUJvb2xlYW5BcnJheSh0LmFycmF5KSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSQml0U3RyaW5nLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5ERVJPY3RldFN0cmluZz1mdW5jdGlvbih0KXtDci5hc24xLkRFUk9jdGV0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9XCIwNFwifSxzci5sYW5nLmV4dGVuZChDci5hc24xLkRFUk9jdGV0U3RyaW5nLENyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLENyLmFzbjEuREVSTnVsbD1mdW5jdGlvbigpe0NyLmFzbjEuREVSTnVsbC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD1cIjA1XCIsdGhpcy5oVExWPVwiMDUwMFwifSxzci5sYW5nLmV4dGVuZChDci5hc24xLkRFUk51bGwsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLkRFUk9iamVjdElkZW50aWZpZXI9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PWUubGVuZ3RoJiYoZT1cIjBcIitlKSxlfSxuPWZ1bmN0aW9uKHQpe3ZhciBuPVwiXCIscj1uZXcgbyh0LDEwKSxpPXIudG9TdHJpbmcoMikscz03LWkubGVuZ3RoJTc7Nz09cyYmKHM9MCk7Zm9yKHZhciBhPVwiXCIsdT0wO3U8czt1KyspYSs9XCIwXCI7aT1hK2k7Zm9yKHZhciB1PTA7dTxpLmxlbmd0aC0xO3UrPTcpe3ZhciBoPWkuc3Vic3RyKHUsNyk7dSE9aS5sZW5ndGgtNyYmKGg9XCIxXCIraCksbis9ZShwYXJzZUludChoLDIpKX1yZXR1cm4gbn07Q3IuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPVwiMDZcIix0aGlzLnNldFZhbHVlSGV4PWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9bnVsbCx0aGlzLmhWPXR9LHRoaXMuc2V0VmFsdWVPaWRTdHJpbmc9ZnVuY3Rpb24odCl7aWYoIXQubWF0Y2goL15bMC05Ll0rJC8pKXRocm93XCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIrdDt2YXIgcj1cIlwiLGk9dC5zcGxpdChcIi5cIikscz00MCpwYXJzZUludChpWzBdKStwYXJzZUludChpWzFdKTtyKz1lKHMpLGkuc3BsaWNlKDAsMik7Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDtvKyspcis9bihpW29dKTt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj1yfSx0aGlzLnNldFZhbHVlTmFtZT1mdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgQ3IuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3RbdF0pdGhyb3dcIkRFUk9iamVjdElkZW50aWZpZXIgb2lkTmFtZSB1bmRlZmluZWQ6IFwiK3Q7dmFyIGU9Q3IuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3RbdF07dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyhlKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pP3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcodCk6dm9pZCAwIT09Q3IuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3RbdF0/dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyhDci5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdFt0XSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQub2lkP3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcodC5vaWQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmhleD90aGlzLnNldFZhbHVlSGV4KHQuaGV4KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5uYW1lJiZ0aGlzLnNldFZhbHVlTmFtZSh0Lm5hbWUpKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5ERVJFbnVtZXJhdGVkPWZ1bmN0aW9uKHQpe0NyLmFzbjEuREVSRW51bWVyYXRlZC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD1cIjBhXCIsdGhpcy5zZXRCeUJpZ0ludGVnZXI9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9Q3IuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleCh0KX0sdGhpcy5zZXRCeUludGVnZXI9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG8oU3RyaW5nKHQpLDEwKTt0aGlzLnNldEJ5QmlnSW50ZWdlcihlKX0sdGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbih0KXt0aGlzLmhWPXR9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmludD90aGlzLnNldEJ5SW50ZWdlcih0LmludCk6XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy5zZXRCeUludGVnZXIodCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuaGV4JiZ0aGlzLnNldFZhbHVlSGV4KHQuaGV4KSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSRW51bWVyYXRlZCxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEuREVSVVRGOFN0cmluZz1mdW5jdGlvbih0KXtDci5hc24xLkRFUlVURjhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjBjXCJ9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSVVRGOFN0cmluZyxDci5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxDci5hc24xLkRFUk51bWVyaWNTdHJpbmc9ZnVuY3Rpb24odCl7Q3IuYXNuMS5ERVJOdW1lcmljU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9XCIxMlwifSxzci5sYW5nLmV4dGVuZChDci5hc24xLkRFUk51bWVyaWNTdHJpbmcsQ3IuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyksQ3IuYXNuMS5ERVJQcmludGFibGVTdHJpbmc9ZnVuY3Rpb24odCl7Q3IuYXNuMS5ERVJQcmludGFibGVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjEzXCJ9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLENyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLENyLmFzbjEuREVSVGVsZXRleFN0cmluZz1mdW5jdGlvbih0KXtDci5hc24xLkRFUlRlbGV0ZXhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjE0XCJ9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSVGVsZXRleFN0cmluZyxDci5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxDci5hc24xLkRFUklBNVN0cmluZz1mdW5jdGlvbih0KXtDci5hc24xLkRFUklBNVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPVwiMTZcIn0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5ERVJJQTVTdHJpbmcsQ3IuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyksQ3IuYXNuMS5ERVJVVENUaW1lPWZ1bmN0aW9uKHQpe0NyLmFzbjEuREVSVVRDVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPVwiMTdcIix0aGlzLnNldEJ5RGF0ZT1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5kYXRlPXQsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsXCJ1dGNcIiksdGhpcy5oVj11bih0aGlzLnMpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5kYXRlJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5zJiYodGhpcy5kYXRlPW5ldyBEYXRlLHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLFwidXRjXCIpLHRoaXMuaFY9dW4odGhpcy5zKSksdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuc3RyP3RoaXMuc2V0U3RyaW5nKHQuc3RyKTpcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTldezEyfVokLyk/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpOnZvaWQgMCE9PXQuZGF0ZSYmdGhpcy5zZXRCeURhdGUodC5kYXRlKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSVVRDVGltZSxDci5hc24xLkRFUkFic3RyYWN0VGltZSksQ3IuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWU9ZnVuY3Rpb24odCl7Q3IuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjE4XCIsdGhpcy53aXRoTWlsbGlzPSExLHRoaXMuc2V0QnlEYXRlPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmRhdGU9dCx0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSxcImdlblwiLHRoaXMud2l0aE1pbGxpcyksdGhpcy5oVj11bih0aGlzLnMpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5kYXRlJiZ2b2lkIDA9PT10aGlzLnMmJih0aGlzLmRhdGU9bmV3IERhdGUsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsXCJnZW5cIix0aGlzLndpdGhNaWxsaXMpLHRoaXMuaFY9dW4odGhpcy5zKSksdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuc3RyP3RoaXMuc2V0U3RyaW5nKHQuc3RyKTpcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTldezE0fVokLyk/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpOnZvaWQgMCE9PXQuZGF0ZSYmdGhpcy5zZXRCeURhdGUodC5kYXRlKSx0Lm1pbGxpcz09PSEwJiYodGhpcy53aXRoTWlsbGlzPSEwKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLENyLmFzbjEuREVSQWJzdHJhY3RUaW1lKSxDci5hc24xLkRFUlNlcXVlbmNlPWZ1bmN0aW9uKHQpe0NyLmFzbjEuREVSU2VxdWVuY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjMwXCIsdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiXCIsZT0wO2U8dGhpcy5hc24xQXJyYXkubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5hc24xQXJyYXlbZV07dCs9bi5nZXRFbmNvZGVkSGV4KCl9cmV0dXJuIHRoaXMuaFY9dCx0aGlzLmhWfX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5ERVJTZXF1ZW5jZSxDci5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCksQ3IuYXNuMS5ERVJTZXQ9ZnVuY3Rpb24odCl7Q3IuYXNuMS5ERVJTZXQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjMxXCIsdGhpcy5zb3J0RmxhZz0hMCx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5LGU9MDtlPHRoaXMuYXNuMUFycmF5Lmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuYXNuMUFycmF5W2VdO3QucHVzaChuLmdldEVuY29kZWRIZXgoKSl9cmV0dXJuIDE9PXRoaXMuc29ydEZsYWcmJnQuc29ydCgpLHRoaXMuaFY9dC5qb2luKFwiXCIpLHRoaXMuaFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5zb3J0ZmxhZyYmMD09dC5zb3J0ZmxhZyYmKHRoaXMuc29ydEZsYWc9ITEpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLkRFUlNldCxDci5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCksQ3IuYXNuMS5ERVJUYWdnZWRPYmplY3Q9ZnVuY3Rpb24odCl7Q3IuYXNuMS5ERVJUYWdnZWRPYmplY3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCJhMFwiLHRoaXMuaFY9XCJcIix0aGlzLmlzRXhwbGljaXQ9ITAsdGhpcy5hc24xT2JqZWN0PW51bGwsdGhpcy5zZXRBU04xT2JqZWN0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmhUPWUsdGhpcy5pc0V4cGxpY2l0PXQsdGhpcy5hc24xT2JqZWN0PW4sdGhpcy5pc0V4cGxpY2l0Pyh0aGlzLmhWPXRoaXMuYXNuMU9iamVjdC5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwKToodGhpcy5oVj1udWxsLHRoaXMuaFRMVj1uLmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFY9dGhpcy5oVExWLnJlcGxhY2UoL14uLi8sZSksdGhpcy5pc01vZGlmaWVkPSExKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudGFnJiYodGhpcy5oVD10LnRhZyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZXhwbGljaXQmJih0aGlzLmlzRXhwbGljaXQ9dC5leHBsaWNpdCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQub2JqJiYodGhpcy5hc24xT2JqZWN0PXQub2JqLHRoaXMuc2V0QVNOMU9iamVjdCh0aGlzLmlzRXhwbGljaXQsdGhpcy5oVCx0aGlzLmFzbjFPYmplY3QpKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuREVSVGFnZ2VkT2JqZWN0LENyLmFzbjEuQVNOMU9iamVjdCk7LyohIGFzbjFoZXgtMS4xLjYuanMgKGMpIDIwMTItMjAxNSBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuXHQgKi9cbnZhciBPcj1uZXcgZnVuY3Rpb24oKXt0aGlzLmdldEJ5dGVMZW5ndGhPZkxfQXRPYmo9ZnVuY3Rpb24odCxlKXtpZihcIjhcIiE9dC5zdWJzdHJpbmcoZSsyLGUrMykpcmV0dXJuIDE7dmFyIG49cGFyc2VJbnQodC5zdWJzdHJpbmcoZSszLGUrNCkpO3JldHVybiAwPT1uPy0xOjA8biYmbjwxMD9uKzE6LTJ9LHRoaXMuZ2V0SGV4T2ZMX0F0T2JqPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRCeXRlTGVuZ3RoT2ZMX0F0T2JqKHQsZSk7cmV0dXJuIG48MT9cIlwiOnQuc3Vic3RyaW5nKGUrMixlKzIrMipuKX0sdGhpcy5nZXRJbnRPZkxfQXRPYmo9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEhleE9mTF9BdE9iaih0LGUpO2lmKFwiXCI9PW4pcmV0dXJuLTE7dmFyIHI7cmV0dXJuIHI9cGFyc2VJbnQobi5zdWJzdHJpbmcoMCwxKSk8OD9uZXcgbyhuLDE2KTpuZXcgbyhuLnN1YnN0cmluZygyKSwxNiksci5pbnRWYWx1ZSgpfSx0aGlzLmdldFN0YXJ0UG9zT2ZWX0F0T2JqPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRCeXRlTGVuZ3RoT2ZMX0F0T2JqKHQsZSk7cmV0dXJuIG48MD9uOmUrMioobisxKX0sdGhpcy5nZXRIZXhPZlZfQXRPYmo9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKHQsZSkscj10aGlzLmdldEludE9mTF9BdE9iaih0LGUpO3JldHVybiB0LnN1YnN0cmluZyhuLG4rMipyKX0sdGhpcy5nZXRIZXhPZlRMVl9BdE9iaj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3Vic3RyKGUsMikscj10aGlzLmdldEhleE9mTF9BdE9iaih0LGUpLGk9dGhpcy5nZXRIZXhPZlZfQXRPYmoodCxlKTtyZXR1cm4gbityK2l9LHRoaXMuZ2V0UG9zT2ZOZXh0U2libGluZ19BdE9iaj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0U3RhcnRQb3NPZlZfQXRPYmoodCxlKSxyPXRoaXMuZ2V0SW50T2ZMX0F0T2JqKHQsZSk7cmV0dXJuIG4rMipyfSx0aGlzLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaj1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBBcnJheSxyPXRoaXMuZ2V0U3RhcnRQb3NPZlZfQXRPYmoodCxlKTtuLnB1c2gocik7Zm9yKHZhciBpPXRoaXMuZ2V0SW50T2ZMX0F0T2JqKHQsZSkscz1yLG89MDs7KXt2YXIgYT10aGlzLmdldFBvc09mTmV4dFNpYmxpbmdfQXRPYmoodCxzKTtpZihudWxsPT1hfHxhLXI+PTIqaSlicmVhaztpZihvPj0yMDApYnJlYWs7bi5wdXNoKGEpLHM9YSxvKyt9cmV0dXJuIG59LHRoaXMuZ2V0TnRoQ2hpbGRJbmRleF9BdE9iaj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxlKTtyZXR1cm4gcltuXX0sdGhpcy5nZXREZWNlbmRhbnRJbmRleEJ5TnRoTGlzdD1mdW5jdGlvbih0LGUsbil7aWYoMD09bi5sZW5ndGgpcmV0dXJuIGU7dmFyIHI9bi5zaGlmdCgpLGk9dGhpcy5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxlKTtyZXR1cm4gdGhpcy5nZXREZWNlbmRhbnRJbmRleEJ5TnRoTGlzdCh0LGlbcl0sbil9LHRoaXMuZ2V0RGVjZW5kYW50SGV4VExWQnlOdGhMaXN0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmdldERlY2VuZGFudEluZGV4QnlOdGhMaXN0KHQsZSxuKTtyZXR1cm4gdGhpcy5nZXRIZXhPZlRMVl9BdE9iaih0LHIpfSx0aGlzLmdldERlY2VuZGFudEhleFZCeU50aExpc3Q9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZ2V0RGVjZW5kYW50SW5kZXhCeU50aExpc3QodCxlLG4pO3JldHVybiB0aGlzLmdldEhleE9mVl9BdE9iaih0LHIpfX07T3IuZ2V0VmJ5TGlzdD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLmdldERlY2VuZGFudEluZGV4QnlOdGhMaXN0KHQsZSxuKTtpZih2b2lkIDA9PT1pKXRocm93XCJjYW4ndCBmaW5kIG50aExpc3Qgb2JqZWN0XCI7aWYodm9pZCAwIT09ciYmdC5zdWJzdHIoaSwyKSE9cil0aHJvd1wiY2hlY2tpbmcgdGFnIGRvZXNuJ3QgbWF0Y2g6IFwiK3Quc3Vic3RyKGksMikrXCIhPVwiK3I7cmV0dXJuIHRoaXMuZ2V0SGV4T2ZWX0F0T2JqKHQsaSl9LE9yLmhleHRvb2lkc3RyPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPj1lP3Q6bmV3IEFycmF5KGUtdC5sZW5ndGgrMSkuam9pbihcIjBcIikrdH0sbj1bXSxyPXQuc3Vic3RyKDAsMiksaT1wYXJzZUludChyLDE2KTtuWzBdPW5ldyBTdHJpbmcoTWF0aC5mbG9vcihpLzQwKSksblsxXT1uZXcgU3RyaW5nKGklNDApO2Zvcih2YXIgcz10LnN1YnN0cigyKSxvPVtdLGE9MDthPHMubGVuZ3RoLzI7YSsrKW8ucHVzaChwYXJzZUludChzLnN1YnN0cigyKmEsMiksMTYpKTtmb3IodmFyIHU9W10saD1cIlwiLGE9MDthPG8ubGVuZ3RoO2ErKykxMjgmb1thXT9oKz1lKCgxMjcmb1thXSkudG9TdHJpbmcoMiksNyk6KGgrPWUoKDEyNyZvW2FdKS50b1N0cmluZygyKSw3KSx1LnB1c2gobmV3IFN0cmluZyhwYXJzZUludChoLDIpKSksaD1cIlwiKTt2YXIgYz1uLmpvaW4oXCIuXCIpO3JldHVybiB1Lmxlbmd0aD4wJiYoYz1jK1wiLlwiK3Uuam9pbihcIi5cIikpLGN9LE9yLmR1bXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw9MiplKXJldHVybiB0O3ZhciBuPXQuc3Vic3RyKDAsZSkrXCIuLih0b3RhbCBcIit0Lmxlbmd0aC8yK1wiYnl0ZXMpLi5cIit0LnN1YnN0cih0Lmxlbmd0aC1lLGUpO3JldHVybiBufTt2b2lkIDA9PT1lJiYoZT17b21taXRfbG9uZ19vY3RldDozMn0pLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PXImJihyPVwiXCIpO3ZhciBzPWUub21taXRfbG9uZ19vY3RldDtpZihcIjAxXCI9PXQuc3Vic3RyKG4sMikpe3ZhciBvPU9yLmdldEhleE9mVl9BdE9iaih0LG4pO3JldHVyblwiMDBcIj09bz9yK1wiQk9PTEVBTiBGQUxTRVxcblwiOnIrXCJCT09MRUFOIFRSVUVcXG5cIn1pZihcIjAyXCI9PXQuc3Vic3RyKG4sMikpe3ZhciBvPU9yLmdldEhleE9mVl9BdE9iaih0LG4pO3JldHVybiByK1wiSU5URUdFUiBcIitpKG8scykrXCJcXG5cIn1pZihcIjAzXCI9PXQuc3Vic3RyKG4sMikpe3ZhciBvPU9yLmdldEhleE9mVl9BdE9iaih0LG4pO3JldHVybiByK1wiQklUU1RSSU5HIFwiK2kobyxzKStcIlxcblwifWlmKFwiMDRcIj09dC5zdWJzdHIobiwyKSl7dmFyIG89T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsbik7aWYoT3IuaXNBU04xSEVYKG8pKXt2YXIgYT1yK1wiT0NURVRTVFJJTkcsIGVuY2Fwc3VsYXRlc1xcblwiO3JldHVybiBhKz1Pci5kdW1wKG8sZSwwLHIrXCIgIFwiKX1yZXR1cm4gcitcIk9DVEVUU1RSSU5HIFwiK2kobyxzKStcIlxcblwifWlmKFwiMDVcIj09dC5zdWJzdHIobiwyKSlyZXR1cm4gcitcIk5VTExcXG5cIjtpZihcIjA2XCI9PXQuc3Vic3RyKG4sMikpe3ZhciB1PU9yLmdldEhleE9mVl9BdE9iaih0LG4pLGg9Q3IuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludCh1KSxjPUNyLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoaCksZj1oLnJlcGxhY2UoL1xcLi9nLFwiIFwiKTtyZXR1cm5cIlwiIT1jP3IrXCJPYmplY3RJZGVudGlmaWVyIFwiK2MrXCIgKFwiK2YrXCIpXFxuXCI6citcIk9iamVjdElkZW50aWZpZXIgKFwiK2YrXCIpXFxuXCJ9aWYoXCIwY1wiPT10LnN1YnN0cihuLDIpKXJldHVybiByK1wiVVRGOFN0cmluZyAnXCIrU24oT3IuZ2V0SGV4T2ZWX0F0T2JqKHQsbikpK1wiJ1xcblwiO2lmKFwiMTNcIj09dC5zdWJzdHIobiwyKSlyZXR1cm4gcitcIlByaW50YWJsZVN0cmluZyAnXCIrU24oT3IuZ2V0SGV4T2ZWX0F0T2JqKHQsbikpK1wiJ1xcblwiO2lmKFwiMTRcIj09dC5zdWJzdHIobiwyKSlyZXR1cm4gcitcIlRlbGV0ZXhTdHJpbmcgJ1wiK1NuKE9yLmdldEhleE9mVl9BdE9iaih0LG4pKStcIidcXG5cIjtpZihcIjE2XCI9PXQuc3Vic3RyKG4sMikpcmV0dXJuIHIrXCJJQTVTdHJpbmcgJ1wiK1NuKE9yLmdldEhleE9mVl9BdE9iaih0LG4pKStcIidcXG5cIjtpZihcIjE3XCI9PXQuc3Vic3RyKG4sMikpcmV0dXJuIHIrXCJVVENUaW1lIFwiK1NuKE9yLmdldEhleE9mVl9BdE9iaih0LG4pKStcIlxcblwiO2lmKFwiMThcIj09dC5zdWJzdHIobiwyKSlyZXR1cm4gcitcIkdlbmVyYWxpemVkVGltZSBcIitTbihPci5nZXRIZXhPZlZfQXRPYmoodCxuKSkrXCJcXG5cIjtpZihcIjMwXCI9PXQuc3Vic3RyKG4sMikpe2lmKFwiMzAwMFwiPT10LnN1YnN0cihuLDQpKXJldHVybiByK1wiU0VRVUVOQ0Uge31cXG5cIjt2YXIgYT1yK1wiU0VRVUVOQ0VcXG5cIixsPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LG4pLGQ9ZTtpZigoMj09bC5sZW5ndGh8fDM9PWwubGVuZ3RoKSYmXCIwNlwiPT10LnN1YnN0cihsWzBdLDIpJiZcIjA0XCI9PXQuc3Vic3RyKGxbbC5sZW5ndGgtMV0sMikpe3ZhciBnPU9yLmdldEhleE9mVl9BdE9iaih0LGxbMF0pLGg9Q3IuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludChnKSxjPUNyLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoaCkscD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKTtwLng1MDlFeHROYW1lPWMsZD1wfWZvcih2YXIgeT0wO3k8bC5sZW5ndGg7eSsrKWErPU9yLmR1bXAodCxkLGxbeV0scitcIiAgXCIpO3JldHVybiBhfWlmKFwiMzFcIj09dC5zdWJzdHIobiwyKSl7Zm9yKHZhciBhPXIrXCJTRVRcXG5cIixsPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LG4pLHk9MDt5PGwubGVuZ3RoO3krKylhKz1Pci5kdW1wKHQsZSxsW3ldLHIrXCIgIFwiKTtyZXR1cm4gYX12YXIgdj1wYXJzZUludCh0LnN1YnN0cihuLDIpLDE2KTtpZigwIT0oMTI4JnYpKXt2YXIgbT0zMSZ2O2lmKDAhPSgzMiZ2KSl7Zm9yKHZhciBhPXIrXCJbXCIrbStcIl1cXG5cIixsPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LG4pLHk9MDt5PGwubGVuZ3RoO3krKylhKz1Pci5kdW1wKHQsZSxsW3ldLHIrXCIgIFwiKTtyZXR1cm4gYX12YXIgbz1Pci5nZXRIZXhPZlZfQXRPYmoodCxuKTtcIjY4NzQ3NDcwXCI9PW8uc3Vic3RyKDAsOCkmJihvPVNuKG8pKSxcInN1YmplY3RBbHROYW1lXCI9PT1lLng1MDlFeHROYW1lJiYyPT1tJiYobz1TbihvKSk7dmFyIGE9citcIltcIittK1wiXSBcIitvK1wiXFxuXCI7cmV0dXJuIGF9cmV0dXJuIHIrXCJVTktOT1dOKFwiK3Quc3Vic3RyKG4sMikrXCIpIFwiK09yLmdldEhleE9mVl9BdE9iaih0LG4pK1wiXFxuXCJ9LE9yLmlzQVNOMUhFWD1mdW5jdGlvbih0KXtpZih0Lmxlbmd0aCUyPT0xKXJldHVybiExO3ZhciBlPU9yLmdldEludE9mTF9BdE9iaih0LDApLG49dC5zdWJzdHIoMCwyKSxyPU9yLmdldEhleE9mTF9BdE9iaih0LDApLGk9dC5sZW5ndGgtbi5sZW5ndGgtci5sZW5ndGg7cmV0dXJuIGk9PTIqZX0sLyohIGFzbjF4NTA5LTEuMC4xNC5qcyAoYykgMjAxMy0yMDE1IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG5cdCAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyJiZDcnx8KENyPXt9KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3IuYXNuMSYmQ3IuYXNuMXx8KENyLmFzbjE9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5hc24xLng1MDkmJkNyLmFzbjEueDUwOXx8KENyLmFzbjEueDUwOT17fSksQ3IuYXNuMS54NTA5LkNlcnRpZmljYXRlPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5DZXJ0aWZpY2F0ZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5zZXRSc2FQcnZLZXlCeVBFTWFuZFBhc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj1qci5nZXREZWNyeXB0ZWRLZXlIZXgodCxlKSxyPW5ldyB2ZTtyLnJlYWRQcml2YXRlS2V5RnJvbUFTTjFIZXhTdHJpbmcobiksdGhpcy5wcnZLZXk9cn0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7dGhpcy5hc24xU2lnbmF0dXJlQWxnPXRoaXMuYXNuMVRCU0NlcnQuYXNuMVNpZ25hdHVyZUFsZyxzaWc9bmV3IENyLmNyeXB0by5TaWduYXR1cmUoe2FsZzpcIlNIQTF3aXRoUlNBXCJ9KSxzaWcuaW5pdCh0aGlzLnBydktleSksc2lnLnVwZGF0ZUhleCh0aGlzLmFzbjFUQlNDZXJ0LmdldEVuY29kZWRIZXgoKSksdGhpcy5oZXhTaWc9c2lnLnNpZ24oKSx0aGlzLmFzbjFTaWc9bmV3IENyLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6XCIwMFwiK3RoaXMuaGV4U2lnfSk7dmFyIHQ9bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLmFzbjFUQlNDZXJ0LHRoaXMuYXNuMVNpZ25hdHVyZUFsZyx0aGlzLmFzbjFTaWddfSk7dGhpcy5oVExWPXQuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaXNNb2RpZmllZD0hMX0sdGhpcy5zZXRTaWduYXR1cmVIZXg9ZnVuY3Rpb24odCl7dGhpcy5hc24xU2lnbmF0dXJlQWxnPXRoaXMuYXNuMVRCU0NlcnQuYXNuMVNpZ25hdHVyZUFsZyx0aGlzLmhleFNpZz10LHRoaXMuYXNuMVNpZz1uZXcgQ3IuYXNuMS5ERVJCaXRTdHJpbmcoe2hleDpcIjAwXCIrdGhpcy5oZXhTaWd9KTt2YXIgZT1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W3RoaXMuYXNuMVRCU0NlcnQsdGhpcy5hc24xU2lnbmF0dXJlQWxnLHRoaXMuYXNuMVNpZ119KTt0aGlzLmhUTFY9ZS5nZXRFbmNvZGVkSGV4KCksdGhpcy5pc01vZGlmaWVkPSExfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmlzTW9kaWZpZWQmJm51bGwhPXRoaXMuaFRMVilyZXR1cm4gdGhpcy5oVExWO3Rocm93XCJub3Qgc2lnbmVkIHlldFwifSx0aGlzLmdldFBFTVN0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RW5jb2RlZEhleCgpLGU9b3IuZW5jLkhleC5wYXJzZSh0KSxuPW9yLmVuYy5CYXNlNjQuc3RyaW5naWZ5KGUpLHI9bi5yZXBsYWNlKC8oLns2NH0pL2csXCIkMVxcclxcblwiKTtyZXR1cm5cIi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLVxcclxcblwiK3IrXCJcXHJcXG4tLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tXFxyXFxuXCJ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudGJzY2VydG9iaiYmKHRoaXMuYXNuMVRCU0NlcnQ9dC50YnNjZXJ0b2JqKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5wcnZrZXlvYmo/dGhpcy5wcnZLZXk9dC5wcnZrZXlvYmo6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucnNhcHJ2a2V5P3RoaXMucHJ2S2V5PXQucnNhcHJ2a2V5OlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnJzYXBydnBlbSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucnNhcHJ2cGFzJiZ0aGlzLnNldFJzYVBydktleUJ5UEVNYW5kUGFzcyh0LnJzYXBydnBlbSx0LnJzYXBydnBhcykpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLng1MDkuQ2VydGlmaWNhdGUsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLng1MDkuVEJTQ2VydGlmaWNhdGU9ZnVuY3Rpb24odCl7Q3IuYXNuMS54NTA5LlRCU0NlcnRpZmljYXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLl9pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5hc24xQXJyYXk9bmV3IEFycmF5LHRoaXMuYXNuMVZlcnNpb249bmV3IENyLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtvYmo6bmV3IENyLmFzbjEuREVSSW50ZWdlcih7aW50OjJ9KX0pLHRoaXMuYXNuMVNlcmlhbE51bWJlcj1udWxsLHRoaXMuYXNuMVNpZ25hdHVyZUFsZz1udWxsLHRoaXMuYXNuMUlzc3Vlcj1udWxsLHRoaXMuYXNuMU5vdEJlZm9yZT1udWxsLHRoaXMuYXNuMU5vdEFmdGVyPW51bGwsdGhpcy5hc24xU3ViamVjdD1udWxsLHRoaXMuYXNuMVN1YmpQS2V5PW51bGwsdGhpcy5leHRlbnNpb25zQXJyYXk9bmV3IEFycmF5fSx0aGlzLnNldFNlcmlhbE51bWJlckJ5UGFyYW09ZnVuY3Rpb24odCl7dGhpcy5hc24xU2VyaWFsTnVtYmVyPW5ldyBDci5hc24xLkRFUkludGVnZXIodCl9LHRoaXMuc2V0U2lnbmF0dXJlQWxnQnlQYXJhbT1mdW5jdGlvbih0KXt0aGlzLmFzbjFTaWduYXR1cmVBbGc9bmV3IENyLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKHQpfSx0aGlzLnNldElzc3VlckJ5UGFyYW09ZnVuY3Rpb24odCl7dGhpcy5hc24xSXNzdWVyPW5ldyBDci5hc24xLng1MDkuWDUwME5hbWUodCl9LHRoaXMuc2V0Tm90QmVmb3JlQnlQYXJhbT1mdW5jdGlvbih0KXt0aGlzLmFzbjFOb3RCZWZvcmU9bmV3IENyLmFzbjEueDUwOS5UaW1lKHQpfSx0aGlzLnNldE5vdEFmdGVyQnlQYXJhbT1mdW5jdGlvbih0KXt0aGlzLmFzbjFOb3RBZnRlcj1uZXcgQ3IuYXNuMS54NTA5LlRpbWUodCl9LHRoaXMuc2V0U3ViamVjdEJ5UGFyYW09ZnVuY3Rpb24odCl7dGhpcy5hc24xU3ViamVjdD1uZXcgQ3IuYXNuMS54NTA5Llg1MDBOYW1lKHQpfSx0aGlzLnNldFN1YmplY3RQdWJsaWNLZXlCeVBhcmFtPWZ1bmN0aW9uKHQpe3RoaXMuYXNuMVN1YmpQS2V5PW5ldyBDci5hc24xLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm8odCl9LHRoaXMuc2V0U3ViamVjdFB1YmxpY0tleUJ5R2V0S2V5PWZ1bmN0aW9uKHQpe3ZhciBlPUhyLmdldEtleSh0KTt0aGlzLmFzbjFTdWJqUEtleT1uZXcgQ3IuYXNuMS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvKGUpfSx0aGlzLmFwcGVuZEV4dGVuc2lvbj1mdW5jdGlvbih0KXt0aGlzLmV4dGVuc2lvbnNBcnJheS5wdXNoKHQpfSx0aGlzLmFwcGVuZEV4dGVuc2lvbkJ5TmFtZT1mdW5jdGlvbih0LGUpe2lmKFwiYmFzaWNjb25zdHJhaW50c1wiPT10LnRvTG93ZXJDYXNlKCkpe3ZhciBuPW5ldyBDci5hc24xLng1MDkuQmFzaWNDb25zdHJhaW50cyhlKTt0aGlzLmFwcGVuZEV4dGVuc2lvbihuKX1lbHNlIGlmKFwia2V5dXNhZ2VcIj09dC50b0xvd2VyQ2FzZSgpKXt2YXIgbj1uZXcgQ3IuYXNuMS54NTA5LktleVVzYWdlKGUpO3RoaXMuYXBwZW5kRXh0ZW5zaW9uKG4pfWVsc2UgaWYoXCJjcmxkaXN0cmlidXRpb25wb2ludHNcIj09dC50b0xvd2VyQ2FzZSgpKXt2YXIgbj1uZXcgQ3IuYXNuMS54NTA5LkNSTERpc3RyaWJ1dGlvblBvaW50cyhlKTt0aGlzLmFwcGVuZEV4dGVuc2lvbihuKX1lbHNlIGlmKFwiZXh0a2V5dXNhZ2VcIj09dC50b0xvd2VyQ2FzZSgpKXt2YXIgbj1uZXcgQ3IuYXNuMS54NTA5LkV4dEtleVVzYWdlKGUpO3RoaXMuYXBwZW5kRXh0ZW5zaW9uKG4pfWVsc2V7aWYoXCJhdXRob3JpdHlrZXlpZGVudGlmaWVyXCIhPXQudG9Mb3dlckNhc2UoKSl0aHJvd1widW5zdXBwb3J0ZWQgZXh0ZW5zaW9uIG5hbWU6IFwiK3Q7dmFyIG49bmV3IENyLmFzbjEueDUwOS5BdXRob3JpdHlLZXlJZGVudGlmaWVyKGUpO3RoaXMuYXBwZW5kRXh0ZW5zaW9uKG4pfX0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5hc24xTm90QmVmb3JlfHxudWxsPT10aGlzLmFzbjFOb3RBZnRlcil0aHJvd1wibm90QmVmb3JlIGFuZC9vciBub3RBZnRlciBub3Qgc2V0XCI7dmFyIHQ9bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLmFzbjFOb3RCZWZvcmUsdGhpcy5hc24xTm90QWZ0ZXJdfSk7aWYodGhpcy5hc24xQXJyYXk9bmV3IEFycmF5LHRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xVmVyc2lvbiksdGhpcy5hc24xQXJyYXkucHVzaCh0aGlzLmFzbjFTZXJpYWxOdW1iZXIpLHRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xU2lnbmF0dXJlQWxnKSx0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMUlzc3VlciksdGhpcy5hc24xQXJyYXkucHVzaCh0KSx0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMVN1YmplY3QpLHRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xU3VialBLZXkpLHRoaXMuZXh0ZW5zaW9uc0FycmF5Lmxlbmd0aD4wKXt2YXIgZT1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dGhpcy5leHRlbnNpb25zQXJyYXl9KSxuPW5ldyBDci5hc24xLkRFUlRhZ2dlZE9iamVjdCh7ZXhwbGljaXQ6ITAsdGFnOlwiYTNcIixvYmo6ZX0pO3RoaXMuYXNuMUFycmF5LnB1c2gobil9dmFyIHI9bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OnRoaXMuYXNuMUFycmF5fSk7cmV0dXJuIHRoaXMuaFRMVj1yLmdldEVuY29kZWRIZXgoKSx0aGlzLmlzTW9kaWZpZWQ9ITEsdGhpcy5oVExWfSx0aGlzLl9pbml0aWFsaXplKCl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5UQlNDZXJ0aWZpY2F0ZSxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEueDUwOS5FeHRlbnNpb249ZnVuY3Rpb24odCl7Q3IuYXNuMS54NTA5LkV4dGVuc2lvbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IENyLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcih7b2lkOnRoaXMub2lkfSksZT1uZXcgQ3IuYXNuMS5ERVJPY3RldFN0cmluZyh7aGV4OnRoaXMuZ2V0RXh0blZhbHVlSGV4KCl9KSxuPW5ldyBBcnJheTtuLnB1c2godCksdGhpcy5jcml0aWNhbCYmbi5wdXNoKG5ldyBDci5hc24xLkRFUkJvb2xlYW4pLG4ucHVzaChlKTt2YXIgcj1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6bn0pO3JldHVybiByLmdldEVuY29kZWRIZXgoKX0sdGhpcy5jcml0aWNhbD0hMSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuY3JpdGljYWwmJih0aGlzLmNyaXRpY2FsPXQuY3JpdGljYWwpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLng1MDkuRXh0ZW5zaW9uLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS54NTA5LktleVVzYWdlPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5LZXlVc2FnZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmdldEV4dG5WYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUuZ2V0RW5jb2RlZEhleCgpfSx0aGlzLm9pZD1cIjIuNS4yOS4xNVwiLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5iaW4mJih0aGlzLmFzbjFFeHRuVmFsdWU9bmV3IENyLmFzbjEuREVSQml0U3RyaW5nKHQpKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS54NTA5LktleVVzYWdlLENyLmFzbjEueDUwOS5FeHRlbnNpb24pLENyLmFzbjEueDUwOS5CYXNpY0NvbnN0cmFpbnRzPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5CYXNpY0NvbnN0cmFpbnRzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpO3RoaXMuZ2V0RXh0blZhbHVlSGV4PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFycmF5O3RoaXMuY0EmJnQucHVzaChuZXcgQ3IuYXNuMS5ERVJCb29sZWFuKSx0aGlzLnBhdGhMZW4+LTEmJnQucHVzaChuZXcgQ3IuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6dGhpcy5wYXRoTGVufSkpO3ZhciBlPW5ldyBDci5hc24xLkRFUlNlcXVlbmNlKHthcnJheTp0fSk7cmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZT1lLHRoaXMuYXNuMUV4dG5WYWx1ZS5nZXRFbmNvZGVkSGV4KCl9LHRoaXMub2lkPVwiMi41LjI5LjE5XCIsdGhpcy5jQT0hMSx0aGlzLnBhdGhMZW49LTEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5jQSYmKHRoaXMuY0E9dC5jQSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucGF0aExlbiYmKHRoaXMucGF0aExlbj10LnBhdGhMZW4pKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS54NTA5LkJhc2ljQ29uc3RyYWludHMsQ3IuYXNuMS54NTA5LkV4dGVuc2lvbiksQ3IuYXNuMS54NTA5LkNSTERpc3RyaWJ1dGlvblBvaW50cz1mdW5jdGlvbih0KXtDci5hc24xLng1MDkuQ1JMRGlzdHJpYnV0aW9uUG9pbnRzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuZ2V0RXh0blZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZS5nZXRFbmNvZGVkSGV4KCl9LHRoaXMuc2V0QnlEUEFycmF5PWZ1bmN0aW9uKHQpe3RoaXMuYXNuMUV4dG5WYWx1ZT1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dH0pfSx0aGlzLnNldEJ5T25lVVJJPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDci5hc24xLng1MDkuR2VuZXJhbE5hbWVzKFt7dXJpOnR9XSksbj1uZXcgQ3IuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50TmFtZShlKSxyPW5ldyBDci5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQoe2Rwb2JqOm59KTt0aGlzLnNldEJ5RFBBcnJheShbcl0pfSx0aGlzLm9pZD1cIjIuNS4yOS4zMVwiLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuYXJyYXk/dGhpcy5zZXRCeURQQXJyYXkodC5hcnJheSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudXJpJiZ0aGlzLnNldEJ5T25lVVJJKHQudXJpKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5DUkxEaXN0cmlidXRpb25Qb2ludHMsQ3IuYXNuMS54NTA5LkV4dGVuc2lvbiksQ3IuYXNuMS54NTA5LkV4dEtleVVzYWdlPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5FeHRLZXlVc2FnZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLnNldFB1cnBvc2VBcnJheT1mdW5jdGlvbih0KXt0aGlzLmFzbjFFeHRuVmFsdWU9bmV3IENyLmFzbjEuREVSU2VxdWVuY2U7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPW5ldyBDci5hc24xLkRFUk9iamVjdElkZW50aWZpZXIodFtlXSk7dGhpcy5hc24xRXh0blZhbHVlLmFwcGVuZEFTTjFPYmplY3Qobil9fSx0aGlzLmdldEV4dG5WYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUuZ2V0RW5jb2RlZEhleCgpfSx0aGlzLm9pZD1cIjIuNS4yOS4zN1wiLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5hcnJheSYmdGhpcy5zZXRQdXJwb3NlQXJyYXkodC5hcnJheSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5FeHRLZXlVc2FnZSxDci5hc24xLng1MDkuRXh0ZW5zaW9uKSxDci5hc24xLng1MDkuQXV0aG9yaXR5S2V5SWRlbnRpZmllcj1mdW5jdGlvbih0KXtDci5hc24xLng1MDkuQXV0aG9yaXR5S2V5SWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmFzbjFLSUQ9bnVsbCx0aGlzLmFzbjFDZXJ0SXNzdWVyPW51bGwsdGhpcy5hc24xQ2VydFNOPW51bGwsdGhpcy5nZXRFeHRuVmFsdWVIZXg9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQXJyYXk7dGhpcy5hc24xS0lEJiZ0LnB1c2gobmV3IENyLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDohMSx0YWc6XCI4MFwiLG9iajp0aGlzLmFzbjFLSUR9KSksdGhpcy5hc24xQ2VydElzc3VlciYmdC5wdXNoKG5ldyBDci5hc24xLkRFUlRhZ2dlZE9iamVjdCh7ZXhwbGljaXQ6ITEsdGFnOlwiYTFcIixvYmo6dGhpcy5hc24xQ2VydElzc3Vlcn0pKSx0aGlzLmFzbjFDZXJ0U04mJnQucHVzaChuZXcgQ3IuYXNuMS5ERVJUYWdnZWRPYmplY3Qoe2V4cGxpY2l0OiExLHRhZzpcIjgyXCIsb2JqOnRoaXMuYXNuMUNlcnRTTn0pKTt2YXIgZT1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dH0pO3JldHVybiB0aGlzLmFzbjFFeHRuVmFsdWU9ZSx0aGlzLmFzbjFFeHRuVmFsdWUuZ2V0RW5jb2RlZEhleCgpfSx0aGlzLnNldEtJREJ5UGFyYW09ZnVuY3Rpb24odCl7dGhpcy5hc24xS0lEPW5ldyBDci5hc24xLkRFUk9jdGV0U3RyaW5nKHQpfSx0aGlzLnNldENlcnRJc3N1ZXJCeVBhcmFtPWZ1bmN0aW9uKHQpe3RoaXMuYXNuMUNlcnRJc3N1ZXI9bmV3IENyLmFzbjEueDUwOS5YNTAwTmFtZSh0KX0sdGhpcy5zZXRDZXJ0U05CeVBhcmFtPWZ1bmN0aW9uKHQpe3RoaXMuYXNuMUNlcnRTTj1uZXcgQ3IuYXNuMS5ERVJJbnRlZ2VyKHQpfSx0aGlzLm9pZD1cIjIuNS4yOS4zNVwiLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQua2lkJiZ0aGlzLnNldEtJREJ5UGFyYW0odC5raWQpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lmlzc3VlciYmdGhpcy5zZXRDZXJ0SXNzdWVyQnlQYXJhbSh0Lmlzc3VlciksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuc24mJnRoaXMuc2V0Q2VydFNOQnlQYXJhbSh0LnNuKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5BdXRob3JpdHlLZXlJZGVudGlmaWVyLENyLmFzbjEueDUwOS5FeHRlbnNpb24pLENyLmFzbjEueDUwOS5DUkw9ZnVuY3Rpb24odCl7Q3IuYXNuMS54NTA5LkNSTC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5zZXRSc2FQcnZLZXlCeVBFTWFuZFBhc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj1qci5nZXREZWNyeXB0ZWRLZXlIZXgodCxlKSxyPW5ldyB2ZTtyLnJlYWRQcml2YXRlS2V5RnJvbUFTTjFIZXhTdHJpbmcobiksdGhpcy5yc2FQcnZLZXk9cn0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7dGhpcy5hc24xU2lnbmF0dXJlQWxnPXRoaXMuYXNuMVRCU0NlcnRMaXN0LmFzbjFTaWduYXR1cmVBbGcsc2lnPW5ldyBDci5jcnlwdG8uU2lnbmF0dXJlKHthbGc6XCJTSEExd2l0aFJTQVwiLHByb3Y6XCJjcnlwdG9qcy9qc3JzYVwifSksc2lnLmluaXRTaWduKHRoaXMucnNhUHJ2S2V5KSxzaWcudXBkYXRlSGV4KHRoaXMuYXNuMVRCU0NlcnRMaXN0LmdldEVuY29kZWRIZXgoKSksdGhpcy5oZXhTaWc9c2lnLnNpZ24oKSx0aGlzLmFzbjFTaWc9bmV3IENyLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6XCIwMFwiK3RoaXMuaGV4U2lnfSk7dmFyIHQ9bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLmFzbjFUQlNDZXJ0TGlzdCx0aGlzLmFzbjFTaWduYXR1cmVBbGcsdGhpcy5hc24xU2lnXX0pO3RoaXMuaFRMVj10LmdldEVuY29kZWRIZXgoKSx0aGlzLmlzTW9kaWZpZWQ9ITF9LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKDA9PXRoaXMuaXNNb2RpZmllZCYmbnVsbCE9dGhpcy5oVExWKXJldHVybiB0aGlzLmhUTFY7dGhyb3dcIm5vdCBzaWduZWQgeWV0XCJ9LHRoaXMuZ2V0UEVNU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFbmNvZGVkSGV4KCksZT1vci5lbmMuSGV4LnBhcnNlKHQpLG49b3IuZW5jLkJhc2U2NC5zdHJpbmdpZnkoZSkscj1uLnJlcGxhY2UoLyguezY0fSkvZyxcIiQxXFxyXFxuXCIpO3JldHVyblwiLS0tLS1CRUdJTiBYNTA5IENSTC0tLS0tXFxyXFxuXCIrcitcIlxcclxcbi0tLS0tRU5EIFg1MDkgQ1JMLS0tLS1cXHJcXG5cIn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC50YnNvYmomJih0aGlzLmFzbjFUQlNDZXJ0TGlzdD10LnRic29iaiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucnNhcHJ2a2V5JiYodGhpcy5yc2FQcnZLZXk9dC5yc2FwcnZrZXkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnJzYXBydnBlbSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucnNhcHJ2cGFzJiZ0aGlzLnNldFJzYVBydktleUJ5UEVNYW5kUGFzcyh0LnJzYXBydnBlbSx0LnJzYXBydnBhcykpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLng1MDkuQ1JMLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS54NTA5LlRCU0NlcnRMaXN0PWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5UQlNDZXJ0TGlzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5zZXRTaWduYXR1cmVBbGdCeVBhcmFtPWZ1bmN0aW9uKHQpe3RoaXMuYXNuMVNpZ25hdHVyZUFsZz1uZXcgQ3IuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIodCl9LHRoaXMuc2V0SXNzdWVyQnlQYXJhbT1mdW5jdGlvbih0KXt0aGlzLmFzbjFJc3N1ZXI9bmV3IENyLmFzbjEueDUwOS5YNTAwTmFtZSh0KX0sdGhpcy5zZXRUaGlzVXBkYXRlQnlQYXJhbT1mdW5jdGlvbih0KXt0aGlzLmFzbjFUaGlzVXBkYXRlPW5ldyBDci5hc24xLng1MDkuVGltZSh0KX0sdGhpcy5zZXROZXh0VXBkYXRlQnlQYXJhbT1mdW5jdGlvbih0KXt0aGlzLmFzbjFOZXh0VXBkYXRlPW5ldyBDci5hc24xLng1MDkuVGltZSh0KX0sdGhpcy5hZGRSZXZva2VkQ2VydD1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O3ZvaWQgMCE9dCYmbnVsbCE9dCYmKG4uc249dCksdm9pZCAwIT1lJiZudWxsIT1lJiYobi50aW1lPWUpO3ZhciByPW5ldyBDci5hc24xLng1MDkuQ1JMRW50cnkobik7dGhpcy5hUmV2b2tlZENlcnQucHVzaChyKX0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYodGhpcy5hc24xQXJyYXk9bmV3IEFycmF5LG51bGwhPXRoaXMuYXNuMVZlcnNpb24mJnRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xVmVyc2lvbiksdGhpcy5hc24xQXJyYXkucHVzaCh0aGlzLmFzbjFTaWduYXR1cmVBbGcpLHRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xSXNzdWVyKSx0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMVRoaXNVcGRhdGUpLG51bGwhPXRoaXMuYXNuMU5leHRVcGRhdGUmJnRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xTmV4dFVwZGF0ZSksdGhpcy5hUmV2b2tlZENlcnQubGVuZ3RoPjApe3ZhciB0PW5ldyBDci5hc24xLkRFUlNlcXVlbmNlKHthcnJheTp0aGlzLmFSZXZva2VkQ2VydH0pO3RoaXMuYXNuMUFycmF5LnB1c2godCl9dmFyIGU9bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OnRoaXMuYXNuMUFycmF5fSk7cmV0dXJuIHRoaXMuaFRMVj1lLmdldEVuY29kZWRIZXgoKSx0aGlzLmlzTW9kaWZpZWQ9ITEsdGhpcy5oVExWfSx0aGlzLl9pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5hc24xVmVyc2lvbj1udWxsLHRoaXMuYXNuMVNpZ25hdHVyZUFsZz1udWxsLHRoaXMuYXNuMUlzc3Vlcj1udWxsLHRoaXMuYXNuMVRoaXNVcGRhdGU9bnVsbCx0aGlzLmFzbjFOZXh0VXBkYXRlPW51bGwsdGhpcy5hUmV2b2tlZENlcnQ9bmV3IEFycmF5fSx0aGlzLl9pbml0aWFsaXplKCl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5UQlNDZXJ0TGlzdCxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEueDUwOS5DUkxFbnRyeT1mdW5jdGlvbih0KXtDci5hc24xLng1MDkuQ1JMRW50cnkuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuc2V0Q2VydFNlcmlhbD1mdW5jdGlvbih0KXt0aGlzLnNuPW5ldyBDci5hc24xLkRFUkludGVnZXIodCl9LHRoaXMuc2V0UmV2b2NhdGlvbkRhdGU9ZnVuY3Rpb24odCl7dGhpcy50aW1lPW5ldyBDci5hc24xLng1MDkuVGltZSh0KX0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLnNuLHRoaXMudGltZV19KTtyZXR1cm4gdGhpcy5UTFY9dC5nZXRFbmNvZGVkSGV4KCksdGhpcy5UTFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudGltZSYmdGhpcy5zZXRSZXZvY2F0aW9uRGF0ZSh0LnRpbWUpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnNuJiZ0aGlzLnNldENlcnRTZXJpYWwodC5zbikpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLng1MDkuQ1JMRW50cnksQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLng1MDkuWDUwME5hbWU9ZnVuY3Rpb24odCl7aWYoQ3IuYXNuMS54NTA5Llg1MDBOYW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXksdGhpcy5zZXRCeVN0cmluZz1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KFwiL1wiKTtlLnNoaWZ0KCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5hc24xQXJyYXkucHVzaChuZXcgQ3IuYXNuMS54NTA5LlJETih7c3RyOmVbbl19KSl9LHRoaXMuc2V0QnlPYmplY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG49bmV3IENyLmFzbjEueDUwOS5SRE4oe3N0cjplK1wiPVwiK3RbZV19KTt0aGlzLmFzbjFBcnJheT90aGlzLmFzbjFBcnJheS5wdXNoKG4pOnRoaXMuYXNuMUFycmF5PVtuXX19LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmhUTFYpcmV0dXJuIHRoaXMuaFRMVjt2YXIgdD1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dGhpcy5hc24xQXJyYXl9KTtyZXR1cm4gdGhpcy5oVExWPXQuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnN0cj90aGlzLnNldEJ5U3RyaW5nKHQuc3RyKTpcIm9iamVjdFwiPT10eXBlb2YgdCYmdGhpcy5zZXRCeU9iamVjdCh0KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5jZXJ0aXNzdWVyKXt2YXIgZT1uZXcgJG47ZS5oZXg9JG4ucGVtVG9IZXgodC5jZXJ0aXNzdWVyKSx0aGlzLmhUTFY9ZS5nZXRJc3N1ZXJIZXgoKX1pZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5jZXJ0c3ViamVjdCl7dmFyIGU9bmV3ICRuO2UuaGV4PSRuLnBlbVRvSGV4KHQuY2VydHN1YmplY3QpLHRoaXMuaFRMVj1lLmdldFN1YmplY3RIZXgoKX19fSxzci5sYW5nLmV4dGVuZChDci5hc24xLng1MDkuWDUwME5hbWUsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLng1MDkuUkROPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5SRE4uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuYXNuMUFycmF5PW5ldyBBcnJheSx0aGlzLmFkZEJ5U3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuYXNuMUFycmF5LnB1c2gobmV3IENyLmFzbjEueDUwOS5BdHRyaWJ1dGVUeXBlQW5kVmFsdWUoe3N0cjp0fSkpfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQ3IuYXNuMS5ERVJTZXQoe2FycmF5OnRoaXMuYXNuMUFycmF5fSk7cmV0dXJuIHRoaXMuVExWPXQuZ2V0RW5jb2RlZEhleCgpLHRoaXMuVExWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuc3RyJiZ0aGlzLmFkZEJ5U3RyaW5nKHQuc3RyKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS54NTA5LlJETixDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEueDUwOS5BdHRyaWJ1dGVUeXBlQW5kVmFsdWU9ZnVuY3Rpb24odCl7Q3IuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9XCJ1dGY4XCI7dGhpcy5zZXRCeVN0cmluZz1mdW5jdGlvbih0KXtpZighdC5tYXRjaCgvXihbXj1dKyk9KC4rKSQvKSl0aHJvd1wibWFsZm9ybWVkIGF0dHJUeXBlQW5kVmFsdWVTdHI6IFwiK3Q7dGhpcy5zZXRCeUF0dHJUeXBlQW5kVmFsdWVTdHIoUmVnRXhwLiQxLFJlZ0V4cC4kMil9LHRoaXMuc2V0QnlBdHRyVHlwZUFuZFZhbHVlU3RyPWZ1bmN0aW9uKHQsbil7dGhpcy50eXBlT2JqPUNyLmFzbjEueDUwOS5PSUQuYXR5cGUyb2JqKHQpO3ZhciByPWU7XCJDXCI9PXQmJihyPVwicHJuXCIpLHRoaXMudmFsdWVPYmo9dGhpcy5nZXRWYWx1ZU9iaihyLG4pfSx0aGlzLmdldFZhbHVlT2JqPWZ1bmN0aW9uKHQsZSl7aWYoXCJ1dGY4XCI9PXQpcmV0dXJuIG5ldyBDci5hc24xLkRFUlVURjhTdHJpbmcoe3N0cjplfSk7aWYoXCJwcm5cIj09dClyZXR1cm4gbmV3IENyLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nKHtzdHI6ZX0pO2lmKFwidGVsXCI9PXQpcmV0dXJuIG5ldyBDci5hc24xLkRFUlRlbGV0ZXhTdHJpbmcoe3N0cjplfSk7aWYoXCJpYTVcIj09dClyZXR1cm4gbmV3IENyLmFzbjEuREVSSUE1U3RyaW5nKHtzdHI6ZX0pO3Rocm93XCJ1bnN1cHBvcnRlZCBkaXJlY3Rvcnkgc3RyaW5nIHR5cGU6IHR5cGU9XCIrdCtcIiB2YWx1ZT1cIitlfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W3RoaXMudHlwZU9iaix0aGlzLnZhbHVlT2JqXX0pO3JldHVybiB0aGlzLlRMVj10LmdldEVuY29kZWRIZXgoKSx0aGlzLlRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnN0ciYmdGhpcy5zZXRCeVN0cmluZyh0LnN0cil9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5BdHRyaWJ1dGVUeXBlQW5kVmFsdWUsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm89ZnVuY3Rpb24odCl7Q3IuYXNuMS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLnNldFJTQUtleT1mdW5jdGlvbih0KXtpZighdmUucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkpdGhyb3dcImFyZ3VtZW50IGlzIG5vdCBSU0FLZXkgaW5zdGFuY2VcIjt0aGlzLnJzYUtleT10O3ZhciBlPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0Lm59KSxuPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2ludDp0LmV9KSxyPW5ldyBDci5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbZSxuXX0pLGk9ci5nZXRFbmNvZGVkSGV4KCk7dGhpcy5hc24xQWxnSWQ9bmV3IENyLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKHtuYW1lOlwicnNhRW5jcnlwdGlvblwifSksdGhpcy5hc24xU3VialBLZXk9bmV3IENyLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6XCIwMFwiK2l9KX0sdGhpcy5zZXRSU0FQRU09ZnVuY3Rpb24odCl7aWYoIXQubWF0Y2goLy0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tLykpdGhyb3dcImtleSBub3Qgc3VwcG9ydGVkXCI7dmFyIGU9dDtlPWUucmVwbGFjZSgvXi0tLS0tW14tXSstLS0tLS8sXCJcIiksZT1lLnJlcGxhY2UoLy0tLS0tW14tXSstLS0tLVxccyokLyxcIlwiKTt2YXIgbj1lLnJlcGxhY2UoL1xccysvZyxcIlwiKSxyPW9yLmVuYy5CYXNlNjQucGFyc2UobiksaT1vci5lbmMuSGV4LnN0cmluZ2lmeShyKSxzPURuKGkpLG89c1sxXSxhPW8uc3Vic3RyKDIpLHU9RG4oYSksaD1uZXcgdmU7aC5zZXRQdWJsaWModVswXSx1WzFdKSx0aGlzLnNldFJTQUtleShoKX0sdGhpcy5nZXRBU04xT2JqZWN0PWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5hc24xQWxnSWR8fG51bGw9PXRoaXMuYXNuMVN1YmpQS2V5KXRocm93XCJhbGdJZCBhbmQvb3Igc3VialB1YktleSBub3Qgc2V0XCI7dmFyIHQ9bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLmFzbjFBbGdJZCx0aGlzLmFzbjFTdWJqUEtleV19KTtyZXR1cm4gdH0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRBU04xT2JqZWN0KCk7cmV0dXJuIHRoaXMuaFRMVj10LmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFZ9LHRoaXMuX3NldFJTQUtleT1mdW5jdGlvbih0KXt2YXIgZT1Dci5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7c2VxOlt7aW50OntiaWdpbnQ6dC5ufX0se2ludDp7aW50OnQuZX19XX0pLG49ZS5nZXRFbmNvZGVkSGV4KCk7dGhpcy5hc24xQWxnSWQ9bmV3IENyLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKHtuYW1lOlwicnNhRW5jcnlwdGlvblwifSksdGhpcy5hc24xU3VialBLZXk9bmV3IENyLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6XCIwMFwiK259KX0sdGhpcy5fc2V0RUM9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENyLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcih7bmFtZTp0LmN1cnZlTmFtZX0pO3RoaXMuYXNuMUFsZ0lkPW5ldyBDci5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZTpcImVjUHVibGljS2V5XCIsYXNuMXBhcmFtczplfSksdGhpcy5hc24xU3VialBLZXk9bmV3IENyLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6XCIwMFwiK3QucHViS2V5SGV4fSl9LHRoaXMuX3NldERTQT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3IuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbe2ludDp7YmlnaW50OnQucH19LHtpbnQ6e2JpZ2ludDp0LnF9fSx7aW50OntiaWdpbnQ6dC5nfX1dfSk7dGhpcy5hc24xQWxnSWQ9bmV3IENyLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKHtuYW1lOlwiZHNhXCIsYXNuMXBhcmFtczplfSk7dmFyIG49bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQueX0pO3RoaXMuYXNuMVN1YmpQS2V5PW5ldyBDci5hc24xLkRFUkJpdFN0cmluZyh7aGV4OlwiMDBcIituLmdldEVuY29kZWRIZXgoKX0pfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB2ZSYmdCBpbnN0YW5jZW9mIHZlP3RoaXMuX3NldFJTQUtleSh0KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3IuY3J5cHRvLkVDRFNBJiZ0IGluc3RhbmNlb2YgQ3IuY3J5cHRvLkVDRFNBP3RoaXMuX3NldEVDKHQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5jcnlwdG8uRFNBJiZ0IGluc3RhbmNlb2YgQ3IuY3J5cHRvLkRTQT90aGlzLl9zZXREU0EodCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucnNha2V5P3RoaXMuc2V0UlNBS2V5KHQucnNha2V5KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5yc2FwZW0mJnRoaXMuc2V0UlNBUEVNKHQucnNhcGVtKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5TdWJqZWN0UHVibGljS2V5SW5mbyxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEueDUwOS5UaW1lPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5UaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLnNldFRpbWVQYXJhbXM9ZnVuY3Rpb24odCl7dGhpcy50aW1lUGFyYW1zPXR9LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciB0PW51bGw7cmV0dXJuIHQ9bnVsbCE9dGhpcy50aW1lUGFyYW1zP1widXRjXCI9PXRoaXMudHlwZT9uZXcgQ3IuYXNuMS5ERVJVVENUaW1lKHRoaXMudGltZVBhcmFtcyk6bmV3IENyLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lKHRoaXMudGltZVBhcmFtcyk6XCJ1dGNcIj09dGhpcy50eXBlP25ldyBDci5hc24xLkRFUlVUQ1RpbWU6bmV3IENyLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLHRoaXMuVExWPXQuZ2V0RW5jb2RlZEhleCgpLHRoaXMuVExWfSx0aGlzLnR5cGU9XCJ1dGNcIixcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnR5cGU/dGhpcy50eXBlPXQudHlwZTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5zdHImJih0LnN0ci5tYXRjaCgvXlswLTldezEyfVokLykmJih0aGlzLnR5cGU9XCJ1dGNcIiksdC5zdHIubWF0Y2goL15bMC05XXsxNH1aJC8pJiYodGhpcy50eXBlPVwiZ2VuXCIpKSx0aGlzLnRpbWVQYXJhbXM9dCl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5UaW1lLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXI9ZnVuY3Rpb24odCl7Q3IuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMubmFtZUFsZyYmbnVsbD09dGhpcy5hc24xQWxnKXRocm93XCJhbGdvcml0aG0gbm90IHNwZWNpZmllZFwiO251bGwhPXRoaXMubmFtZUFsZyYmbnVsbD09dGhpcy5hc24xQWxnJiYodGhpcy5hc24xQWxnPUNyLmFzbjEueDUwOS5PSUQubmFtZTJvYmoodGhpcy5uYW1lQWxnKSk7dmFyIHQ9W3RoaXMuYXNuMUFsZ107dGhpcy5wYXJhbUVtcHR5fHx0LnB1c2godGhpcy5hc24xUGFyYW1zKTt2YXIgZT1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dH0pO3JldHVybiB0aGlzLmhUTFY9ZS5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lm5hbWUmJih0aGlzLm5hbWVBbGc9dC5uYW1lKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5hc24xcGFyYW1zJiYodGhpcy5hc24xUGFyYW1zPXQuYXNuMXBhcmFtcyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucGFyYW1lbXB0eSYmKHRoaXMucGFyYW1FbXB0eT10LnBhcmFtZW1wdHkpKSxudWxsPT10aGlzLmFzbjFQYXJhbXMmJih0aGlzLmFzbjFQYXJhbXM9bmV3IENyLmFzbjEuREVSTnVsbCl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS54NTA5LkdlbmVyYWxOYW1lPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5HZW5lcmFsTmFtZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9e3JmYzgyMjpcIjgxXCIsZG5zOlwiODJcIixkbjpcImE0XCIsdXJpOlwiODZcIn07dGhpcy5leHBsaWNpdD0hMSx0aGlzLnNldEJ5UGFyYW09ZnVuY3Rpb24odCl7dmFyIG49bnVsbDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucmZjODIyJiYodGhpcy50eXBlPVwicmZjODIyXCIsbj1uZXcgQ3IuYXNuMS5ERVJJQTVTdHJpbmcoe3N0cjp0W3RoaXMudHlwZV19KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZG5zJiYodGhpcy50eXBlPVwiZG5zXCIsbj1uZXcgQ3IuYXNuMS5ERVJJQTVTdHJpbmcoe3N0cjp0W3RoaXMudHlwZV19KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudXJpJiYodGhpcy50eXBlPVwidXJpXCIsbj1uZXcgQ3IuYXNuMS5ERVJJQTVTdHJpbmcoe3N0cjp0W3RoaXMudHlwZV19KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuY2VydGlzc3Vlcil7dGhpcy50eXBlPVwiZG5cIix0aGlzLmV4cGxpY2l0PSEwO3ZhciByPXQuY2VydGlzc3VlcixpPW51bGw7aWYoci5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSxyLmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKSE9LTEmJihpPSRuLnBlbVRvSGV4KHIpKSxudWxsPT1pKXRocm93XCJjZXJ0aXNzdWVyIHBhcmFtIG5vdCBjZXJ0XCI7dmFyIHM9bmV3ICRuO3MuaGV4PWk7dmFyIG89cy5nZXRJc3N1ZXJIZXgoKTtuPW5ldyBDci5hc24xLkFTTjFPYmplY3Qsbi5oVExWPW99aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuY2VydHN1Ymope3RoaXMudHlwZT1cImRuXCIsdGhpcy5leHBsaWNpdD0hMDt2YXIgcj10LmNlcnRzdWJqLGk9bnVsbDtpZihyLm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pLHIuaW5kZXhPZihcIi0tLS0tQkVHSU4gXCIpIT0tMSYmKGk9JG4ucGVtVG9IZXgocikpLG51bGw9PWkpdGhyb3dcImNlcnRzdWJqIHBhcmFtIG5vdCBjZXJ0XCI7dmFyIHM9bmV3ICRuO3MuaGV4PWk7dmFyIG89cy5nZXRTdWJqZWN0SGV4KCk7bj1uZXcgQ3IuYXNuMS5BU04xT2JqZWN0LG4uaFRMVj1vfWlmKG51bGw9PXRoaXMudHlwZSl0aHJvd1widW5zdXBwb3J0ZWQgdHlwZSBpbiBwYXJhbXM9XCIrdDt0aGlzLmFzbjFPYmo9bmV3IENyLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDp0aGlzLmV4cGxpY2l0LHRhZzplW3RoaXMudHlwZV0sb2JqOm59KX19LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzbjFPYmouZ2V0RW5jb2RlZEhleCgpfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdGhpcy5zZXRCeVBhcmFtKHQpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLng1MDkuR2VuZXJhbE5hbWUsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLng1MDkuR2VuZXJhbE5hbWVzPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5HZW5lcmFsTmFtZXMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuc2V0QnlQYXJhbUFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj1uZXcgQ3IuYXNuMS54NTA5LkdlbmVyYWxOYW1lKHRbZV0pO3RoaXMuYXNuMUFycmF5LnB1c2gobil9fSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dGhpcy5hc24xQXJyYXl9KTtyZXR1cm4gdC5nZXRFbmNvZGVkSGV4KCl9LHRoaXMuYXNuMUFycmF5PW5ldyBBcnJheSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdGhpcy5zZXRCeVBhcmFtQXJyYXkodCl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEueDUwOS5HZW5lcmFsTmFtZXMsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnROYW1lPWZ1bmN0aW9uKHQpe0NyLmFzbjEueDUwOS5EaXN0cmlidXRpb25Qb2ludE5hbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO2lmKHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKFwiZnVsbFwiIT10aGlzLnR5cGUpdGhyb3dcImN1cnJlbnRseSB0eXBlIHNoYWxsIGJlICdmdWxsJzogXCIrdGhpcy50eXBlO3JldHVybiB0aGlzLmFzbjFPYmo9bmV3IENyLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDohMSx0YWc6dGhpcy50YWcsb2JqOnRoaXMuYXNuMVZ9KSx0aGlzLmhUTFY9dGhpcy5hc24xT2JqLmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0KXtpZighQ3IuYXNuMS54NTA5LkdlbmVyYWxOYW1lcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KSl0aHJvd1wiVGhpcyBjbGFzcyBzdXBwb3J0cyBHZW5lcmFsTmFtZXMgb25seSBhcyBhcmd1bWVudFwiO3RoaXMudHlwZT1cImZ1bGxcIix0aGlzLnRhZz1cImEwXCIsdGhpcy5hc24xVj10fX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50TmFtZSxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEueDUwOS5EaXN0cmlidXRpb25Qb2ludD1mdW5jdGlvbih0KXtDci5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciB0PW5ldyBDci5hc24xLkRFUlNlcXVlbmNlO2lmKG51bGwhPXRoaXMuYXNuMURQKXt2YXIgZT1uZXcgQ3IuYXNuMS5ERVJUYWdnZWRPYmplY3Qoe2V4cGxpY2l0OiEwLHRhZzpcImEwXCIsb2JqOnRoaXMuYXNuMURQfSk7dC5hcHBlbmRBU04xT2JqZWN0KGUpfXJldHVybiB0aGlzLmhUTFY9dC5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZHBvYmomJih0aGlzLmFzbjFEUD10LmRwb2JqKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50LENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS54NTA5Lk9JRD1uZXcgZnVuY3Rpb24odCl7dGhpcy5hdHlwZTJvaWRMaXN0PXtDOlwiMi41LjQuNlwiLE86XCIyLjUuNC4xMFwiLE9VOlwiMi41LjQuMTFcIixTVDpcIjIuNS40LjhcIixMOlwiMi41LjQuN1wiLENOOlwiMi41LjQuM1wiLFNOOlwiMi41LjQuNFwiLEROOlwiMi41LjQuNDlcIixEQzpcIjAuOS4yMzQyLjE5MjAwMzAwLjEwMC4xLjI1XCJ9LHRoaXMubmFtZTJvaWRMaXN0PXtzaGExOlwiMS4zLjE0LjMuMi4yNlwiLHNoYTI1NjpcIjIuMTYuODQwLjEuMTAxLjMuNC4yLjFcIixzaGEzODQ6XCIyLjE2Ljg0MC4xLjEwMS4zLjQuMi4yXCIsc2hhNTEyOlwiMi4xNi44NDAuMS4xMDEuMy40LjIuM1wiLHNoYTIyNDpcIjIuMTYuODQwLjEuMTAxLjMuNC4yLjRcIixtZDU6XCIxLjIuODQwLjExMzU0OS4yLjVcIixtZDI6XCIxLjMuMTQuNy4yLjIuMVwiLHJpcGVtZDE2MDpcIjEuMy4zNi4zLjIuMVwiLE1EMndpdGhSU0E6XCIxLjIuODQwLjExMzU0OS4xLjEuMlwiLE1ENHdpdGhSU0E6XCIxLjIuODQwLjExMzU0OS4xLjEuM1wiLE1ENXdpdGhSU0E6XCIxLjIuODQwLjExMzU0OS4xLjEuNFwiLFNIQTF3aXRoUlNBOlwiMS4yLjg0MC4xMTM1NDkuMS4xLjVcIixTSEEyMjR3aXRoUlNBOlwiMS4yLjg0MC4xMTM1NDkuMS4xLjE0XCIsU0hBMjU2d2l0aFJTQTpcIjEuMi44NDAuMTEzNTQ5LjEuMS4xMVwiLFNIQTM4NHdpdGhSU0E6XCIxLjIuODQwLjExMzU0OS4xLjEuMTJcIixTSEE1MTJ3aXRoUlNBOlwiMS4yLjg0MC4xMTM1NDkuMS4xLjEzXCIsU0hBMXdpdGhFQ0RTQTpcIjEuMi44NDAuMTAwNDUuNC4xXCIsU0hBMjI0d2l0aEVDRFNBOlwiMS4yLjg0MC4xMDA0NS40LjMuMVwiLFNIQTI1NndpdGhFQ0RTQTpcIjEuMi44NDAuMTAwNDUuNC4zLjJcIixTSEEzODR3aXRoRUNEU0E6XCIxLjIuODQwLjEwMDQ1LjQuMy4zXCIsU0hBNTEyd2l0aEVDRFNBOlwiMS4yLjg0MC4xMDA0NS40LjMuNFwiLGRzYTpcIjEuMi44NDAuMTAwNDAuNC4xXCIsU0hBMXdpdGhEU0E6XCIxLjIuODQwLjEwMDQwLjQuM1wiLFNIQTIyNHdpdGhEU0E6XCIyLjE2Ljg0MC4xLjEwMS4zLjQuMy4xXCIsU0hBMjU2d2l0aERTQTpcIjIuMTYuODQwLjEuMTAxLjMuNC4zLjJcIixyc2FFbmNyeXB0aW9uOlwiMS4yLjg0MC4xMTM1NDkuMS4xLjFcIixjb3VudHJ5TmFtZTpcIjIuNS40LjZcIixvcmdhbml6YXRpb246XCIyLjUuNC4xMFwiLG9yZ2FuaXphdGlvbmFsVW5pdDpcIjIuNS40LjExXCIsc3RhdGVPclByb3ZpbmNlTmFtZTpcIjIuNS40LjhcIixsb2NhbGl0eTpcIjIuNS40LjdcIixjb21tb25OYW1lOlwiMi41LjQuM1wiLHN1YmplY3RLZXlJZGVudGlmaWVyOlwiMi41LjI5LjE0XCIsa2V5VXNhZ2U6XCIyLjUuMjkuMTVcIixzdWJqZWN0QWx0TmFtZTpcIjIuNS4yOS4xN1wiLGJhc2ljQ29uc3RyYWludHM6XCIyLjUuMjkuMTlcIixuYW1lQ29uc3RyYWludHM6XCIyLjUuMjkuMzBcIixjUkxEaXN0cmlidXRpb25Qb2ludHM6XCIyLjUuMjkuMzFcIixjZXJ0aWZpY2F0ZVBvbGljaWVzOlwiMi41LjI5LjMyXCIsYXV0aG9yaXR5S2V5SWRlbnRpZmllcjpcIjIuNS4yOS4zNVwiLHBvbGljeUNvbnN0cmFpbnRzOlwiMi41LjI5LjM2XCIsZXh0S2V5VXNhZ2U6XCIyLjUuMjkuMzdcIixhdXRob3JpdHlJbmZvQWNjZXNzOlwiMS4zLjYuMS41LjUuNy4xLjFcIixhbnlFeHRlbmRlZEtleVVzYWdlOlwiMi41LjI5LjM3LjBcIixzZXJ2ZXJBdXRoOlwiMS4zLjYuMS41LjUuNy4zLjFcIixjbGllbnRBdXRoOlwiMS4zLjYuMS41LjUuNy4zLjJcIixjb2RlU2lnbmluZzpcIjEuMy42LjEuNS41LjcuMy4zXCIsZW1haWxQcm90ZWN0aW9uOlwiMS4zLjYuMS41LjUuNy4zLjRcIix0aW1lU3RhbXBpbmc6XCIxLjMuNi4xLjUuNS43LjMuOFwiLG9jc3BTaWduaW5nOlwiMS4zLjYuMS41LjUuNy4zLjlcIixlY1B1YmxpY0tleTpcIjEuMi44NDAuMTAwNDUuMi4xXCIsc2VjcDI1NnIxOlwiMS4yLjg0MC4xMDA0NS4zLjEuN1wiLHNlY3AyNTZrMTpcIjEuMy4xMzIuMC4xMFwiLHNlY3AzODRyMTpcIjEuMy4xMzIuMC4zNFwiLHBrY3M1UEJFUzI6XCIxLjIuODQwLjExMzU0OS4xLjUuMTNcIixwa2NzNVBCS0RGMjpcIjEuMi44NDAuMTEzNTQ5LjEuNS4xMlwiLFwiZGVzLUVERTMtQ0JDXCI6XCIxLjIuODQwLjExMzU0OS4zLjdcIixkYXRhOlwiMS4yLjg0MC4xMTM1NDkuMS43LjFcIixcInNpZ25lZC1kYXRhXCI6XCIxLjIuODQwLjExMzU0OS4xLjcuMlwiLFwiZW52ZWxvcGVkLWRhdGFcIjpcIjEuMi44NDAuMTEzNTQ5LjEuNy4zXCIsXCJkaWdlc3RlZC1kYXRhXCI6XCIxLjIuODQwLjExMzU0OS4xLjcuNVwiLFwiZW5jcnlwdGVkLWRhdGFcIjpcIjEuMi44NDAuMTEzNTQ5LjEuNy42XCIsXCJhdXRoZW50aWNhdGVkLWRhdGFcIjpcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4xLjJcIix0c3RpbmZvOlwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjEuNFwifSx0aGlzLm9iakNhY2hlPXt9LHRoaXMubmFtZTJvYmo9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMub2JqQ2FjaGVbdF0pcmV0dXJuIHRoaXMub2JqQ2FjaGVbdF07aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMubmFtZTJvaWRMaXN0W3RdKXRocm93XCJOYW1lIG9mIE9iamVjdElkZW50aWZpZXIgbm90IGRlZmluZWQ6IFwiK3Q7dmFyIGU9dGhpcy5uYW1lMm9pZExpc3RbdF0sbj1uZXcgQ3IuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHtvaWQ6ZX0pO3JldHVybiB0aGlzLm9iakNhY2hlW3RdPW4sbn0sdGhpcy5hdHlwZTJvYmo9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMub2JqQ2FjaGVbdF0pcmV0dXJuIHRoaXMub2JqQ2FjaGVbdF07aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMuYXR5cGUyb2lkTGlzdFt0XSl0aHJvd1wiQXR0cmlidXRlVHlwZSBuYW1lIHVuZGVmaW5lZDogXCIrdDt2YXIgZT10aGlzLmF0eXBlMm9pZExpc3RbdF0sbj1uZXcgQ3IuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHtvaWQ6ZX0pO3JldHVybiB0aGlzLm9iakNhY2hlW3RdPW4sbn19LENyLmFzbjEueDUwOS5PSUQub2lkMm5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9Q3IuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3Q7Zm9yKHZhciBuIGluIGUpaWYoZVtuXT09dClyZXR1cm4gbjtyZXR1cm5cIlwifSxDci5hc24xLng1MDkuT0lELm5hbWUyb2lkPWZ1bmN0aW9uKHQpe3ZhciBlPUNyLmFzbjEueDUwOS5PSUQubmFtZTJvaWRMaXN0O3JldHVybiB2b2lkIDA9PT1lW3RdP1wiXCI6ZVt0XX0sQ3IuYXNuMS54NTA5Llg1MDlVdGlsPW5ldyBmdW5jdGlvbigpe3RoaXMuZ2V0UEtDUzhQdWJLZXlQRU1mcm9tUlNBS2V5PWZ1bmN0aW9uKHQpe3ZhciBlPW51bGwsbj1Dci5hc24xLkFTTjFVdGlsLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4KHQubikscj1Dci5hc24xLkFTTjFVdGlsLmludGVnZXJUb0J5dGVIZXgodC5lKSxpPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2hleDpufSkscz1uZXcgQ3IuYXNuMS5ERVJJbnRlZ2VyKHtoZXg6cn0pLG89bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OltpLHNdfSksYT1vLmdldEVuY29kZWRIZXgoKSx1PW5ldyBDci5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZTpcInJzYUVuY3J5cHRpb25cIn0pLGg9bmV3IENyLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6XCIwMFwiK2F9KSxjPW5ldyBDci5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdSxoXX0pLGY9Yy5nZXRFbmNvZGVkSGV4KCksZT1Dci5hc24xLkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoZixcIlBVQkxJQyBLRVlcIik7cmV0dXJuIGV9fSxDci5hc24xLng1MDkuWDUwOVV0aWwubmV3Q2VydFBFTT1mdW5jdGlvbih0KXt2YXIgZT1Dci5hc24xLng1MDksbj1uZXcgZS5UQlNDZXJ0aWZpY2F0ZTtpZih2b2lkIDA9PT10LnNlcmlhbCl0aHJvd1wic2VyaWFsIG51bWJlciB1bmRlZmluZWQuXCI7aWYobi5zZXRTZXJpYWxOdW1iZXJCeVBhcmFtKHQuc2VyaWFsKSxcInN0cmluZ1wiIT10eXBlb2YgdC5zaWdhbGcubmFtZSl0aHJvd1widW5wcm9wZXIgc2lnbmF0dXJlIGFsZ29yaXRobSBuYW1lXCI7aWYobi5zZXRTaWduYXR1cmVBbGdCeVBhcmFtKHQuc2lnYWxnKSx2b2lkIDA9PT10Lmlzc3Vlcil0aHJvd1wiaXNzdWVyIG5hbWUgdW5kZWZpbmVkLlwiO2lmKG4uc2V0SXNzdWVyQnlQYXJhbSh0Lmlzc3Vlciksdm9pZCAwPT09dC5ub3RiZWZvcmUpdGhyb3dcIm5vdGJlZm9yZSB1bmRlZmluZWQuXCI7aWYobi5zZXROb3RCZWZvcmVCeVBhcmFtKHQubm90YmVmb3JlKSx2b2lkIDA9PT10Lm5vdGFmdGVyKXRocm93XCJub3RhZnRlciB1bmRlZmluZWQuXCI7aWYobi5zZXROb3RBZnRlckJ5UGFyYW0odC5ub3RhZnRlciksdm9pZCAwPT09dC5zdWJqZWN0KXRocm93XCJzdWJqZWN0IG5hbWUgdW5kZWZpbmVkLlwiO2lmKG4uc2V0U3ViamVjdEJ5UGFyYW0odC5zdWJqZWN0KSx2b2lkIDA9PT10LnNianB1YmtleSl0aHJvd1wic3ViamVjdCBwdWJsaWMga2V5IHVuZGVmaW5lZC5cIjtpZihuLnNldFN1YmplY3RQdWJsaWNLZXlCeUdldEtleSh0LnNianB1YmtleSksdm9pZCAwIT09dC5leHQmJnZvaWQgMCE9PXQuZXh0Lmxlbmd0aClmb3IodmFyIHI9MDtyPHQuZXh0Lmxlbmd0aDtyKyspZm9yKGtleSBpbiB0LmV4dFtyXSluLmFwcGVuZEV4dGVuc2lvbkJ5TmFtZShrZXksdC5leHRbcl1ba2V5XSk7aWYodm9pZCAwPT09dC5jYWtleSYmdm9pZCAwPT09dC5zaWdoZXgpdGhyb3dcInBhcmFtIGNha2V5IGFuZCBzaWdoZXggdW5kZWZpbmVkLlwiO3ZhciBpPW51bGwscz1udWxsO3JldHVybiB0LmNha2V5JiYoaT1Ici5nZXRLZXkuYXBwbHkobnVsbCx0LmNha2V5KSxzPW5ldyBlLkNlcnRpZmljYXRlKHt0YnNjZXJ0b2JqOm4scHJ2a2V5b2JqOml9KSxzLnNpZ24oKSksdC5zaWdoZXgmJihzPW5ldyBlLkNlcnRpZmljYXRlKHt0YnNjZXJ0b2JqOm59KSxzLnNldFNpZ25hdHVyZUhleCh0LnNpZ2hleCkpLHMuZ2V0UEVNU3RyaW5nKCl9LC8qISBhc24xY21zLTEuMC4yLmpzIChjKSAyMDEzLTIwMTQgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2Vcblx0ICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgQ3ImJkNyfHwoQ3I9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5hc24xJiZDci5hc24xfHwoQ3IuYXNuMT17fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmFzbjEuY21zJiZDci5hc24xLmNtc3x8KENyLmFzbjEuY21zPXt9KSxDci5hc24xLmNtcy5BdHRyaWJ1dGU9ZnVuY3Rpb24odCl7Q3IuYXNuMS5jbXMuQXR0cmlidXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgdCxlLG47dD1uZXcgQ3IuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHtvaWQ6dGhpcy5hdHRyVHlwZU9pZH0pLGU9bmV3IENyLmFzbjEuREVSU2V0KHthcnJheTp0aGlzLnZhbHVlTGlzdH0pO3RyeXtlLmdldEVuY29kZWRIZXgoKX1jYXRjaCh0KXt0aHJvd1wiZmFpbCB2YWx1ZVNldC5nZXRFbmNvZGVkSGV4IGluIEF0dHJpYnV0ZSgxKS9cIit0fW49bmV3IENyLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0LGVdfSk7dHJ5e3RoaXMuaFRMVj1uLmdldEVuY29kZWRIZXgoKX1jYXRjaCh0KXt0aHJvd1wiZmFpbGVkIHNlcS5nZXRFbmNvZGVkSGV4IGluIEF0dHJpYnV0ZSgyKS9cIit0fXJldHVybiB0aGlzLmhUTFZ9fSxzci5sYW5nLmV4dGVuZChDci5hc24xLmNtcy5BdHRyaWJ1dGUsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLmNtcy5Db250ZW50VHlwZT1mdW5jdGlvbih0KXtDci5hc24xLmNtcy5Db250ZW50VHlwZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5hdHRyVHlwZU9pZD1cIjEuMi44NDAuMTEzNTQ5LjEuOS4zXCI7dmFyIGU9bnVsbDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdCl7dmFyIGU9bmV3IENyLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcih0KTt0aGlzLnZhbHVlTGlzdD1bZV19fSxzci5sYW5nLmV4dGVuZChDci5hc24xLmNtcy5Db250ZW50VHlwZSxDci5hc24xLmNtcy5BdHRyaWJ1dGUpLENyLmFzbjEuY21zLk1lc3NhZ2VEaWdlc3Q9ZnVuY3Rpb24odCl7aWYoQ3IuYXNuMS5jbXMuTWVzc2FnZURpZ2VzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5hdHRyVHlwZU9pZD1cIjEuMi44NDAuMTEzNTQ5LjEuOS40XCIsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQpaWYodC5lY2lPYmogaW5zdGFuY2VvZiBDci5hc24xLmNtcy5FbmNhcHN1bGF0ZWRDb250ZW50SW5mbyYmXCJzdHJpbmdcIj09dHlwZW9mIHQuaGFzaEFsZyl7dmFyIGU9dC5lY2lPYmouZUNvbnRlbnRWYWx1ZUhleCxuPXQuaGFzaEFsZyxyPUNyLmNyeXB0by5VdGlsLmhhc2hIZXgoZSxuKSxpPW5ldyBDci5hc24xLkRFUk9jdGV0U3RyaW5nKHtoZXg6cn0pO2kuZ2V0RW5jb2RlZEhleCgpLHRoaXMudmFsdWVMaXN0PVtpXX1lbHNle3ZhciBpPW5ldyBDci5hc24xLkRFUk9jdGV0U3RyaW5nKHQpO2kuZ2V0RW5jb2RlZEhleCgpLHRoaXMudmFsdWVMaXN0PVtpXX19LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY21zLk1lc3NhZ2VEaWdlc3QsQ3IuYXNuMS5jbXMuQXR0cmlidXRlKSxDci5hc24xLmNtcy5TaWduaW5nVGltZT1mdW5jdGlvbih0KXtpZihDci5hc24xLmNtcy5TaWduaW5nVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5hdHRyVHlwZU9pZD1cIjEuMi44NDAuMTEzNTQ5LjEuOS41XCIsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQpe3ZhciBlPW5ldyBDci5hc24xLng1MDkuVGltZSh0KTt0cnl7ZS5nZXRFbmNvZGVkSGV4KCl9Y2F0Y2godCl7dGhyb3dcIlNpZ25pbmdUaW1lLmdldEVuY29kZWRIZXgoKSBmYWlsZWQvXCIrdH10aGlzLnZhbHVlTGlzdD1bZV19fSxzci5sYW5nLmV4dGVuZChDci5hc24xLmNtcy5TaWduaW5nVGltZSxDci5hc24xLmNtcy5BdHRyaWJ1dGUpLENyLmFzbjEuY21zLlNpZ25pbmdDZXJ0aWZpY2F0ZT1mdW5jdGlvbih0KXtDci5hc24xLmNtcy5TaWduaW5nQ2VydGlmaWNhdGUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuYXR0clR5cGVPaWQ9XCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xMlwiO3ZhciBlPUNyLmFzbjEsbj1Dci5hc24xLmNtcyxyPUNyLmNyeXB0bzt0aGlzLnNldENlcnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1bXSxzPTA7czx0Lmxlbmd0aDtzKyspe3ZhciBvPUhyLmdldEhleEZyb21QRU0odFtzXSksYT1yLlV0aWwuaGFzaEhleChvLFwic2hhMVwiKSx1PW5ldyBlLkRFUk9jdGV0U3RyaW5nKHtoZXg6YX0pO3UuZ2V0RW5jb2RlZEhleCgpO3ZhciBoPW5ldyBuLklzc3VlckFuZFNlcmlhbE51bWJlcih7Y2VydDp0W3NdfSk7aC5nZXRFbmNvZGVkSGV4KCk7dmFyIGM9bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5Olt1LGhdfSk7Yy5nZXRFbmNvZGVkSGV4KCksaS5wdXNoKGMpfXZhciBmPW5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTppfSk7Zi5nZXRFbmNvZGVkSGV4KCksdGhpcy52YWx1ZUxpc3Q9W2ZdfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmXCJvYmplY3RcIj09dHlwZW9mIHQuYXJyYXkmJnRoaXMuc2V0Q2VydHModC5hcnJheSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY21zLlNpZ25pbmdDZXJ0aWZpY2F0ZSxDci5hc24xLmNtcy5BdHRyaWJ1dGUpLENyLmFzbjEuY21zLlNpZ25pbmdDZXJ0aWZpY2F0ZVYyPWZ1bmN0aW9uKHQpe0NyLmFzbjEuY21zLlNpZ25pbmdDZXJ0aWZpY2F0ZVYyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmF0dHJUeXBlT2lkPVwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuNDdcIjt2YXIgZT1Dci5hc24xLG49Q3IuYXNuMS54NTA5LHI9Q3IuYXNuMS5jbXMsaT1Dci5jcnlwdG87aWYodGhpcy5zZXRDZXJ0cz1mdW5jdGlvbih0LHMpe2Zvcih2YXIgbz1bXSxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciB1PUhyLmdldEhleEZyb21QRU0odFthXSksaD1bXTtcInNoYTI1NlwiIT1zJiZoLnB1c2gobmV3IG4uQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZTpzfSkpO3ZhciBjPWkuVXRpbC5oYXNoSGV4KHUscyksZj1uZXcgZS5ERVJPY3RldFN0cmluZyh7aGV4OmN9KTtmLmdldEVuY29kZWRIZXgoKSxoLnB1c2goZik7dmFyIGw9bmV3IHIuSXNzdWVyQW5kU2VyaWFsTnVtYmVyKHtjZXJ0OnRbYV19KTtsLmdldEVuY29kZWRIZXgoKSxoLnB1c2gobCk7dmFyIGQ9bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5Omh9KTtkLmdldEVuY29kZWRIZXgoKSxvLnB1c2goZCl9dmFyIGc9bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5Om99KTtnLmdldEVuY29kZWRIZXgoKSx0aGlzLnZhbHVlTGlzdD1bZ119LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdC5hcnJheSl7dmFyIHM9XCJzaGEyNTZcIjtcInN0cmluZ1wiPT10eXBlb2YgdC5oYXNoQWxnJiYocz10Lmhhc2hBbGcpLHRoaXMuc2V0Q2VydHModC5hcnJheSxzKX19LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY21zLlNpZ25pbmdDZXJ0aWZpY2F0ZVYyLENyLmFzbjEuY21zLkF0dHJpYnV0ZSksQ3IuYXNuMS5jbXMuSXNzdWVyQW5kU2VyaWFsTnVtYmVyPWZ1bmN0aW9uKHQpe0NyLmFzbjEuY21zLklzc3VlckFuZFNlcmlhbE51bWJlci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMSxuPWUueDUwOTt0aGlzLnNldEJ5Q2VydFBFTT1mdW5jdGlvbih0KXt2YXIgcj1Ici5nZXRIZXhGcm9tUEVNKHQpLGk9bmV3ICRuO2kuaGV4PXI7dmFyIHM9aS5nZXRJc3N1ZXJIZXgoKTt0aGlzLmRJc3N1ZXI9bmV3IG4uWDUwME5hbWUsdGhpcy5kSXNzdWVyLmhUTFY9czt2YXIgbz1pLmdldFNlcmlhbE51bWJlckhleCgpO3RoaXMuZFNlcmlhbD1uZXcgZS5ERVJJbnRlZ2VyKHtoZXg6b30pfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W3RoaXMuZElzc3Vlcix0aGlzLmRTZXJpYWxdfSk7cmV0dXJuIHRoaXMuaFRMVj10LmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQuaW5kZXhPZihcIi0tLS0tQkVHSU4gXCIpIT0tMSYmdGhpcy5zZXRCeUNlcnRQRU0odCksdC5pc3N1ZXImJnQuc2VyaWFsJiYodC5pc3N1ZXIgaW5zdGFuY2VvZiBDci5hc24xLng1MDkuWDUwME5hbWU/dGhpcy5kSXNzdWVyPXQuaXNzdWVyOnRoaXMuZElzc3Vlcj1uZXcgQ3IuYXNuMS54NTA5Llg1MDBOYW1lKHQuaXNzdWVyKSx0LnNlcmlhbCBpbnN0YW5jZW9mIENyLmFzbjEuREVSSW50ZWdlcj90aGlzLmRTZXJpYWw9dC5zZXJpYWw6dGhpcy5kU2VyaWFsPW5ldyBDci5hc24xLkRFUkludGVnZXIodC5zZXJpYWwpKSxcInN0cmluZ1wiPT10eXBlb2YgdC5jZXJ0JiZ0aGlzLnNldEJ5Q2VydFBFTSh0LmNlcnQpKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5jbXMuSXNzdWVyQW5kU2VyaWFsTnVtYmVyLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5jbXMuQXR0cmlidXRlTGlzdD1mdW5jdGlvbih0KXtDci5hc24xLmNtcy5BdHRyaWJ1dGVMaXN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmxpc3Q9bmV3IEFycmF5LHRoaXMuc29ydEZsYWc9ITAsdGhpcy5hZGQ9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIENyLmFzbjEuY21zLkF0dHJpYnV0ZSYmdGhpcy5saXN0LnB1c2godCl9LHRoaXMubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5sZW5ndGh9LHRoaXMuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxpc3Q9bmV3IEFycmF5LHRoaXMuaFRMVj1udWxsLHRoaXMuaFY9bnVsbH0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuaFRMVilyZXR1cm4gdGhpcy5oVExWO3ZhciB0PW5ldyBDci5hc24xLkRFUlNldCh7YXJyYXk6dGhpcy5saXN0LHNvcnRmbGFnOnRoaXMuc29ydEZsYWd9KTtyZXR1cm4gdGhpcy5oVExWPXQuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnNvcnRmbGFnJiYwPT10LnNvcnRmbGFnJiYodGhpcy5zb3J0RmxhZz0hMSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY21zLkF0dHJpYnV0ZUxpc3QsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLmNtcy5TaWduZXJJbmZvPWZ1bmN0aW9uKHQpe0NyLmFzbjEuY21zLlNpZ25lckluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBlPUNyLmFzbjEsbj1Dci5hc24xLmNtcyxyPUNyLmFzbjEueDUwOTt0aGlzLmRDTVNWZXJzaW9uPW5ldyBlLkRFUkludGVnZXIoe2ludDoxfSksdGhpcy5kU2lnbmVySWRlbnRpZmllcj1udWxsLHRoaXMuZERpZ2VzdEFsZ29yaXRobT1udWxsLHRoaXMuZFNpZ25lZEF0dHJzPW5ldyBuLkF0dHJpYnV0ZUxpc3QsdGhpcy5kU2lnQWxnPW51bGwsdGhpcy5kU2lnPW51bGwsdGhpcy5kVW5zaWduZWRBdHRycz1uZXcgbi5BdHRyaWJ1dGVMaXN0LHRoaXMuc2V0U2lnbmVySWRlbnRpZmllcj1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5pbmRleE9mKFwiQ0VSVElGSUNBVEVcIikhPS0xJiZ0LmluZGV4T2YoXCJCRUdJTlwiKSE9LTEmJnQuaW5kZXhPZihcIkVORFwiKSE9LTEpe3RoaXMuZFNpZ25lcklkZW50aWZpZXI9bmV3IG4uSXNzdWVyQW5kU2VyaWFsTnVtYmVyKHtjZXJ0OnR9KX19LHRoaXMuc2V0Rm9yQ29udGVudEFuZEhhc2g9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJih0LmVjaU9iaiBpbnN0YW5jZW9mIENyLmFzbjEuY21zLkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvJiYodGhpcy5kU2lnbmVkQXR0cnMuYWRkKG5ldyBuLkNvbnRlbnRUeXBlKHtvaWQ6XCIxLjIuODQwLjExMzU0OS4xLjcuMVwifSkpLHRoaXMuZFNpZ25lZEF0dHJzLmFkZChuZXcgbi5NZXNzYWdlRGlnZXN0KHtlY2lPYmo6dC5lY2lPYmosaGFzaEFsZzp0Lmhhc2hBbGd9KSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnNkT2JqJiZ0LnNkT2JqIGluc3RhbmNlb2YgQ3IuYXNuMS5jbXMuU2lnbmVkRGF0YSYmdC5zZE9iai5kaWdlc3RBbGdOYW1lTGlzdC5qb2luKFwiOlwiKS5pbmRleE9mKHQuaGFzaEFsZyk9PS0xJiZ0LnNkT2JqLmRpZ2VzdEFsZ05hbWVMaXN0LnB1c2godC5oYXNoQWxnKSxcInN0cmluZ1wiPT10eXBlb2YgdC5oYXNoQWxnJiYodGhpcy5kRGlnZXN0QWxnb3JpdGhtPW5ldyByLkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6dC5oYXNoQWxnfSkpKX0sdGhpcy5zaWduPWZ1bmN0aW9uKHQsbil7dGhpcy5kU2lnQWxnPW5ldyByLkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6bn0pO3ZhciBpPXRoaXMuZFNpZ25lZEF0dHJzLmdldEVuY29kZWRIZXgoKSxzPUhyLmdldEtleSh0KSxvPW5ldyBDci5jcnlwdG8uU2lnbmF0dXJlKHthbGc6bn0pO28uaW5pdChzKSxvLnVwZGF0ZUhleChpKTt2YXIgYT1vLnNpZ24oKTt0aGlzLmRTaWc9bmV3IGUuREVST2N0ZXRTdHJpbmcoe2hleDphfSl9LHRoaXMuYWRkVW5zaWduZWQ9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5kVW5zaWduZWRBdHRycy5oVExWPW51bGwsdGhpcy5kVW5zaWduZWRBdHRycy5hZGQodCl9LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHRoaXMuZFNpZ25lZEF0dHJzIGluc3RhbmNlb2YgQ3IuYXNuMS5jbXMuQXR0cmlidXRlTGlzdCYmMD09dGhpcy5kU2lnbmVkQXR0cnMubGVuZ3RoKCkpdGhyb3dcIlNpZ25lZEF0dHJzIGxlbmd0aCA9IDAgKGVtcHR5KVwiO3ZhciB0PW5ldyBlLkRFUlRhZ2dlZE9iamVjdCh7b2JqOnRoaXMuZFNpZ25lZEF0dHJzLHRhZzpcImEwXCIsZXhwbGljaXQ6ITF9KSxuPW51bGw7dGhpcy5kVW5zaWduZWRBdHRycy5sZW5ndGgoKT4wJiYobj1uZXcgZS5ERVJUYWdnZWRPYmplY3Qoe29iajp0aGlzLmRVbnNpZ25lZEF0dHJzLHRhZzpcImExXCIsZXhwbGljaXQ6ITF9KSk7dmFyIHI9W3RoaXMuZENNU1ZlcnNpb24sdGhpcy5kU2lnbmVySWRlbnRpZmllcix0aGlzLmREaWdlc3RBbGdvcml0aG0sdCx0aGlzLmRTaWdBbGcsdGhpcy5kU2lnXTtudWxsIT1uJiZyLnB1c2gobik7dmFyIGk9bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5OnJ9KTtyZXR1cm4gdGhpcy5oVExWPWkuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn19LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY21zLlNpZ25lckluZm8sQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLmNtcy5FbmNhcHN1bGF0ZWRDb250ZW50SW5mbz1mdW5jdGlvbih0KXtDci5hc24xLmNtcy5FbmNhcHN1bGF0ZWRDb250ZW50SW5mby5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMTtDci5hc24xLmNtcyxDci5hc24xLng1MDk7dGhpcy5kRUNvbnRlbnRUeXBlPW5ldyBlLkRFUk9iamVjdElkZW50aWZpZXIoe25hbWU6XCJkYXRhXCJ9KSx0aGlzLmRFQ29udGVudD1udWxsLHRoaXMuaXNEZXRhY2hlZD0hMSx0aGlzLmVDb250ZW50VmFsdWVIZXg9bnVsbCx0aGlzLnNldENvbnRlbnRUeXBlPWZ1bmN0aW9uKHQpe3QubWF0Y2goL15bMC0yXVsuXVswLTkuXSskLyk/dGhpcy5kRUNvbnRlbnRUeXBlPW5ldyBlLkRFUk9iamVjdElkZW50aWZpZXIoe29pZDp0fSk6dGhpcy5kRUNvbnRlbnRUeXBlPW5ldyBlLkRFUk9iamVjdElkZW50aWZpZXIoe25hbWU6dH0pfSx0aGlzLnNldENvbnRlbnRWYWx1ZT1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0LmhleD90aGlzLmVDb250ZW50VmFsdWVIZXg9dC5oZXg6XCJzdHJpbmdcIj09dHlwZW9mIHQuc3RyJiYodGhpcy5lQ29udGVudFZhbHVlSGV4PW1uKHQuc3RyKSkpfSx0aGlzLnNldENvbnRlbnRWYWx1ZUhleD1mdW5jdGlvbih0KXt0aGlzLmVDb250ZW50VmFsdWVIZXg9dH0sdGhpcy5zZXRDb250ZW50VmFsdWVTdHI9ZnVuY3Rpb24odCl7dGhpcy5lQ29udGVudFZhbHVlSGV4PW1uKHQpfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5lQ29udGVudFZhbHVlSGV4KXRocm93XCJlQ29udGVudFZhbHVlIG5vdCB5ZXQgc2V0XCI7dmFyIHQ9bmV3IGUuREVST2N0ZXRTdHJpbmcoe2hleDp0aGlzLmVDb250ZW50VmFsdWVIZXh9KTt0aGlzLmRFQ29udGVudD1uZXcgZS5ERVJUYWdnZWRPYmplY3Qoe29iajp0LHRhZzpcImEwXCIsZXhwbGljaXQ6ITB9KTt2YXIgbj1bdGhpcy5kRUNvbnRlbnRUeXBlXTt0aGlzLmlzRGV0YWNoZWR8fG4ucHVzaCh0aGlzLmRFQ29udGVudCk7dmFyIHI9bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5Om59KTtyZXR1cm4gdGhpcy5oVExWPXIuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn19LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY21zLkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5jbXMuQ29udGVudEluZm89ZnVuY3Rpb24odCl7Q3IuYXNuMS5jbXMuQ29udGVudEluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBlPUNyLmFzbjEsbj0oQ3IuYXNuMS5jbXMsQ3IuYXNuMS54NTA5KTt0aGlzLmRDb250ZW50VHlwZT1udWxsLHRoaXMuZENvbnRlbnQ9bnVsbCx0aGlzLnNldENvbnRlbnRUeXBlPWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodGhpcy5kQ29udGVudFR5cGU9bi5PSUQubmFtZTJvYmoodCkpfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZS5ERVJUYWdnZWRPYmplY3Qoe29iajp0aGlzLmRDb250ZW50LHRhZzpcImEwXCIsZXhwbGljaXQ6ITB9KSxuPW5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5kQ29udGVudFR5cGUsdF19KTtyZXR1cm4gdGhpcy5oVExWPW4uZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJih0LnR5cGUmJnRoaXMuc2V0Q29udGVudFR5cGUodC50eXBlKSx0Lm9iaiYmdC5vYmogaW5zdGFuY2VvZiBlLkFTTjFPYmplY3QmJih0aGlzLmRDb250ZW50PXQub2JqKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY21zLkNvbnRlbnRJbmZvLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5jbXMuU2lnbmVkRGF0YT1mdW5jdGlvbih0KXtDci5hc24xLmNtcy5TaWduZWREYXRhLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgZT1Dci5hc24xLG49Q3IuYXNuMS5jbXMscj1Dci5hc24xLng1MDk7dGhpcy5kQ01TVmVyc2lvbj1uZXcgZS5ERVJJbnRlZ2VyKHtpbnQ6MX0pLHRoaXMuZERpZ2VzdEFsZ3M9bnVsbCx0aGlzLmRpZ2VzdEFsZ05hbWVMaXN0PVtdLHRoaXMuZEVuY2FwQ29udGVudEluZm89bmV3IG4uRW5jYXBzdWxhdGVkQ29udGVudEluZm8sdGhpcy5kQ2VydHM9bnVsbCx0aGlzLmNlcnRpZmljYXRlTGlzdD1bXSx0aGlzLmNybExpc3Q9W10sdGhpcy5zaWduZXJJbmZvTGlzdD1bbmV3IG4uU2lnbmVySW5mb10sdGhpcy5hZGRDZXJ0aWZpY2F0ZXNCeVBFTT1mdW5jdGlvbih0KXt2YXIgbj1Ici5nZXRIZXhGcm9tUEVNKHQpLHI9bmV3IGUuQVNOMU9iamVjdDtyLmhUTFY9bix0aGlzLmNlcnRpZmljYXRlTGlzdC5wdXNoKHIpfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5oVExWKXJldHVybiB0aGlzLmhUTFY7aWYobnVsbD09dGhpcy5kRGlnZXN0QWxncyl7Zm9yKHZhciB0PVtdLG49MDtuPHRoaXMuZGlnZXN0QWxnTmFtZUxpc3QubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5kaWdlc3RBbGdOYW1lTGlzdFtuXSxzPW5ldyByLkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6aX0pO3QucHVzaChzKX10aGlzLmREaWdlc3RBbGdzPW5ldyBlLkRFUlNldCh7YXJyYXk6dH0pfXZhciBvPVt0aGlzLmRDTVNWZXJzaW9uLHRoaXMuZERpZ2VzdEFsZ3MsdGhpcy5kRW5jYXBDb250ZW50SW5mb107aWYobnVsbD09dGhpcy5kQ2VydHMmJnRoaXMuY2VydGlmaWNhdGVMaXN0Lmxlbmd0aD4wKXt2YXIgYT1uZXcgZS5ERVJTZXQoe2FycmF5OnRoaXMuY2VydGlmaWNhdGVMaXN0fSk7dGhpcy5kQ2VydHM9bmV3IGUuREVSVGFnZ2VkT2JqZWN0KHtvYmo6YSx0YWc6XCJhMFwiLGV4cGxpY2l0OiExfSl9bnVsbCE9dGhpcy5kQ2VydHMmJm8ucHVzaCh0aGlzLmRDZXJ0cyk7dmFyIHU9bmV3IGUuREVSU2V0KHthcnJheTp0aGlzLnNpZ25lckluZm9MaXN0fSk7by5wdXNoKHUpO3ZhciBoPW5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTpvfSk7cmV0dXJuIHRoaXMuaFRMVj1oLmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFZ9LHRoaXMuZ2V0Q29udGVudEluZm89ZnVuY3Rpb24oKXt0aGlzLmdldEVuY29kZWRIZXgoKTt2YXIgdD1uZXcgbi5Db250ZW50SW5mbyh7dHlwZTpcInNpZ25lZC1kYXRhXCIsb2JqOnRoaXN9KTtyZXR1cm4gdH0sdGhpcy5nZXRDb250ZW50SW5mb0VuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldENvbnRlbnRJbmZvKCksZT10LmdldEVuY29kZWRIZXgoKTtyZXR1cm4gZX0sdGhpcy5nZXRQRU09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldENvbnRlbnRJbmZvRW5jb2RlZEhleCgpLG49ZS5BU04xVXRpbC5nZXRQRU1TdHJpbmdGcm9tSGV4KHQsXCJDTVNcIik7cmV0dXJuIG59fSxzci5sYW5nLmV4dGVuZChDci5hc24xLmNtcy5TaWduZWREYXRhLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5jbXMuQ01TVXRpbD1uZXcgZnVuY3Rpb24oKXt9LENyLmFzbjEuY21zLkNNU1V0aWwubmV3U2lnbmVkRGF0YT1mdW5jdGlvbih0KXt2YXIgZT1Dci5hc24xLmNtcyxuPUNyLmFzbjEuY2FkZXMscj1uZXcgZS5TaWduZWREYXRhO2lmKHIuZEVuY2FwQ29udGVudEluZm8uc2V0Q29udGVudFZhbHVlKHQuY29udGVudCksXCJvYmplY3RcIj09dHlwZW9mIHQuY2VydHMpZm9yKHZhciBpPTA7aTx0LmNlcnRzLmxlbmd0aDtpKyspci5hZGRDZXJ0aWZpY2F0ZXNCeVBFTSh0LmNlcnRzW2ldKTtyLnNpZ25lckluZm9MaXN0PVtdO2Zvcih2YXIgaT0wO2k8dC5zaWduZXJJbmZvcy5sZW5ndGg7aSsrKXt2YXIgcz10LnNpZ25lckluZm9zW2ldLG89bmV3IGUuU2lnbmVySW5mbztvLnNldFNpZ25lcklkZW50aWZpZXIocy5zaWduZXJDZXJ0KSxvLnNldEZvckNvbnRlbnRBbmRIYXNoKHtzZE9iajpyLGVjaU9iajpyLmRFbmNhcENvbnRlbnRJbmZvLGhhc2hBbGc6cy5oYXNoQWxnfSk7Zm9yKGF0dHJOYW1lIGluIHMuc0F0dHIpe3ZhciBhPXMuc0F0dHJbYXR0ck5hbWVdO2lmKFwiU2lnbmluZ1RpbWVcIj09YXR0ck5hbWUpe3ZhciB1PW5ldyBlLlNpZ25pbmdUaW1lKGEpO28uZFNpZ25lZEF0dHJzLmFkZCh1KX1pZihcIlNpZ25pbmdDZXJ0aWZpY2F0ZVwiPT1hdHRyTmFtZSl7dmFyIHU9bmV3IGUuU2lnbmluZ0NlcnRpZmljYXRlKGEpO28uZFNpZ25lZEF0dHJzLmFkZCh1KX1pZihcIlNpZ25pbmdDZXJ0aWZpY2F0ZVYyXCI9PWF0dHJOYW1lKXt2YXIgdT1uZXcgZS5TaWduaW5nQ2VydGlmaWNhdGVWMihhKTtvLmRTaWduZWRBdHRycy5hZGQodSl9aWYoXCJTaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyXCI9PWF0dHJOYW1lKXt2YXIgdT1uZXcgbi5TaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyKGEpO28uZFNpZ25lZEF0dHJzLmFkZCh1KX19by5zaWduKHMuc2lnbmVyUHJ2S2V5LHMuc2lnQWxnKSxyLnNpZ25lckluZm9MaXN0LnB1c2gobyl9cmV0dXJuIHJ9LC8qISBhc24xdHNwLTEuMC4xLmpzIChjKSAyMDE0IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG5cdCAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyJiZDcnx8KENyPXt9KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3IuYXNuMSYmQ3IuYXNuMXx8KENyLmFzbjE9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5hc24xLnRzcCYmQ3IuYXNuMS50c3B8fChDci5hc24xLnRzcD17fSksQ3IuYXNuMS50c3AuQWNjdXJhY3k9ZnVuY3Rpb24odCl7Q3IuYXNuMS50c3AuQWNjdXJhY3kuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBlPUNyLmFzbjE7dGhpcy5zZWNvbmRzPW51bGwsdGhpcy5taWxsaXM9bnVsbCx0aGlzLm1pY3Jvcz1udWxsLHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciB0PW51bGwsbj1udWxsLHI9bnVsbCxpPVtdO2lmKG51bGwhPXRoaXMuc2Vjb25kcyYmKHQ9bmV3IGUuREVSSW50ZWdlcih7aW50OnRoaXMuc2Vjb25kc30pLGkucHVzaCh0KSksbnVsbCE9dGhpcy5taWxsaXMpe3ZhciBzPW5ldyBlLkRFUkludGVnZXIoe2ludDp0aGlzLm1pbGxpc30pO249bmV3IGUuREVSVGFnZ2VkT2JqZWN0KHtvYmo6cyx0YWc6XCI4MFwiLGV4cGxpY2l0OiExfSksaS5wdXNoKG4pfWlmKG51bGwhPXRoaXMubWljcm9zKXt2YXIgbz1uZXcgZS5ERVJJbnRlZ2VyKHtpbnQ6dGhpcy5taWNyb3N9KTtyPW5ldyBlLkRFUlRhZ2dlZE9iamVjdCh7b2JqOm8sdGFnOlwiODFcIixleHBsaWNpdDohMX0pLGkucHVzaChyKX12YXIgYT1uZXcgZS5ERVJTZXF1ZW5jZSh7YXJyYXk6aX0pO3JldHVybiB0aGlzLmhUTFY9YS5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwibnVtYmVyXCI9PXR5cGVvZiB0LnNlY29uZHMmJih0aGlzLnNlY29uZHM9dC5zZWNvbmRzKSxcIm51bWJlclwiPT10eXBlb2YgdC5taWxsaXMmJih0aGlzLm1pbGxpcz10Lm1pbGxpcyksXCJudW1iZXJcIj09dHlwZW9mIHQubWljcm9zJiYodGhpcy5taWNyb3M9dC5taWNyb3MpKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS50c3AuQWNjdXJhY3ksQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLnRzcC5NZXNzYWdlSW1wcmludD1mdW5jdGlvbih0KXtDci5hc24xLnRzcC5NZXNzYWdlSW1wcmludC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMSxuPUNyLmFzbjEueDUwOTt0aGlzLmRIYXNoQWxnPW51bGwsdGhpcy5kSGFzaFZhbHVlPW51bGwsdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuaFRMVilyZXR1cm4gdGhpcy5oVExWO3ZhciB0PW5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5kSGFzaEFsZyx0aGlzLmRIYXNoVmFsdWVdfSk7cmV0dXJuIHQuZ2V0RW5jb2RlZEhleCgpfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0Lmhhc2hBbGcmJih0aGlzLmRIYXNoQWxnPW5ldyBuLkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6dC5oYXNoQWxnfSkpLFwic3RyaW5nXCI9PXR5cGVvZiB0Lmhhc2hWYWx1ZSYmKHRoaXMuZEhhc2hWYWx1ZT1uZXcgZS5ERVJPY3RldFN0cmluZyh7aGV4OnQuaGFzaFZhbHVlfSkpKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS50c3AuTWVzc2FnZUltcHJpbnQsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLnRzcC5UaW1lU3RhbXBSZXE9ZnVuY3Rpb24odCl7Q3IuYXNuMS50c3AuVGltZVN0YW1wUmVxLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgZT1Dci5hc24xLG49Q3IuYXNuMS50c3A7dGhpcy5kVmVyc2lvbj1uZXcgZS5ERVJJbnRlZ2VyKHtpbnQ6MX0pLHRoaXMuZE1lc3NhZ2VJbXByaW50PW51bGwsdGhpcy5kUG9saWN5PW51bGwsdGhpcy5kTm9uY2U9bnVsbCx0aGlzLmNlcnRSZXE9ITAsdGhpcy5zZXRNZXNzYWdlSW1wcmludD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIENyLmFzbjEudHNwLk1lc3NhZ2VJbXByaW50P3ZvaWQodGhpcy5kTWVzc2FnZUltcHJpbnQ9dCk6dm9pZChcIm9iamVjdFwiPT10eXBlb2YgdCYmKHRoaXMuZE1lc3NhZ2VJbXByaW50PW5ldyBuLk1lc3NhZ2VJbXByaW50KHQpKSl9LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuZE1lc3NhZ2VJbXByaW50KXRocm93XCJtZXNzYWdlSW1wcmludCBzaGFsbCBiZSBzcGVjaWZpZWRcIjt2YXIgdD1bdGhpcy5kVmVyc2lvbix0aGlzLmRNZXNzYWdlSW1wcmludF07bnVsbCE9dGhpcy5kUG9saWN5JiZ0LnB1c2godGhpcy5kUG9saWN5KSxudWxsIT10aGlzLmROb25jZSYmdC5wdXNoKHRoaXMuZE5vbmNlKSx0aGlzLmNlcnRSZXEmJnQucHVzaChuZXcgZS5ERVJCb29sZWFuKTt2YXIgbj1uZXcgZS5ERVJTZXF1ZW5jZSh7YXJyYXk6dH0pO3JldHVybiB0aGlzLmhUTFY9bi5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwib2JqZWN0XCI9PXR5cGVvZiB0Lm1pJiZ0aGlzLnNldE1lc3NhZ2VJbXByaW50KHQubWkpLFwib2JqZWN0XCI9PXR5cGVvZiB0LnBvbGljeSYmKHRoaXMuZFBvbGljeT1uZXcgZS5ERVJPYmplY3RJZGVudGlmaWVyKHQucG9saWN5KSksXCJvYmplY3RcIj09dHlwZW9mIHQubm9uY2UmJih0aGlzLmROb25jZT1uZXcgZS5ERVJJbnRlZ2VyKHQubm9uY2UpKSxcImJvb2xlYW5cIj09dHlwZW9mIHQuY2VydHJlcSYmKHRoaXMuY2VydFJlcT10LmNlcnRyZXEpKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS50c3AuVGltZVN0YW1wUmVxLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS50c3AuVFNUSW5mbz1mdW5jdGlvbih0KXtDci5hc24xLnRzcC5UU1RJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgZT1Dci5hc24xLG49Q3IuYXNuMS54NTA5LHI9Q3IuYXNuMS50c3A7aWYodGhpcy5kVmVyc2lvbj1uZXcgZS5ERVJJbnRlZ2VyKHtpbnQ6MX0pLHRoaXMuZFBvbGljeT1udWxsLHRoaXMuZE1lc3NhZ2VJbXByaW50PW51bGwsdGhpcy5kU2VyaWFsTnVtYmVyPW51bGwsdGhpcy5kR2VuVGltZT1udWxsLHRoaXMuZEFjY3VyYWN5PW51bGwsdGhpcy5kT3JkZXJpbmc9bnVsbCx0aGlzLmROb25jZT1udWxsLHRoaXMuZFRzYT1udWxsLHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciB0PVt0aGlzLmRWZXJzaW9uXTtpZihudWxsPT10aGlzLmRQb2xpY3kpdGhyb3dcInBvbGljeSBzaGFsbCBiZSBzcGVjaWZpZWQuXCI7aWYodC5wdXNoKHRoaXMuZFBvbGljeSksbnVsbD09dGhpcy5kTWVzc2FnZUltcHJpbnQpdGhyb3dcIm1lc3NhZ2VJbXByaW50IHNoYWxsIGJlIHNwZWNpZmllZC5cIjtpZih0LnB1c2godGhpcy5kTWVzc2FnZUltcHJpbnQpLG51bGw9PXRoaXMuZFNlcmlhbE51bWJlcil0aHJvd1wic2VyaWFsTnVtYmVyIHNoYWxsIGJlIHNwZWNpZmllZC5cIjtpZih0LnB1c2godGhpcy5kU2VyaWFsTnVtYmVyKSxudWxsPT10aGlzLmRHZW5UaW1lKXRocm93XCJnZW5UaW1lIHNoYWxsIGJlIHNwZWNpZmllZC5cIjt0LnB1c2godGhpcy5kR2VuVGltZSksbnVsbCE9dGhpcy5kQWNjdXJhY3kmJnQucHVzaCh0aGlzLmRBY2N1cmFjeSksbnVsbCE9dGhpcy5kT3JkZXJpbmcmJnQucHVzaCh0aGlzLmRPcmRlcmluZyksbnVsbCE9dGhpcy5kTm9uY2UmJnQucHVzaCh0aGlzLmROb25jZSksbnVsbCE9dGhpcy5kVHNhJiZ0LnB1c2godGhpcy5kVHNhKTt2YXIgbj1uZXcgZS5ERVJTZXF1ZW5jZSh7YXJyYXk6dH0pO3JldHVybiB0aGlzLmhUTFY9bi5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQucG9saWN5KXtpZighdC5wb2xpY3kubWF0Y2goL15bMC05Ll0rJC8pKXRocm93XCJwb2xpY3kgc2hhbGwgYmUgb2lkIGxpa2UgMC4xLjQuMTM0XCI7dGhpcy5kUG9saWN5PW5ldyBlLkRFUk9iamVjdElkZW50aWZpZXIoe29pZDp0LnBvbGljeX0pfVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lm1lc3NhZ2VJbXByaW50JiYodGhpcy5kTWVzc2FnZUltcHJpbnQ9bmV3IHIuTWVzc2FnZUltcHJpbnQodC5tZXNzYWdlSW1wcmludCkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnNlcmlhbE51bWJlciYmKHRoaXMuZFNlcmlhbE51bWJlcj1uZXcgZS5ERVJJbnRlZ2VyKHQuc2VyaWFsTnVtYmVyKSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZ2VuVGltZSYmKHRoaXMuZEdlblRpbWU9bmV3IGUuREVSR2VuZXJhbGl6ZWRUaW1lKHQuZ2VuVGltZSkpLFwidW5kZWZpbmRcIiE9dHlwZW9mIHQuYWNjdXJhY3kmJih0aGlzLmRBY2N1cmFjeT1uZXcgci5BY2N1cmFjeSh0LmFjY3VyYWN5KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQub3JkZXJpbmcmJjE9PXQub3JkZXJpbmcmJih0aGlzLmRPcmRlcmluZz1uZXcgZS5ERVJCb29sZWFuKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5ub25jZSYmKHRoaXMuZE5vbmNlPW5ldyBlLkRFUkludGVnZXIodC5ub25jZSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnRzYSYmKHRoaXMuZFRzYT1uZXcgbi5YNTAwTmFtZSh0LnRzYSkpfX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS50c3AuVFNUSW5mbyxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEudHNwLlRpbWVTdGFtcFJlc3A9ZnVuY3Rpb24odCl7Q3IuYXNuMS50c3AuVGltZVN0YW1wUmVzcC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMSxuPUNyLmFzbjEudHNwO3RoaXMuZFN0YXR1cz1udWxsLHRoaXMuZFRTVD1udWxsLHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuZFN0YXR1cyl0aHJvd1wic3RhdHVzIHNoYWxsIGJlIHNwZWNpZmllZFwiO3ZhciB0PVt0aGlzLmRTdGF0dXNdO251bGwhPXRoaXMuZFRTVCYmdC5wdXNoKHRoaXMuZFRTVCk7dmFyIG49bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5OnR9KTtyZXR1cm4gdGhpcy5oVExWPW4uZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcIm9iamVjdFwiPT10eXBlb2YgdC5zdGF0dXMmJih0aGlzLmRTdGF0dXM9bmV3IG4uUEtJU3RhdHVzSW5mbyh0LnN0YXR1cykpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnRzdCYmdC50c3QgaW5zdGFuY2VvZiBDci5hc24xLkFTTjFPYmplY3QmJih0aGlzLmRUU1Q9dC50c3QuZ2V0Q29udGVudEluZm8oKSkpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLnRzcC5UaW1lU3RhbXBSZXNwLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS50c3AuUEtJU3RhdHVzSW5mbz1mdW5jdGlvbih0KXtDci5hc24xLnRzcC5QS0lTdGF0dXNJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgZT1Dci5hc24xLG49Q3IuYXNuMS50c3A7dGhpcy5kU3RhdHVzPW51bGwsdGhpcy5kU3RhdHVzU3RyaW5nPW51bGwsdGhpcy5kRmFpbHVyZUluZm89bnVsbCx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLmRTdGF0dXMpdGhyb3dcInN0YXR1cyBzaGFsbCBiZSBzcGVjaWZpZWRcIjt2YXIgdD1bdGhpcy5kU3RhdHVzXTtudWxsIT10aGlzLmRTdGF0dXNTdHJpbmcmJnQucHVzaCh0aGlzLmRTdGF0dXNTdHJpbmcpLG51bGwhPXRoaXMuZEZhaWx1cmVJbmZvJiZ0LnB1c2godGhpcy5kRmFpbHVyZUluZm8pO3ZhciBuPW5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTp0fSk7cmV0dXJuIHRoaXMuaFRMVj1uLmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJvYmplY3RcIj09dHlwZW9mIHQuc3RhdHVzJiYodGhpcy5kU3RhdHVzPW5ldyBuLlBLSVN0YXR1cyh0LnN0YXR1cykpLFwib2JqZWN0XCI9PXR5cGVvZiB0LnN0YXRzdHImJih0aGlzLmRTdGF0dXNTdHJpbmc9bmV3IG4uUEtJRnJlZVRleHQoe2FycmF5OnQuc3RhdHN0cn0pKSxcIm9iamVjdFwiPT10eXBlb2YgdC5mYWlsaW5mbyYmKHRoaXMuZEZhaWx1cmVJbmZvPW5ldyBuLlBLSUZhaWx1cmVJbmZvKHQuZmFpbGluZm8pKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEudHNwLlBLSVN0YXR1c0luZm8sQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLnRzcC5QS0lTdGF0dXM9ZnVuY3Rpb24odCl7Q3IuYXNuMS50c3AuUEtJU3RhdHVzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgZT1Dci5hc24xLG49Q3IuYXNuMS50c3A7aWYodGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFRMVj10aGlzLmRTdGF0dXMuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQpaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQubmFtZSl7dmFyIHI9bi5QS0lTdGF0dXMudmFsdWVMaXN0O2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiByW3QubmFtZV0pdGhyb3dcIm5hbWUgdW5kZWZpbmVkOiBcIit0Lm5hbWU7dGhpcy5kU3RhdHVzPW5ldyBlLkRFUkludGVnZXIoe2ludDpyW3QubmFtZV19KX1lbHNlIHRoaXMuZFN0YXR1cz1uZXcgZS5ERVJJbnRlZ2VyKHQpfSxzci5sYW5nLmV4dGVuZChDci5hc24xLnRzcC5QS0lTdGF0dXMsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLnRzcC5QS0lTdGF0dXMudmFsdWVMaXN0PXtncmFudGVkOjAsZ3JhbnRlZFdpdGhNb2RzOjEscmVqZWN0aW9uOjIsd2FpdGluZzozLHJldm9jYXRpb25XYXJuaW5nOjQscmV2b2NhdGlvbk5vdGlmaWNhdGlvbjo1fSxDci5hc24xLnRzcC5QS0lGcmVlVGV4dD1mdW5jdGlvbih0KXtDci5hc24xLnRzcC5QS0lGcmVlVGV4dC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMTt0aGlzLnRleHRMaXN0PVtdLHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxuPTA7bjx0aGlzLnRleHRMaXN0Lmxlbmd0aDtuKyspdC5wdXNoKG5ldyBlLkRFUlVURjhTdHJpbmcoe3N0cjp0aGlzLnRleHRMaXN0W25dfSkpO3ZhciByPW5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTp0fSk7cmV0dXJuIHRoaXMuaFRMVj1yLmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFZ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdC5hcnJheSYmKHRoaXMudGV4dExpc3Q9dC5hcnJheSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEudHNwLlBLSUZyZWVUZXh0LENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS50c3AuUEtJRmFpbHVyZUluZm89ZnVuY3Rpb24odCl7Q3IuYXNuMS50c3AuUEtJRmFpbHVyZUluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBlPUNyLmFzbjEsbj1Dci5hc24xLnRzcDtpZih0aGlzLnZhbHVlPW51bGwsdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy52YWx1ZSl0aHJvd1widmFsdWUgc2hhbGwgYmUgc3BlY2lmaWVkXCI7dmFyIHQ9bmV3IE51bWJlcih0aGlzLnZhbHVlKS50b1N0cmluZygyKSxuPW5ldyBlLkRFUkJpdFN0cmluZztyZXR1cm4gbi5zZXRCeUJpbmFyeVN0cmluZyh0KSx0aGlzLmhUTFY9bi5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdClpZihcInN0cmluZ1wiPT10eXBlb2YgdC5uYW1lKXt2YXIgcj1uLlBLSUZhaWx1cmVJbmZvLnZhbHVlTGlzdDtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygclt0Lm5hbWVdKXRocm93XCJuYW1lIHVuZGVmaW5lZDogXCIrdC5uYW1lO3RoaXMudmFsdWU9clt0Lm5hbWVdfWVsc2VcIm51bWJlclwiPT10eXBlb2YgdC5pbnQmJih0aGlzLnZhbHVlPXQuaW50KX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS50c3AuUEtJRmFpbHVyZUluZm8sQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLnRzcC5QS0lGYWlsdXJlSW5mby52YWx1ZUxpc3Q9e2JhZEFsZzowLGJhZFJlcXVlc3Q6MixiYWREYXRhRm9ybWF0OjUsdGltZU5vdEF2YWlsYWJsZToxNCx1bmFjY2VwdGVkUG9saWN5OjE1LHVuYWNjZXB0ZWRFeHRlbnNpb246MTYsYWRkSW5mb05vdEF2YWlsYWJsZToxNyxzeXN0ZW1GYWlsdXJlOjI1fSxDci5hc24xLnRzcC5BYnN0cmFjdFRTQUFkYXB0ZXI9ZnVuY3Rpb24odCl7dGhpcy5nZXRUU1RIZXg9ZnVuY3Rpb24odCxlKXt0aHJvd1wibm90IGltcGxlbWVudGVkIHlldFwifX0sQ3IuYXNuMS50c3AuU2ltcGxlVFNBQWRhcHRlcj1mdW5jdGlvbih0KXtDci5hc24xLnRzcC5TaW1wbGVUU0FBZGFwdGVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLnBhcmFtcz1udWxsLHRoaXMuc2VyaWFsPTAsdGhpcy5nZXRUU1RIZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj1Dci5jcnlwdG8uVXRpbC5oYXNoSGV4KHQsZSk7dGhpcy5wYXJhbXMudHN0SW5mby5tZXNzYWdlSW1wcmludD17aGFzaEFsZzplLGhhc2hWYWx1ZTpufSx0aGlzLnBhcmFtcy50c3RJbmZvLnNlcmlhbE51bWJlcj17aW50OnRoaXMuc2VyaWFsKyt9O3ZhciByPU1hdGguZmxvb3IoMWU5Kk1hdGgucmFuZG9tKCkpO3RoaXMucGFyYW1zLnRzdEluZm8ubm9uY2U9e2ludDpyfTt2YXIgaT1Dci5hc24xLnRzcC5UU1BVdGlsLm5ld1RpbWVTdGFtcFRva2VuKHRoaXMucGFyYW1zKTtyZXR1cm4gaS5nZXRDb250ZW50SW5mb0VuY29kZWRIZXgoKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJih0aGlzLnBhcmFtcz10KX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS50c3AuU2ltcGxlVFNBQWRhcHRlcixDci5hc24xLnRzcC5BYnN0cmFjdFRTQUFkYXB0ZXIpLENyLmFzbjEudHNwLkZpeGVkVFNBQWRhcHRlcj1mdW5jdGlvbih0KXtDci5hc24xLnRzcC5GaXhlZFRTQUFkYXB0ZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMucGFyYW1zPW51bGwsdGhpcy5nZXRUU1RIZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj1Dci5jcnlwdG8uVXRpbC5oYXNoSGV4KHQsZSk7dGhpcy5wYXJhbXMudHN0SW5mby5tZXNzYWdlSW1wcmludD17aGFzaEFsZzplLGhhc2hWYWx1ZTpufTt2YXIgcj1Dci5hc24xLnRzcC5UU1BVdGlsLm5ld1RpbWVTdGFtcFRva2VuKHRoaXMucGFyYW1zKTtyZXR1cm4gci5nZXRDb250ZW50SW5mb0VuY29kZWRIZXgoKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJih0aGlzLnBhcmFtcz10KX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS50c3AuRml4ZWRUU0FBZGFwdGVyLENyLmFzbjEudHNwLkFic3RyYWN0VFNBQWRhcHRlciksQ3IuYXNuMS50c3AuVFNQVXRpbD1uZXcgZnVuY3Rpb24oKXt9LENyLmFzbjEudHNwLlRTUFV0aWwubmV3VGltZVN0YW1wVG9rZW49ZnVuY3Rpb24odCl7dmFyIGU9Q3IuYXNuMS5jbXMsbj1Dci5hc24xLnRzcCxyPW5ldyBlLlNpZ25lZERhdGEsaT1uZXcgbi5UU1RJbmZvKHQudHN0SW5mbykscz1pLmdldEVuY29kZWRIZXgoKTtpZihyLmRFbmNhcENvbnRlbnRJbmZvLnNldENvbnRlbnRWYWx1ZSh7aGV4OnN9KSxyLmRFbmNhcENvbnRlbnRJbmZvLnNldENvbnRlbnRUeXBlKFwidHN0aW5mb1wiKSxcIm9iamVjdFwiPT10eXBlb2YgdC5jZXJ0cylmb3IodmFyIG89MDtvPHQuY2VydHMubGVuZ3RoO28rKylyLmFkZENlcnRpZmljYXRlc0J5UEVNKHQuY2VydHNbb10pO3ZhciBhPXIuc2lnbmVySW5mb0xpc3RbMF07YS5zZXRTaWduZXJJZGVudGlmaWVyKHQuc2lnbmVyQ2VydCksYS5zZXRGb3JDb250ZW50QW5kSGFzaCh7c2RPYmo6cixlY2lPYmo6ci5kRW5jYXBDb250ZW50SW5mbyxoYXNoQWxnOnQuaGFzaEFsZ30pO3ZhciB1PW5ldyBlLlNpZ25pbmdDZXJ0aWZpY2F0ZSh7YXJyYXk6W3Quc2lnbmVyQ2VydF19KTtyZXR1cm4gYS5kU2lnbmVkQXR0cnMuYWRkKHUpLGEuc2lnbih0LnNpZ25lclBydktleSx0LnNpZ0FsZykscn0sQ3IuYXNuMS50c3AuVFNQVXRpbC5wYXJzZVRpbWVTdGFtcFJlcT1mdW5jdGlvbih0KXt2YXIgZT17fTtlLmNlcnRyZXE9ITE7dmFyIG49T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsMCk7aWYobi5sZW5ndGg8Mil0aHJvd1wiVGltZVN0YW1wUmVxIG11c3QgaGF2ZSBhdCBsZWFzdCAyIGl0ZW1zXCI7dmFyIHI9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxuWzFdKTtlLm1pPUNyLmFzbjEudHNwLlRTUFV0aWwucGFyc2VNZXNzYWdlSW1wcmludChyKTtmb3IodmFyIGk9MjtpPG4ubGVuZ3RoO2krKyl7dmFyIHM9bltpXSxvPXQuc3Vic3RyKHMsMik7aWYoXCIwNlwiPT1vKXt2YXIgYT1Pci5nZXRIZXhPZlZfQXRPYmoodCxzKTtlLnBvbGljeT1Pci5oZXh0b29pZHN0cihhKX1cIjAyXCI9PW8mJihlLm5vbmNlPU9yLmdldEhleE9mVl9BdE9iaih0LHMpKSxcIjAxXCI9PW8mJihlLmNlcnRyZXE9ITApfXJldHVybiBlfSxDci5hc24xLnRzcC5UU1BVdGlsLnBhcnNlTWVzc2FnZUltcHJpbnQ9ZnVuY3Rpb24odCl7dmFyIGU9e307aWYoXCIzMFwiIT10LnN1YnN0cigwLDIpKXRocm93XCJoZWFkIG9mIG1lc3NhZ2VJbXByaW50IGhleCBzaGFsbCBiZSAnMzAnXCI7dmFyIG49KE9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LDApLE9yLmdldERlY2VuZGFudEluZGV4QnlOdGhMaXN0KHQsMCxbMCwwXSkpLHI9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsbiksaT1Pci5oZXh0b29pZHN0cihyKSxzPUNyLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoaSk7aWYoXCJcIj09cyl0aHJvd1wiaGFzaEFsZyBuYW1lIHVuZGVmaW5lZDogXCIraTt2YXIgbz1zLGE9T3IuZ2V0RGVjZW5kYW50SW5kZXhCeU50aExpc3QodCwwLFsxXSk7cmV0dXJuIGUuaGFzaEFsZz1vLGUuaGFzaFZhbHVlPU9yLmdldEhleE9mVl9BdE9iaih0LGEpLGV9LC8qISBhc24xY2FkZXMtMS4wLjAuanMgKGMpIDIwMTMtMjAxNCBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuXHQgKi9cblwidW5kZWZpbmVkXCIhPXR5cGVvZiBDciYmQ3J8fChDcj17fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmFzbjEmJkNyLmFzbjF8fChDci5hc24xPXt9KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3IuYXNuMS5jYWRlcyYmQ3IuYXNuMS5jYWRlc3x8KENyLmFzbjEuY2FkZXM9e30pLENyLmFzbjEuY2FkZXMuU2lnbmF0dXJlUG9saWN5SWRlbnRpZmllcj1mdW5jdGlvbih0KXtDci5hc24xLmNhZGVzLlNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuYXR0clR5cGVPaWQ9XCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xNVwiO3ZhciBlPUNyLmFzbjEsbj1Dci5hc24xLmNhZGVzO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5vaWQmJlwib2JqZWN0XCI9PXR5cGVvZiB0Lmhhc2gpe3ZhciByPW5ldyBlLkRFUk9iamVjdElkZW50aWZpZXIoe29pZDp0Lm9pZH0pLGk9bmV3IG4uT3RoZXJIYXNoQWxnQW5kVmFsdWUodC5oYXNoKSxzPW5ldyBlLkRFUlNlcXVlbmNlKHthcnJheTpbcixpXX0pO3RoaXMudmFsdWVMaXN0PVtzXX19LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY2FkZXMuU2lnbmF0dXJlUG9saWN5SWRlbnRpZmllcixDci5hc24xLmNtcy5BdHRyaWJ1dGUpLENyLmFzbjEuY2FkZXMuT3RoZXJIYXNoQWxnQW5kVmFsdWU9ZnVuY3Rpb24odCl7Q3IuYXNuMS5jYWRlcy5PdGhlckhhc2hBbGdBbmRWYWx1ZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMSxuPUNyLmFzbjEueDUwOTt0aGlzLmRBbGc9bnVsbCx0aGlzLmRIYXNoPW51bGwsdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLmRBbGcsdGhpcy5kSGFzaF19KTtyZXR1cm4gdGhpcy5oVExWPXQuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0LmFsZyYmXCJzdHJpbmdcIj09dHlwZW9mIHQuaGFzaCYmKHRoaXMuZEFsZz1uZXcgbi5BbGdvcml0aG1JZGVudGlmaWVyKHtuYW1lOnQuYWxnfSksdGhpcy5kSGFzaD1uZXcgZS5ERVJPY3RldFN0cmluZyh7aGV4OnQuaGFzaH0pKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5jYWRlcy5PdGhlckhhc2hBbGdBbmRWYWx1ZSxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEuY2FkZXMuU2lnbmF0dXJlVGltZVN0YW1wPWZ1bmN0aW9uKHQpe0NyLmFzbjEuY2FkZXMuU2lnbmF0dXJlVGltZVN0YW1wLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmF0dHJUeXBlT2lkPVwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuMTRcIix0aGlzLnRzdEhleD1udWxsO3ZhciBlPUNyLmFzbjE7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnJlcylpZihcInN0cmluZ1wiPT10eXBlb2YgdC5yZXMmJnQucmVzLm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pKTtlbHNlIGlmKCEodC5yZXMgaW5zdGFuY2VvZiBDci5hc24xLkFTTjFPYmplY3QpKXRocm93XCJyZXMgcGFyYW0gc2hhbGwgYmUgQVNOMU9iamVjdCBvciBoZXggc3RyaW5nXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudHN0KWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0LnRzdCYmdC50c3QubWF0Y2goL15bMC05QS1GYS1mXSskLykpe3ZhciBuPW5ldyBlLkFTTjFPYmplY3Q7dGhpcy50c3RIZXg9dC50c3Qsbi5oVExWPXRoaXMudHN0SGV4LG4uZ2V0RW5jb2RlZEhleCgpLHRoaXMudmFsdWVMaXN0PVtuXX1lbHNlIGlmKCEodC50c3QgaW5zdGFuY2VvZiBDci5hc24xLkFTTjFPYmplY3QpKXRocm93XCJ0c3QgcGFyYW0gc2hhbGwgYmUgQVNOMU9iamVjdCBvciBoZXggc3RyaW5nXCJ9fSxzci5sYW5nLmV4dGVuZChDci5hc24xLmNhZGVzLlNpZ25hdHVyZVRpbWVTdGFtcCxDci5hc24xLmNtcy5BdHRyaWJ1dGUpLENyLmFzbjEuY2FkZXMuQ29tcGxldGVDZXJ0aWZpY2F0ZVJlZnM9ZnVuY3Rpb24odCl7Q3IuYXNuMS5jYWRlcy5Db21wbGV0ZUNlcnRpZmljYXRlUmVmcy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5hdHRyVHlwZU9pZD1cIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjIxXCI7dmFyIGU9KENyLmFzbjEsQ3IuYXNuMS5jYWRlcyk7dGhpcy5zZXRCeUFycmF5PWZ1bmN0aW9uKHQpe3RoaXMudmFsdWVMaXN0PVtdO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj1uZXcgZS5PdGhlckNlcnRJRCh0W25dKTt0aGlzLnZhbHVlTGlzdC5wdXNoKHIpfX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgmJnRoaXMuc2V0QnlBcnJheSh0KX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5jYWRlcy5Db21wbGV0ZUNlcnRpZmljYXRlUmVmcyxDci5hc24xLmNtcy5BdHRyaWJ1dGUpLENyLmFzbjEuY2FkZXMuT3RoZXJDZXJ0SUQ9ZnVuY3Rpb24odCl7Q3IuYXNuMS5jYWRlcy5PdGhlckNlcnRJRC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMSxuPUNyLmFzbjEuY21zLHI9Q3IuYXNuMS5jYWRlczt0aGlzLmhhc0lzc3VlclNlcmlhbD0hMCx0aGlzLmRPdGhlckNlcnRIYXNoPW51bGwsdGhpcy5kSXNzdWVyU2VyaWFsPW51bGwsdGhpcy5zZXRCeUNlcnRQRU09ZnVuY3Rpb24odCl7dGhpcy5kT3RoZXJDZXJ0SGFzaD1uZXcgci5PdGhlckhhc2godCksdGhpcy5oYXNJc3N1ZXJTZXJpYWwmJih0aGlzLmRJc3N1ZXJTZXJpYWw9bmV3IG4uSXNzdWVyQW5kU2VyaWFsTnVtYmVyKHQpKX0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5oVExWKXJldHVybiB0aGlzLmhUTFY7aWYobnVsbD09dGhpcy5kT3RoZXJDZXJ0SGFzaCl0aHJvd1wib3RoZXJDZXJ0SGFzaCBub3Qgc2V0XCI7dmFyIHQ9W3RoaXMuZE90aGVyQ2VydEhhc2hdO251bGwhPXRoaXMuZElzc3VlclNlcmlhbCYmdC5wdXNoKHRoaXMuZElzc3VlclNlcmlhbCk7dmFyIG49bmV3IGUuREVSU2VxdWVuY2Uoe2FycmF5OnR9KTtyZXR1cm4gdGhpcy5oVExWPW4uZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5pbmRleE9mKFwiLS0tLS1CRUdJTiBcIikhPS0xJiZ0aGlzLnNldEJ5Q2VydFBFTSh0KSxcIm9iamVjdFwiPT10eXBlb2YgdCYmKHQuaGFzaXM9PT0hMSYmKHRoaXMuaGFzSXNzdWVyU2VyaWFsPSExKSxcInN0cmluZ1wiPT10eXBlb2YgdC5jZXJ0JiZ0aGlzLnNldEJ5Q2VydFBFTSh0LmNlcnQpKSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY2FkZXMuT3RoZXJDZXJ0SUQsQ3IuYXNuMS5BU04xT2JqZWN0KSxDci5hc24xLmNhZGVzLk90aGVySGFzaD1mdW5jdGlvbih0KXtDci5hc24xLmNhZGVzLk90aGVySGFzaC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9Q3IuYXNuMSxuPUNyLmFzbjEuY2FkZXM7aWYodGhpcy5hbGc9XCJzaGEyNTZcIix0aGlzLmRPdGhlckhhc2g9bnVsbCx0aGlzLnNldEJ5Q2VydFBFTT1mdW5jdGlvbih0KXtpZih0LmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKT09LTEpdGhyb3dcImNlcnRQRU0gbm90IHRvIHNlZW0gUEVNIGZvcm1hdFwiO3ZhciBlPSRuLnBlbVRvSGV4KHQpLHI9Q3IuY3J5cHRvLlV0aWwuaGFzaEhleChlLHRoaXMuYWxnKTt0aGlzLmRPdGhlckhhc2g9bmV3IG4uT3RoZXJIYXNoQWxnQW5kVmFsdWUoe2FsZzp0aGlzLmFsZyxoYXNoOnJ9KX0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5kT3RoZXJIYXNoKXRocm93XCJPdGhlckhhc2ggbm90IHNldFwiO3JldHVybiB0aGlzLmRPdGhlckhhc2guZ2V0RW5jb2RlZEhleCgpfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdClpZihcInN0cmluZ1wiPT10eXBlb2YgdClpZih0LmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKSE9LTEpdGhpcy5zZXRCeUNlcnRQRU0odCk7ZWxzZXtpZighdC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl0aHJvd1widW5zdXBwb3J0ZWQgc3RyaW5nIHZhbHVlIGZvciBwYXJhbXNcIjt0aGlzLmRPdGhlckhhc2g9bmV3IGUuREVST2N0ZXRTdHJpbmcoe2hleDp0fSl9ZWxzZVwib2JqZWN0XCI9PXR5cGVvZiB0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQuY2VydD8oXCJzdHJpbmdcIj09dHlwZW9mIHQuYWxnJiYodGhpcy5hbGc9dC5hbGcpLHRoaXMuc2V0QnlDZXJ0UEVNKHQuY2VydCkpOnRoaXMuZE90aGVySGFzaD1uZXcgbi5PdGhlckhhc2hBbGdBbmRWYWx1ZSh0KSl9LHNyLmxhbmcuZXh0ZW5kKENyLmFzbjEuY2FkZXMuT3RoZXJIYXNoLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5jYWRlcy5DQWRFU1V0aWw9bmV3IGZ1bmN0aW9uKCl7fSxDci5hc24xLmNhZGVzLkNBZEVTVXRpbC5hZGRTaWdUUz1mdW5jdGlvbih0LGUsbil7fSxDci5hc24xLmNhZGVzLkNBZEVTVXRpbC5wYXJzZVNpZ25lZERhdGFGb3JBZGRpbmdVbnNpZ25lZD1mdW5jdGlvbih0KXt2YXIgZT1Dci5hc24xLG49Q3IuYXNuMS5jbXMscj1Dci5hc24xLmNhZGVzLkNBZEVTVXRpbCxpPXt9O2lmKFwiMDYwOTJhODY0ODg2ZjcwZDAxMDcwMlwiIT1Pci5nZXREZWNlbmRhbnRIZXhUTFZCeU50aExpc3QodCwwLFswXSkpdGhyb3dcImhleCBpcyBub3QgQ01TIFNpZ25lZERhdGFcIjt2YXIgcz1Pci5nZXREZWNlbmRhbnRJbmRleEJ5TnRoTGlzdCh0LDAsWzEsMF0pLG89T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQscyk7aWYoby5sZW5ndGg8NCl0aHJvd1wibnVtIG9mIFNpZ25lZERhdGEgZWxlbSBzaGFsbCBiZSA0IGF0IGxlYXN0XCI7dmFyIGE9by5zaGlmdCgpO2kudmVyc2lvbj1Pci5nZXRIZXhPZlRMVl9BdE9iaih0LGEpO3ZhciB1PW8uc2hpZnQoKTtpLmFsZ3M9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCx1KTt2YXIgaD1vLnNoaWZ0KCk7aS5lbmNhcGNvbnRlbnQ9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxoKSxpLmNlcnRzPW51bGwsaS5yZXZzPW51bGwsaS5zaT1bXTt2YXIgYz1vLnNoaWZ0KCk7XCJhMFwiPT10LnN1YnN0cihjLDIpJiYoaS5jZXJ0cz1Pci5nZXRIZXhPZlRMVl9BdE9iaih0LGMpLGM9by5zaGlmdCgpKSxcImExXCI9PXQuc3Vic3RyKGMsMikmJihpLnJldnM9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxjKSxjPW8uc2hpZnQoKSk7dmFyIGY9YztpZihcIjMxXCIhPXQuc3Vic3RyKGYsMikpdGhyb3dcIkNhbid0IGZpbmQgc2lnbmVySW5mb3NcIjtmb3IodmFyIGw9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsZiksZD0wO2Q8bC5sZW5ndGg7ZCsrKXt2YXIgZz1sW2RdLHA9ci5wYXJzZVNpZ25lckluZm9Gb3JBZGRpbmdVbnNpZ25lZCh0LGcsZCk7aS5zaVtkXT1wfXZhciB5PW51bGw7aS5vYmo9bmV3IG4uU2lnbmVkRGF0YSx5PW5ldyBlLkFTTjFPYmplY3QseS5oVExWPWkudmVyc2lvbixpLm9iai5kQ01TVmVyc2lvbj15LHk9bmV3IGUuQVNOMU9iamVjdCx5LmhUTFY9aS5hbGdzLGkub2JqLmREaWdlc3RBbGdzPXkseT1uZXcgZS5BU04xT2JqZWN0LHkuaFRMVj1pLmVuY2FwY29udGVudCxpLm9iai5kRW5jYXBDb250ZW50SW5mbz15LHk9bmV3IGUuQVNOMU9iamVjdCx5LmhUTFY9aS5jZXJ0cyxpLm9iai5kQ2VydHM9eSxpLm9iai5zaWduZXJJbmZvTGlzdD1bXTtmb3IodmFyIGQ9MDtkPGkuc2kubGVuZ3RoO2QrKylpLm9iai5zaWduZXJJbmZvTGlzdC5wdXNoKGkuc2lbZF0ub2JqKTtyZXR1cm4gaX0sQ3IuYXNuMS5jYWRlcy5DQWRFU1V0aWwucGFyc2VTaWduZXJJbmZvRm9yQWRkaW5nVW5zaWduZWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPUNyLmFzbjEsaT1Dci5hc24xLmNtcyxzPXt9LG89T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsZSk7aWYoNiE9by5sZW5ndGgpdGhyb3dcIm5vdCBzdXBwb3J0ZWQgaXRlbXMgZm9yIFNpZ25lckluZm8gKCE9NilcIjt2YXIgYT1vLnNoaWZ0KCk7cy52ZXJzaW9uPU9yLmdldEhleE9mVExWX0F0T2JqKHQsYSk7dmFyIHU9by5zaGlmdCgpO3Muc2k9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCx1KTt2YXIgaD1vLnNoaWZ0KCk7cy5kaWdhbGc9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxoKTt2YXIgYz1vLnNoaWZ0KCk7cy5zYXR0cnM9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxjKTt2YXIgZj1vLnNoaWZ0KCk7cy5zaWdhbGc9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxmKTt2YXIgbD1vLnNoaWZ0KCk7cy5zaWc9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxsKSxzLnNpZ3ZhbD1Pci5nZXRIZXhPZlZfQXRPYmoodCxsKTt2YXIgZD1udWxsO3JldHVybiBzLm9iaj1uZXcgaS5TaWduZXJJbmZvLGQ9bmV3IHIuQVNOMU9iamVjdCxkLmhUTFY9cy52ZXJzaW9uLHMub2JqLmRDTVNWZXJzaW9uPWQsZD1uZXcgci5BU04xT2JqZWN0LGQuaFRMVj1zLnNpLHMub2JqLmRTaWduZXJJZGVudGlmaWVyPWQsZD1uZXcgci5BU04xT2JqZWN0LGQuaFRMVj1zLmRpZ2FsZyxzLm9iai5kRGlnZXN0QWxnb3JpdGhtPWQsZD1uZXcgci5BU04xT2JqZWN0LGQuaFRMVj1zLnNhdHRycyxzLm9iai5kU2lnbmVkQXR0cnM9ZCxkPW5ldyByLkFTTjFPYmplY3QsZC5oVExWPXMuc2lnYWxnLHMub2JqLmRTaWdBbGc9ZCxkPW5ldyByLkFTTjFPYmplY3QsZC5oVExWPXMuc2lnLHMub2JqLmRTaWc9ZCxzLm9iai5kVW5zaWduZWRBdHRycz1uZXcgaS5BdHRyaWJ1dGVMaXN0LHN9LC8qISBhc24xY3NyLTEuMC4wLmpzIChjKSAyMDE1IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG5cdCAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmFzbjEuY3NyJiZDci5hc24xLmNzcnx8KENyLmFzbjEuY3NyPXt9KSxDci5hc24xLmNzci5DZXJ0aWZpY2F0aW9uUmVxdWVzdD1mdW5jdGlvbih0KXtDci5hc24xLmNzci5DZXJ0aWZpY2F0aW9uUmVxdWVzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5zaWduPWZ1bmN0aW9uKHQsZSl7bnVsbD09dGhpcy5wcnZLZXkmJih0aGlzLnBydktleT1lKSx0aGlzLmFzbjFTaWduYXR1cmVBbGc9bmV3IENyLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKHtuYW1lOnR9KSxzaWc9bmV3IENyLmNyeXB0by5TaWduYXR1cmUoe2FsZzp0fSksc2lnLmluaXRTaWduKHRoaXMucHJ2S2V5KSxzaWcudXBkYXRlSGV4KHRoaXMuYXNuMUNTUkluZm8uZ2V0RW5jb2RlZEhleCgpKSx0aGlzLmhleFNpZz1zaWcuc2lnbigpLHRoaXMuYXNuMVNpZz1uZXcgQ3IuYXNuMS5ERVJCaXRTdHJpbmcoe2hleDpcIjAwXCIrdGhpcy5oZXhTaWd9KTt2YXIgbj1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W3RoaXMuYXNuMUNTUkluZm8sdGhpcy5hc24xU2lnbmF0dXJlQWxnLHRoaXMuYXNuMVNpZ119KTt0aGlzLmhUTFY9bi5nZXRFbmNvZGVkSGV4KCksdGhpcy5pc01vZGlmaWVkPSExfSx0aGlzLmdldFBFTVN0cmluZz1mdW5jdGlvbigpe3ZhciB0PUNyLmFzbjEuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleCh0aGlzLmdldEVuY29kZWRIZXgoKSxcIkNFUlRJRklDQVRFIFJFUVVFU1RcIik7cmV0dXJuIHR9LHRoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKDA9PXRoaXMuaXNNb2RpZmllZCYmbnVsbCE9dGhpcy5oVExWKXJldHVybiB0aGlzLmhUTFY7dGhyb3dcIm5vdCBzaWduZWQgeWV0XCJ9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5jc3JpbmZvJiYodGhpcy5hc24xQ1NSSW5mbz10LmNzcmluZm8pfSxzci5sYW5nLmV4dGVuZChDci5hc24xLmNzci5DZXJ0aWZpY2F0aW9uUmVxdWVzdCxDci5hc24xLkFTTjFPYmplY3QpLENyLmFzbjEuY3NyLkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbz1mdW5jdGlvbih0KXtDci5hc24xLmNzci5DZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuX2luaXRpYWxpemU9ZnVuY3Rpb24oKXt0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXksdGhpcy5hc24xVmVyc2lvbj1uZXcgQ3IuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6MH0pLHRoaXMuYXNuMVN1YmplY3Q9bnVsbCx0aGlzLmFzbjFTdWJqUEtleT1udWxsLHRoaXMuZXh0ZW5zaW9uc0FycmF5PW5ldyBBcnJheX0sdGhpcy5zZXRTdWJqZWN0QnlQYXJhbT1mdW5jdGlvbih0KXt0aGlzLmFzbjFTdWJqZWN0PW5ldyBDci5hc24xLng1MDkuWDUwME5hbWUodCl9LHRoaXMuc2V0U3ViamVjdFB1YmxpY0tleUJ5R2V0S2V5PWZ1bmN0aW9uKHQpe3ZhciBlPUhyLmdldEtleSh0KTt0aGlzLmFzbjFTdWJqUEtleT1uZXcgQ3IuYXNuMS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvKGUpfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXksdGhpcy5hc24xQXJyYXkucHVzaCh0aGlzLmFzbjFWZXJzaW9uKSx0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMVN1YmplY3QpLHRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xU3VialBLZXkpO3ZhciB0PW5ldyBDci5hc24xLkRFUlNlcXVlbmNlKHthcnJheTp0aGlzLmV4dGVuc2lvbnNBcnJheX0pLGU9bmV3IENyLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDohMSx0YWc6XCJhMFwiLG9iajp0fSk7dGhpcy5hc24xQXJyYXkucHVzaChlKTt2YXIgbj1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dGhpcy5hc24xQXJyYXl9KTtyZXR1cm4gdGhpcy5oVExWPW4uZ2V0RW5jb2RlZEhleCgpLHRoaXMuaXNNb2RpZmllZD0hMSx0aGlzLmhUTFZ9LHRoaXMuX2luaXRpYWxpemUoKX0sc3IubGFuZy5leHRlbmQoQ3IuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvLENyLmFzbjEuQVNOMU9iamVjdCksQ3IuYXNuMS5jc3IuQ1NSVXRpbD1uZXcgZnVuY3Rpb24oKXt9LENyLmFzbjEuY3NyLkNTUlV0aWwubmV3Q1NSUEVNPWZ1bmN0aW9uKHQpe3ZhciBlPUNyLmFzbjEuY3NyO2lmKHZvaWQgMD09PXQuc3ViamVjdCl0aHJvd1wicGFyYW1ldGVyIHN1YmplY3QgdW5kZWZpbmVkXCI7aWYodm9pZCAwPT09dC5zYmpwdWJrZXkpdGhyb3dcInBhcmFtZXRlciBzYmpwdWJrZXkgdW5kZWZpbmVkXCI7aWYodm9pZCAwPT09dC5zaWdhbGcpdGhyb3dcInBhcmFtZXRlciBzaWdhbGcgdW5kZWZpbmVkXCI7aWYodm9pZCAwPT09dC5zYmpwcnZrZXkpdGhyb3dcInBhcmFtZXRlciBzYmpwdWJrZXkgdW5kZWZpbmVkXCI7dmFyIG49bmV3IGUuQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvO24uc2V0U3ViamVjdEJ5UGFyYW0odC5zdWJqZWN0KSxuLnNldFN1YmplY3RQdWJsaWNLZXlCeUdldEtleSh0LnNianB1YmtleSk7dmFyIHI9bmV3IGUuQ2VydGlmaWNhdGlvblJlcXVlc3Qoe2NzcmluZm86bn0pLGk9SHIuZ2V0S2V5KHQuc2JqcHJ2a2V5KTtyLnNpZ24odC5zaWdhbGcsaSk7dmFyIHM9ci5nZXRQRU1TdHJpbmcoKTtyZXR1cm4gc307LyohIGJhc2U2NHgtMS4xLjcgKGMpIDIwMTItMjAxNiBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuXHQgKi9cbnZhciBDcjtcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3ImJkNyfHwoQ3I9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5sYW5nJiZDci5sYW5nfHwoQ3IubGFuZz17fSksQ3IubGFuZy5TdHJpbmc9ZnVuY3Rpb24oKXt9O3ZhciBUcixEcjtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyhUcj1mdW5jdGlvbihlKXtyZXR1cm4gbG4obmV3IHQoZSxcInV0ZjhcIikudG9TdHJpbmcoXCJiYXNlNjRcIikpfSxEcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoZG4oZSksXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGY4XCIpfSk6KFRyPWZ1bmN0aW9uKHQpe3JldHVybiBnbihfbihBbih0KSkpfSxEcj1mdW5jdGlvbih0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHhuKHBuKHQpKSl9KSxDci5sYW5nLlN0cmluZy5pc0ludGVnZXI9ZnVuY3Rpb24odCl7cmV0dXJuISF0Lm1hdGNoKC9eWzAtOV0rJC8pfHwhIXQubWF0Y2goL14tWzAtOV0rJC8pfSxDci5sYW5nLlN0cmluZy5pc0hleD1mdW5jdGlvbih0KXtyZXR1cm4hKHQubGVuZ3RoJTIhPTB8fCF0Lm1hdGNoKC9eWzAtOWEtZl0rJC8pJiYhdC5tYXRjaCgvXlswLTlBLUZdKyQvKSl9LENyLmxhbmcuU3RyaW5nLmlzQmFzZTY0PWZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZSgvXFxzKy9nLFwiXCIpLCEoIXQubWF0Y2goL15bMC05QS1aYS16K1xcL10rPXswLDN9JC8pfHx0Lmxlbmd0aCU0IT0wKX0sQ3IubGFuZy5TdHJpbmcuaXNCYXNlNjRVUkw9ZnVuY3Rpb24odCl7cmV0dXJuIXQubWF0Y2goL1srXFwvPV0vKSYmKHQ9ZG4odCksQ3IubGFuZy5TdHJpbmcuaXNCYXNlNjQodCkpfSxDci5sYW5nLlN0cmluZy5pc0ludGVnZXJBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gdD10LnJlcGxhY2UoL1xccysvZyxcIlwiKSwhIXQubWF0Y2goL15cXFtbMC05LF0rXFxdJC8pfTt2YXIgUnI9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aDt0Lmxlbmd0aD5lLmxlbmd0aCYmKG49ZS5sZW5ndGgpO2Zvcih2YXIgcj0wO3I8bjtyKyspaWYodC5jaGFyQ29kZUF0KHIpIT1lLmNoYXJDb2RlQXQocikpcmV0dXJuIHI7cmV0dXJuIHQubGVuZ3RoIT1lLmxlbmd0aD9uOi0xfTsvKiEgY3J5cHRvLTEuMS44LmpzIChjKSAyMDEzLTIwMTYgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2Vcblx0ICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgQ3ImJkNyfHwoQ3I9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5jcnlwdG8mJkNyLmNyeXB0b3x8KENyLmNyeXB0bz17fSksQ3IuY3J5cHRvLlV0aWw9bmV3IGZ1bmN0aW9uKCl7dGhpcy5ESUdFU1RJTkZPSEVBRD17c2hhMTpcIjMwMjEzMDA5MDYwNTJiMGUwMzAyMWEwNTAwMDQxNFwiLHNoYTIyNDpcIjMwMmQzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwNDA1MDAwNDFjXCIsc2hhMjU2OlwiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjBcIixzaGEzODQ6XCIzMDQxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDIwNTAwMDQzMFwiLHNoYTUxMjpcIjMwNTEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMzA1MDAwNDQwXCIsbWQyOlwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwMjA1MDAwNDEwXCIsbWQ1OlwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIscmlwZW1kMTYwOlwiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0XCJ9LHRoaXMuREVGQVVMVFBST1ZJREVSPXttZDU6XCJjcnlwdG9qc1wiLHNoYTE6XCJjcnlwdG9qc1wiLHNoYTIyNDpcImNyeXB0b2pzXCIsc2hhMjU2OlwiY3J5cHRvanNcIixzaGEzODQ6XCJjcnlwdG9qc1wiLHNoYTUxMjpcImNyeXB0b2pzXCIscmlwZW1kMTYwOlwiY3J5cHRvanNcIixobWFjbWQ1OlwiY3J5cHRvanNcIixobWFjc2hhMTpcImNyeXB0b2pzXCIsaG1hY3NoYTIyNDpcImNyeXB0b2pzXCIsaG1hY3NoYTI1NjpcImNyeXB0b2pzXCIsaG1hY3NoYTM4NDpcImNyeXB0b2pzXCIsaG1hY3NoYTUxMjpcImNyeXB0b2pzXCIsaG1hY3JpcGVtZDE2MDpcImNyeXB0b2pzXCIsTUQ1d2l0aFJTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMXdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTIyNHdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTI1NndpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTM4NHdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTUxMndpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFJJUEVNRDE2MHdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLE1ENXdpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMXdpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjI0d2l0aEVDRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyNTZ3aXRoRUNEU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTM4NHdpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBNTEyd2l0aEVDRFNBOlwiY3J5cHRvanMvanNyc2FcIixSSVBFTUQxNjB3aXRoRUNEU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTF3aXRoRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyMjR3aXRoRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyNTZ3aXRoRFNBOlwiY3J5cHRvanMvanNyc2FcIixNRDV3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMXdpdGhSU0FhbmRNR0YxOlwiY3J5cHRvanMvanNyc2FcIixTSEEyMjR3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjU2d2l0aFJTQWFuZE1HRjE6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTM4NHdpdGhSU0FhbmRNR0YxOlwiY3J5cHRvanMvanNyc2FcIixTSEE1MTJ3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsUklQRU1EMTYwd2l0aFJTQWFuZE1HRjE6XCJjcnlwdG9qcy9qc3JzYVwifSx0aGlzLkNSWVBUT0pTTUVTU0FHRURJR0VTVE5BTUU9e21kNTpvci5hbGdvLk1ENSxzaGExOm9yLmFsZ28uU0hBMSxzaGEyMjQ6b3IuYWxnby5TSEEyMjQsc2hhMjU2Om9yLmFsZ28uU0hBMjU2LHNoYTM4NDpvci5hbGdvLlNIQTM4NCxzaGE1MTI6b3IuYWxnby5TSEE1MTIscmlwZW1kMTYwOm9yLmFsZ28uUklQRU1EMTYwfSx0aGlzLmdldERpZ2VzdEluZm9IZXg9ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5ESUdFU1RJTkZPSEVBRFtlXSl0aHJvd1wiYWxnIG5vdCBzdXBwb3J0ZWQgaW4gVXRpbC5ESUdFU1RJTkZPSEVBRDogXCIrZTtyZXR1cm4gdGhpcy5ESUdFU1RJTkZPSEVBRFtlXSt0fSx0aGlzLmdldFBhZGRlZERpZ2VzdEluZm9IZXg9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZ2V0RGlnZXN0SW5mb0hleCh0LGUpLGk9bi80O2lmKHIubGVuZ3RoKzIyPmkpdGhyb3dcImtleSBpcyB0b28gc2hvcnQgZm9yIFNpZ0FsZzoga2V5bGVuPVwiK24rXCIsXCIrZTtmb3IodmFyIHM9XCIwMDAxXCIsbz1cIjAwXCIrcixhPVwiXCIsdT1pLXMubGVuZ3RoLW8ubGVuZ3RoLGg9MDtoPHU7aCs9MilhKz1cImZmXCI7dmFyIGM9cythK287cmV0dXJuIGN9LHRoaXMuaGFzaFN0cmluZz1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBDci5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOmV9KTtyZXR1cm4gbi5kaWdlc3RTdHJpbmcodCl9LHRoaXMuaGFzaEhleD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBDci5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOmV9KTtyZXR1cm4gbi5kaWdlc3RIZXgodCl9LHRoaXMuc2hhMT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3IuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpcInNoYTFcIixwcm92OlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmRpZ2VzdFN0cmluZyh0KX0sdGhpcy5zaGEyNTY9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJzaGEyNTZcIixwcm92OlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmRpZ2VzdFN0cmluZyh0KX0sdGhpcy5zaGEyNTZIZXg9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJzaGEyNTZcIixwcm92OlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmRpZ2VzdEhleCh0KX0sdGhpcy5zaGE1MTI9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJzaGE1MTJcIixwcm92OlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmRpZ2VzdFN0cmluZyh0KX0sdGhpcy5zaGE1MTJIZXg9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJzaGE1MTJcIixwcm92OlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmRpZ2VzdEhleCh0KX0sdGhpcy5tZDU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJtZDVcIixwcm92OlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmRpZ2VzdFN0cmluZyh0KX0sdGhpcy5yaXBlbWQxNjA9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJyaXBlbWQxNjBcIixwcm92OlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmRpZ2VzdFN0cmluZyh0KX0sdGhpcy5nZXRDcnlwdG9KU01EQnlOYW1lPWZ1bmN0aW9uKHQpe319LENyLmNyeXB0by5NZXNzYWdlRGlnZXN0PWZ1bmN0aW9uKHQpe3RoaXMuc2V0QWxnQW5kUHJvdmlkZXI9ZnVuY3Rpb24odCxlKXtpZihudWxsIT10JiZ2b2lkIDA9PT1lJiYoZT1Dci5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdF0pLFwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZih0KSE9LTEmJlwiY3J5cHRvanNcIj09ZSl7dHJ5e3RoaXMubWQ9Q3IuY3J5cHRvLlV0aWwuQ1JZUFRPSlNNRVNTQUdFRElHRVNUTkFNRVt0XS5jcmVhdGUoKX1jYXRjaChlKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK3QrXCIvXCIrZX10aGlzLnVwZGF0ZVN0cmluZz1mdW5jdGlvbih0KXt0aGlzLm1kLnVwZGF0ZSh0KX0sdGhpcy51cGRhdGVIZXg9ZnVuY3Rpb24odCl7dmFyIGU9b3IuZW5jLkhleC5wYXJzZSh0KTt0aGlzLm1kLnVwZGF0ZShlKX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1kLmZpbmFsaXplKCk7cmV0dXJuIHQudG9TdHJpbmcob3IuZW5jLkhleCl9LHRoaXMuZGlnZXN0U3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0ZVN0cmluZyh0KSx0aGlzLmRpZ2VzdCgpfSx0aGlzLmRpZ2VzdEhleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVIZXgodCksdGhpcy5kaWdlc3QoKX19aWYoXCI6c2hhMjU2OlwiLmluZGV4T2YodCkhPS0xJiZcInNqY2xcIj09ZSl7dHJ5e3RoaXMubWQ9bmV3IHNqY2wuaGFzaC5zaGEyNTZ9Y2F0Y2goZSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIit0K1wiL1wiK2V9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhpcy5tZC51cGRhdGUodCl9LHRoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXNqY2wuY29kZWMuaGV4LnRvQml0cyh0KTt0aGlzLm1kLnVwZGF0ZShlKX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1kLmZpbmFsaXplKCk7cmV0dXJuIHNqY2wuY29kZWMuaGV4LmZyb21CaXRzKHQpfSx0aGlzLmRpZ2VzdFN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVTdHJpbmcodCksdGhpcy5kaWdlc3QoKX0sdGhpcy5kaWdlc3RIZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlSGV4KHQpLHRoaXMuZGlnZXN0KCl9fX0sdGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnTmFtZStcIi9cIit0aGlzLnByb3ZOYW1lfSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdOYW1lK1wiL1wiK3RoaXMucHJvdk5hbWV9LHRoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dGhyb3dcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnTmFtZStcIi9cIit0aGlzLnByb3ZOYW1lfSx0aGlzLmRpZ2VzdFN0cmluZz1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdOYW1lK1wiL1wiK3RoaXMucHJvdk5hbWV9LHRoaXMuZGlnZXN0SGV4PWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ05hbWUrXCIvXCIrdGhpcy5wcm92TmFtZX0sdm9pZCAwIT09dCYmdm9pZCAwIT09dC5hbGcmJih0aGlzLmFsZ05hbWU9dC5hbGcsdm9pZCAwPT09dC5wcm92JiYodGhpcy5wcm92TmFtZT1Dci5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdGhpcy5hbGdOYW1lXSksdGhpcy5zZXRBbGdBbmRQcm92aWRlcih0aGlzLmFsZ05hbWUsdGhpcy5wcm92TmFtZSkpfSxDci5jcnlwdG8uTWFjPWZ1bmN0aW9uKHQpe3RoaXMuc2V0QWxnQW5kUHJvdmlkZXI9ZnVuY3Rpb24odCxlKXtpZih0PXQudG9Mb3dlckNhc2UoKSxudWxsPT10JiYodD1cImhtYWNzaGExXCIpLHQ9dC50b0xvd2VyQ2FzZSgpLFwiaG1hY1wiIT10LnN1YnN0cigwLDQpKXRocm93XCJzZXRBbGdBbmRQcm92aWRlciB1bnN1cHBvcnRlZCBITUFDIGFsZzogXCIrdDt2b2lkIDA9PT1lJiYoZT1Dci5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdF0pLHRoaXMuYWxnUHJvdj10K1wiL1wiK2U7dmFyIG49dC5zdWJzdHIoNCk7aWYoXCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKG4pIT0tMSYmXCJjcnlwdG9qc1wiPT1lKXt0cnl7dmFyIHI9Q3IuY3J5cHRvLlV0aWwuQ1JZUFRPSlNNRVNTQUdFRElHRVNUTkFNRVtuXTt0aGlzLm1hYz1vci5hbGdvLkhNQUMuY3JlYXRlKHIsdGhpcy5wYXNzKX1jYXRjaCh0KXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgaGFzaEFsZz1cIituK1wiL1wiK3R9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhpcy5tYWMudXBkYXRlKHQpfSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbih0KXt2YXIgZT1vci5lbmMuSGV4LnBhcnNlKHQpO3RoaXMubWFjLnVwZGF0ZShlKX0sdGhpcy5kb0ZpbmFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tYWMuZmluYWxpemUoKTtyZXR1cm4gdC50b1N0cmluZyhvci5lbmMuSGV4KX0sdGhpcy5kb0ZpbmFsU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0ZVN0cmluZyh0KSx0aGlzLmRvRmluYWwoKX0sdGhpcy5kb0ZpbmFsSGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0ZUhleCh0KSx0aGlzLmRvRmluYWwoKX19fSx0aGlzLnVwZGF0ZVN0cmluZz1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdQcm92fSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdQcm92fSx0aGlzLmRvRmluYWw9ZnVuY3Rpb24oKXt0aHJvd1wiZGlnZXN0KCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdQcm92fSx0aGlzLmRvRmluYWxTdHJpbmc9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnUHJvdn0sdGhpcy5kb0ZpbmFsSGV4PWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ1Byb3Z9LHRoaXMuc2V0UGFzc3dvcmQ9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBlPXQ7cmV0dXJuIHQubGVuZ3RoJTIhPTEmJnQubWF0Y2goL15bMC05QS1GYS1mXSskLyl8fChlPXduKHQpKSx2b2lkKHRoaXMucGFzcz1vci5lbmMuSGV4LnBhcnNlKGUpKX1pZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvd1wiS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6IFwiK3Q7dmFyIGU9bnVsbDtpZih2b2lkIDAhPT10LmhleCl7aWYodC5oZXgubGVuZ3RoJTIhPTB8fCF0LmhleC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl0aHJvd1wiTWFjOiB3cm9uZyBoZXggcGFzc3dvcmQ6IFwiK3QuaGV4O2U9dC5oZXh9aWYodm9pZCAwIT09dC51dGY4JiYoZT1tbih0LnV0ZjgpKSx2b2lkIDAhPT10LnJzdHImJihlPXduKHQucnN0cikpLHZvaWQgMCE9PXQuYjY0JiYoZT1pKHQuYjY0KSksdm9pZCAwIT09dC5iNjR1JiYoZT1wbih0LmI2NHUpKSxudWxsPT1lKXRocm93XCJLSlVSLmNyeXB0by5NYWMgdW5zdXBwb3J0ZWQgcGFzc3dvcmQgdHlwZTogXCIrdDt0aGlzLnBhc3M9b3IuZW5jLkhleC5wYXJzZShlKX0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQucGFzcyYmdGhpcy5zZXRQYXNzd29yZCh0LnBhc3MpLHZvaWQgMCE9PXQuYWxnJiYodGhpcy5hbGdOYW1lPXQuYWxnLHZvaWQgMD09PXQucHJvdiYmKHRoaXMucHJvdk5hbWU9Q3IuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RoaXMuYWxnTmFtZV0pLHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLHRoaXMucHJvdk5hbWUpKSl9LENyLmNyeXB0by5TaWduYXR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtpZih0aGlzLl9zZXRBbGdOYW1lcz1mdW5jdGlvbigpe3RoaXMuYWxnTmFtZS5tYXRjaCgvXiguKyl3aXRoKC4rKSQvKSYmKHRoaXMubWRBbGdOYW1lPVJlZ0V4cC4kMS50b0xvd2VyQ2FzZSgpLHRoaXMucHVia2V5QWxnTmFtZT1SZWdFeHAuJDIudG9Mb3dlckNhc2UoKSl9LHRoaXMuX3plcm9QYWRkaW5nT2ZTaWduYXR1cmU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49XCJcIixyPWUvNC10Lmxlbmd0aCxpPTA7aTxyO2krKyluKz1cIjBcIjtyZXR1cm4gbit0fSx0aGlzLnNldEFsZ0FuZFByb3ZpZGVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fc2V0QWxnTmFtZXMoKSxcImNyeXB0b2pzL2pzcnNhXCIhPWUpdGhyb3dcInByb3ZpZGVyIG5vdCBzdXBwb3J0ZWQ6IFwiK2U7aWYoXCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKHRoaXMubWRBbGdOYW1lKSE9LTEpe3RyeXt0aGlzLm1kPW5ldyBDci5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOnRoaXMubWRBbGdOYW1lfSl9Y2F0Y2godCl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIit0aGlzLm1kQWxnTmFtZStcIi9cIit0fXRoaXMuaW5pdD1mdW5jdGlvbih0LGUpe3ZhciBuPW51bGw7dHJ5e249dm9pZCAwPT09ZT9Ici5nZXRLZXkodCk6SHIuZ2V0S2V5KHQsZSl9Y2F0Y2godCl7dGhyb3dcImluaXQgZmFpbGVkOlwiK3R9aWYobi5pc1ByaXZhdGU9PT0hMCl0aGlzLnBydktleT1uLHRoaXMuc3RhdGU9XCJTSUdOXCI7ZWxzZXtpZihuLmlzUHVibGljIT09ITApdGhyb3dcImluaXQgZmFpbGVkLjpcIituO3RoaXMucHViS2V5PW4sdGhpcy5zdGF0ZT1cIlZFUklGWVwifX0sdGhpcy5pbml0U2lnbj1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdC5lY3BydmhleCYmXCJzdHJpbmdcIj09dHlwZW9mIHQuZWNjdXJ2ZW5hbWU/KHRoaXMuZWNwcnZoZXg9dC5lY3BydmhleCx0aGlzLmVjY3VydmVuYW1lPXQuZWNjdXJ2ZW5hbWUpOnRoaXMucHJ2S2V5PXQsdGhpcy5zdGF0ZT1cIlNJR05cIn0sdGhpcy5pbml0VmVyaWZ5QnlQdWJsaWNLZXk9ZnVuY3Rpb24odCl7XCJzdHJpbmdcIj09dHlwZW9mIHQuZWNwdWJoZXgmJlwic3RyaW5nXCI9PXR5cGVvZiB0LmVjY3VydmVuYW1lPyh0aGlzLmVjcHViaGV4PXQuZWNwdWJoZXgsdGhpcy5lY2N1cnZlbmFtZT10LmVjY3VydmVuYW1lKTp0IGluc3RhbmNlb2YgQ3IuY3J5cHRvLkVDRFNBP3RoaXMucHViS2V5PXQ6dCBpbnN0YW5jZW9mIHZlJiYodGhpcy5wdWJLZXk9dCksdGhpcy5zdGF0ZT1cIlZFUklGWVwifSx0aGlzLmluaXRWZXJpZnlCeUNlcnRpZmljYXRlUEVNPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyAkbjtlLnJlYWRDZXJ0UEVNKHQpLHRoaXMucHViS2V5PWUuc3ViamVjdFB1YmxpY0tleVJTQSx0aGlzLnN0YXRlPVwiVkVSSUZZXCJ9LHRoaXMudXBkYXRlU3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMubWQudXBkYXRlU3RyaW5nKHQpfSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbih0KXt0aGlzLm1kLnVwZGF0ZUhleCh0KX0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7aWYodGhpcy5zSGFzaEhleD10aGlzLm1kLmRpZ2VzdCgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmVjcHJ2aGV4JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5lY2N1cnZlbmFtZSl7dmFyIHQ9bmV3IENyLmNyeXB0by5FQ0RTQSh7Y3VydmU6dGhpcy5lY2N1cnZlbmFtZX0pO3RoaXMuaFNpZ249dC5zaWduSGV4KHRoaXMuc0hhc2hIZXgsdGhpcy5lY3BydmhleCl9ZWxzZSBpZih0aGlzLnBydktleSBpbnN0YW5jZW9mIHZlJiZcInJzYWFuZG1nZjFcIj09dGhpcy5wdWJrZXlBbGdOYW1lKXRoaXMuaFNpZ249dGhpcy5wcnZLZXkuc2lnbldpdGhNZXNzYWdlSGFzaFBTUyh0aGlzLnNIYXNoSGV4LHRoaXMubWRBbGdOYW1lLHRoaXMucHNzU2FsdExlbik7ZWxzZSBpZih0aGlzLnBydktleSBpbnN0YW5jZW9mIHZlJiZcInJzYVwiPT10aGlzLnB1YmtleUFsZ05hbWUpdGhpcy5oU2lnbj10aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsdGhpcy5tZEFsZ05hbWUpO2Vsc2UgaWYodGhpcy5wcnZLZXkgaW5zdGFuY2VvZiBDci5jcnlwdG8uRUNEU0EpdGhpcy5oU2lnbj10aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgpO2Vsc2V7aWYoISh0aGlzLnBydktleSBpbnN0YW5jZW9mIENyLmNyeXB0by5EU0EpKXRocm93XCJTaWduYXR1cmU6IHVuc3VwcG9ydGVkIHB1YmxpYyBrZXkgYWxnOiBcIit0aGlzLnB1YmtleUFsZ05hbWU7dGhpcy5oU2lnbj10aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgpfXJldHVybiB0aGlzLmhTaWdufSx0aGlzLnNpZ25TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlU3RyaW5nKHQpLHRoaXMuc2lnbigpfSx0aGlzLnNpZ25IZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlSGV4KHQpLHRoaXMuc2lnbigpfSx0aGlzLnZlcmlmeT1mdW5jdGlvbih0KXtpZih0aGlzLnNIYXNoSGV4PXRoaXMubWQuZGlnZXN0KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuZWNwdWJoZXgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmVjY3VydmVuYW1lKXt2YXIgZT1uZXcgQ3IuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp0aGlzLmVjY3VydmVuYW1lfSk7cmV0dXJuIGUudmVyaWZ5SGV4KHRoaXMuc0hhc2hIZXgsdCx0aGlzLmVjcHViaGV4KX1pZih0aGlzLnB1YktleSBpbnN0YW5jZW9mIHZlJiZcInJzYWFuZG1nZjFcIj09dGhpcy5wdWJrZXlBbGdOYW1lKXJldHVybiB0aGlzLnB1YktleS52ZXJpZnlXaXRoTWVzc2FnZUhhc2hQU1ModGhpcy5zSGFzaEhleCx0LHRoaXMubWRBbGdOYW1lLHRoaXMucHNzU2FsdExlbik7aWYodGhpcy5wdWJLZXkgaW5zdGFuY2VvZiB2ZSYmXCJyc2FcIj09dGhpcy5wdWJrZXlBbGdOYW1lKXJldHVybiB0aGlzLnB1YktleS52ZXJpZnlXaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCx0KTtpZih0aGlzLnB1YktleSBpbnN0YW5jZW9mIENyLmNyeXB0by5FQ0RTQSlyZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsdCk7aWYodGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBDci5jcnlwdG8uRFNBKXJldHVybiB0aGlzLnB1YktleS52ZXJpZnlXaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCx0KTt0aHJvd1wiU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwdWJsaWMga2V5IGFsZzogXCIrdGhpcy5wdWJrZXlBbGdOYW1lfX19LHRoaXMuaW5pdD1mdW5jdGlvbih0LGUpe3Rocm93XCJpbml0KGtleSwgcGFzcykgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmFsZ1Byb3ZOYW1lfSx0aGlzLmluaXRWZXJpZnlCeVB1YmxpY0tleT1mdW5jdGlvbih0KXt0aHJvd1wiaW5pdFZlcmlmeUJ5UHVibGljS2V5KHJzYVB1YktleXkpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy5pbml0VmVyaWZ5QnlDZXJ0aWZpY2F0ZVBFTT1mdW5jdGlvbih0KXt0aHJvd1wiaW5pdFZlcmlmeUJ5Q2VydGlmaWNhdGVQRU0oY2VydFBFTSkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmFsZ1Byb3ZOYW1lfSx0aGlzLmluaXRTaWduPWZ1bmN0aW9uKHQpe3Rocm93XCJpbml0U2lnbihwcnZLZXkpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy51cGRhdGVIZXg9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7dGhyb3dcInNpZ24oKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYWxnUHJvdk5hbWV9LHRoaXMuc2lnblN0cmluZz1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmFsZ1Byb3ZOYW1lfSx0aGlzLnNpZ25IZXg9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24odCl7dGhyb3dcInZlcmlmeShoU2lnVmFsKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYWxnUHJvdk5hbWV9LHRoaXMuaW5pdFBhcmFtcz10LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LmFsZyYmKHRoaXMuYWxnTmFtZT10LmFsZyx2b2lkIDA9PT10LnByb3Y/dGhpcy5wcm92TmFtZT1Dci5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdGhpcy5hbGdOYW1lXTp0aGlzLnByb3ZOYW1lPXQucHJvdix0aGlzLmFsZ1Byb3ZOYW1lPXRoaXMuYWxnTmFtZStcIjpcIit0aGlzLnByb3ZOYW1lLHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLHRoaXMucHJvdk5hbWUpLHRoaXMuX3NldEFsZ05hbWVzKCkpLHZvaWQgMCE9PXQucHNzc2FsdGxlbiYmKHRoaXMucHNzU2FsdExlbj10LnBzc3NhbHRsZW4pLHZvaWQgMCE9PXQucHJ2a2V5cGVtKSl7aWYodm9pZCAwIT09dC5wcnZrZXlwYXMpdGhyb3dcImJvdGggcHJ2a2V5cGVtIGFuZCBwcnZrZXlwYXMgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkXCI7dHJ5e3ZhciBlPW5ldyB2ZTtlLnJlYWRQcml2YXRlS2V5RnJvbVBFTVN0cmluZyh0LnBydmtleXBlbSksdGhpcy5pbml0U2lnbihlKX1jYXRjaCh0KXt0aHJvd1wiZmF0YWwgZXJyb3IgdG8gbG9hZCBwZW0gcHJpdmF0ZSBrZXk6IFwiK3R9fX0sQ3IuY3J5cHRvLk9JRD1uZXcgZnVuY3Rpb24oKXt0aGlzLm9pZGhleDJuYW1lPXtcIjJhODY0ODg2ZjcwZDAxMDEwMVwiOlwicnNhRW5jcnlwdGlvblwiLFwiMmE4NjQ4Y2UzZDAyMDFcIjpcImVjUHVibGljS2V5XCIsXCIyYTg2NDhjZTM4MDQwMVwiOlwiZHNhXCIsXCIyYTg2NDhjZTNkMDMwMTA3XCI6XCJzZWNwMjU2cjFcIixcIjJiODEwNDAwMWZcIjpcInNlY3AxOTJrMVwiLFwiMmI4MTA0MDAyMVwiOlwic2VjcDIyNHIxXCIsXCIyYjgxMDQwMDBhXCI6XCJzZWNwMjU2azFcIixcIjJiODEwNDAwMjNcIjpcInNlY3A1MjFyMVwiLFwiMmI4MTA0MDAyMlwiOlwic2VjcDM4NHIxXCIsXCIyYTg2NDhjZTM4MDQwM1wiOlwiU0hBMXdpdGhEU0FcIixcIjYwODY0ODAxNjUwMzA0MDMwMVwiOlwiU0hBMjI0d2l0aERTQVwiLFwiNjA4NjQ4MDE2NTAzMDQwMzAyXCI6XCJTSEEyNTZ3aXRoRFNBXCJ9fSwvKiEgZWNkc2EtbW9kaWZpZWQtMS4wLjUuanMgKGMpIFN0ZXBoYW4gVGhvbWFzLCBLZW5qaSBVcnVzaGltYSB8IGdpdGh1Yi5jb20vYml0Y29pbmpzL2JpdGNvaW5qcy1saWIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuXHQgKi9cblwidW5kZWZpbmVkXCIhPXR5cGVvZiBDciYmQ3J8fChDcj17fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmNyeXB0byYmQ3IuY3J5cHRvfHwoQ3IuY3J5cHRvPXt9KSxDci5jcnlwdG8uRUNEU0E9ZnVuY3Rpb24odCl7dmFyIGU9XCJzZWNwMjU2cjFcIixuPW5ldyBsZTt0aGlzLnR5cGU9XCJFQ1wiLHRoaXMuZ2V0QmlnUmFuZG9tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbyh0LmJpdExlbmd0aCgpLG4pLm1vZCh0LnN1YnRyYWN0KG8uT05FKSkuYWRkKG8uT05FKX0sdGhpcy5zZXROYW1lZEN1cnZlPWZ1bmN0aW9uKHQpe3RoaXMuZWNwYXJhbXM9Q3IuY3J5cHRvLkVDUGFyYW1ldGVyREIuZ2V0QnlOYW1lKHQpLHRoaXMucHJ2S2V5SGV4PW51bGwsdGhpcy5wdWJLZXlIZXg9bnVsbCx0aGlzLmN1cnZlTmFtZT10fSx0aGlzLnNldFByaXZhdGVLZXlIZXg9ZnVuY3Rpb24odCl7dGhpcy5pc1ByaXZhdGU9ITAsdGhpcy5wcnZLZXlIZXg9dH0sdGhpcy5zZXRQdWJsaWNLZXlIZXg9ZnVuY3Rpb24odCl7dGhpcy5pc1B1YmxpYz0hMCx0aGlzLnB1YktleUhleD10fSx0aGlzLmdldFB1YmxpY0tleVhZSGV4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wdWJLZXlIZXg7aWYoXCIwNFwiIT09dC5zdWJzdHIoMCwyKSl0aHJvd1widGhpcyBtZXRob2Qgc3VwcG9ydHMgdW5jb21wcmVzc2VkIGZvcm1hdCgwNCkgb25seVwiO3ZhciBlPXRoaXMuZWNwYXJhbXMua2V5bGVuLzQ7aWYodC5sZW5ndGghPT0yKzIqZSl0aHJvd1wibWFsZm9ybWVkIHB1YmxpYyBrZXkgaGV4IGxlbmd0aFwiO3ZhciBuPXt9O3JldHVybiBuLng9dC5zdWJzdHIoMixlKSxuLnk9dC5zdWJzdHIoMitlKSxufSx0aGlzLmdldFNob3J0TklTVFBDdXJ2ZU5hbWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnZlTmFtZTtyZXR1cm5cInNlY3AyNTZyMVwiPT09dHx8XCJOSVNUIFAtMjU2XCI9PT10fHxcIlAtMjU2XCI9PT10fHxcInByaW1lMjU2djFcIj09PXQ/XCJQLTI1NlwiOlwic2VjcDM4NHIxXCI9PT10fHxcIk5JU1QgUC0zODRcIj09PXR8fFwiUC0zODRcIj09PXQ/XCJQLTM4NFwiOm51bGx9LHRoaXMuZ2VuZXJhdGVLZXlQYWlySGV4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lY3BhcmFtcy5uLGU9dGhpcy5nZXRCaWdSYW5kb20odCksbj10aGlzLmVjcGFyYW1zLkcubXVsdGlwbHkoZSkscj1uLmdldFgoKS50b0JpZ0ludGVnZXIoKSxpPW4uZ2V0WSgpLnRvQmlnSW50ZWdlcigpLHM9dGhpcy5lY3BhcmFtcy5rZXlsZW4vNCxvPShcIjAwMDAwMDAwMDBcIitlLnRvU3RyaW5nKDE2KSkuc2xpY2UoLXMpLGE9KFwiMDAwMDAwMDAwMFwiK3IudG9TdHJpbmcoMTYpKS5zbGljZSgtcyksdT0oXCIwMDAwMDAwMDAwXCIraS50b1N0cmluZygxNikpLnNsaWNlKC1zKSxoPVwiMDRcIithK3U7cmV0dXJuIHRoaXMuc2V0UHJpdmF0ZUtleUhleChvKSx0aGlzLnNldFB1YmxpY0tleUhleChoKSx7ZWNwcnZoZXg6byxlY3B1YmhleDpofX0sdGhpcy5zaWduV2l0aE1lc3NhZ2VIYXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNpZ25IZXgodCx0aGlzLnBydktleUhleCl9LHRoaXMuc2lnbkhleD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBvKGUsMTYpLHI9dGhpcy5lY3BhcmFtcy5uLGk9bmV3IG8odCwxNik7ZG8gdmFyIHM9dGhpcy5nZXRCaWdSYW5kb20ociksYT10aGlzLmVjcGFyYW1zLkcsdT1hLm11bHRpcGx5KHMpLGg9dS5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKHIpO3doaWxlKGguY29tcGFyZVRvKG8uWkVSTyk8PTApO3ZhciBjPXMubW9kSW52ZXJzZShyKS5tdWx0aXBseShpLmFkZChuLm11bHRpcGx5KGgpKSkubW9kKHIpO3JldHVybiBDci5jcnlwdG8uRUNEU0EuYmlSU1NpZ1RvQVNOMVNpZyhoLGMpfSx0aGlzLnNpZ249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLHI9dGhpcy5lY3BhcmFtcy5uLGk9by5mcm9tQnl0ZUFycmF5VW5zaWduZWQodCk7ZG8gdmFyIHM9dGhpcy5nZXRCaWdSYW5kb20ociksYT10aGlzLmVjcGFyYW1zLkcsdT1hLm11bHRpcGx5KHMpLGg9dS5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKHIpO3doaWxlKGguY29tcGFyZVRvKG8uWkVSTyk8PTApO3ZhciBjPXMubW9kSW52ZXJzZShyKS5tdWx0aXBseShpLmFkZChuLm11bHRpcGx5KGgpKSkubW9kKHIpO3JldHVybiB0aGlzLnNlcmlhbGl6ZVNpZyhoLGMpfSx0aGlzLnZlcmlmeVdpdGhNZXNzYWdlSGFzaD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnZlcmlmeUhleCh0LGUsdGhpcy5wdWJLZXlIZXgpfSx0aGlzLnZlcmlmeUhleD1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxzPUNyLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleChlKTtyPXMucixpPXMuczt2YXIgYTthPU1lLmRlY29kZUZyb21IZXgodGhpcy5lY3BhcmFtcy5jdXJ2ZSxuKTt2YXIgdT1uZXcgbyh0LDE2KTtyZXR1cm4gdGhpcy52ZXJpZnlSYXcodSxyLGksYSl9LHRoaXMudmVyaWZ5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpO2lmKEJpdGNvaW4uVXRpbC5pc0FycmF5KGUpKXt2YXIgcz10aGlzLnBhcnNlU2lnKGUpO3I9cy5yLGk9cy5zfWVsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLnJ8fCFlLnMpdGhyb3dcIkludmFsaWQgdmFsdWUgZm9yIHNpZ25hdHVyZVwiO3I9ZS5yLGk9ZS5zfXZhciBhO2lmKG4gaW5zdGFuY2VvZiBNZSlhPW47ZWxzZXtpZighQml0Y29pbi5VdGlsLmlzQXJyYXkobikpdGhyb3dcIkludmFsaWQgZm9ybWF0IGZvciBwdWJrZXkgdmFsdWUsIG11c3QgYmUgYnl0ZSBhcnJheSBvciBFQ1BvaW50RnBcIjthPU1lLmRlY29kZUZyb20odGhpcy5lY3BhcmFtcy5jdXJ2ZSxuKX12YXIgdT1vLmZyb21CeXRlQXJyYXlVbnNpZ25lZCh0KTtyZXR1cm4gdGhpcy52ZXJpZnlSYXcodSxyLGksYSl9LHRoaXMudmVyaWZ5UmF3PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMuZWNwYXJhbXMubixzPXRoaXMuZWNwYXJhbXMuRztpZihlLmNvbXBhcmVUbyhvLk9ORSk8MHx8ZS5jb21wYXJlVG8oaSk+PTApcmV0dXJuITE7aWYobi5jb21wYXJlVG8oby5PTkUpPDB8fG4uY29tcGFyZVRvKGkpPj0wKXJldHVybiExO3ZhciBhPW4ubW9kSW52ZXJzZShpKSx1PXQubXVsdGlwbHkoYSkubW9kKGkpLGg9ZS5tdWx0aXBseShhKS5tb2QoaSksYz1zLm11bHRpcGx5KHUpLmFkZChyLm11bHRpcGx5KGgpKSxmPWMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLm1vZChpKTtyZXR1cm4gZi5lcXVhbHMoZSl9LHRoaXMuc2VyaWFsaXplU2lnPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC50b0J5dGVBcnJheVNpZ25lZCgpLHI9ZS50b0J5dGVBcnJheVNpZ25lZCgpLGk9W107cmV0dXJuIGkucHVzaCgyKSxpLnB1c2gobi5sZW5ndGgpLGk9aS5jb25jYXQobiksaS5wdXNoKDIpLGkucHVzaChyLmxlbmd0aCksaT1pLmNvbmNhdChyKSxpLnVuc2hpZnQoaS5sZW5ndGgpLGkudW5zaGlmdCg0OCksaX0sdGhpcy5wYXJzZVNpZz1mdW5jdGlvbih0KXt2YXIgZTtpZig0OCE9dFswXSl0aHJvdyBuZXcgRXJyb3IoXCJTaWduYXR1cmUgbm90IGEgdmFsaWQgREVSU2VxdWVuY2VcIik7aWYoZT0yLDIhPXRbZV0pdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgZWxlbWVudCBpbiBzaWduYXR1cmUgbXVzdCBiZSBhIERFUkludGVnZXJcIik7dmFyIG49dC5zbGljZShlKzIsZSsyK3RbZSsxXSk7aWYoZSs9Mit0W2UrMV0sMiE9dFtlXSl0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgZWxlbWVudCBpbiBzaWduYXR1cmUgbXVzdCBiZSBhIERFUkludGVnZXJcIik7dmFyIHI9dC5zbGljZShlKzIsZSsyK3RbZSsxXSk7ZSs9Mit0W2UrMV07dmFyIGk9by5mcm9tQnl0ZUFycmF5VW5zaWduZWQobikscz1vLmZyb21CeXRlQXJyYXlVbnNpZ25lZChyKTtyZXR1cm57cjppLHM6c319LHRoaXMucGFyc2VTaWdDb21wYWN0PWZ1bmN0aW9uKHQpe2lmKDY1IT09dC5sZW5ndGgpdGhyb3dcIlNpZ25hdHVyZSBoYXMgdGhlIHdyb25nIGxlbmd0aFwiO3ZhciBlPXRbMF0tMjc7aWYoZTwwfHxlPjcpdGhyb3dcIkludmFsaWQgc2lnbmF0dXJlIHR5cGVcIjt2YXIgbj10aGlzLmVjcGFyYW1zLm4scj1vLmZyb21CeXRlQXJyYXlVbnNpZ25lZCh0LnNsaWNlKDEsMzMpKS5tb2QobiksaT1vLmZyb21CeXRlQXJyYXlVbnNpZ25lZCh0LnNsaWNlKDMzLDY1KSkubW9kKG4pO3JldHVybntyOnIsczppLGk6ZX19LHZvaWQgMCE9PXQmJnZvaWQgMCE9PXQuY3VydmUmJih0aGlzLmN1cnZlTmFtZT10LmN1cnZlKSx2b2lkIDA9PT10aGlzLmN1cnZlTmFtZSYmKHRoaXMuY3VydmVOYW1lPWUpLHRoaXMuc2V0TmFtZWRDdXJ2ZSh0aGlzLmN1cnZlTmFtZSksdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQucHJ2JiZ0aGlzLnNldFByaXZhdGVLZXlIZXgodC5wcnYpLHZvaWQgMCE9PXQucHViJiZ0aGlzLnNldFB1YmxpY0tleUhleCh0LnB1YikpfSxDci5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXg9ZnVuY3Rpb24odCl7dmFyIGU9Q3IuY3J5cHRvLkVDRFNBLnBhcnNlU2lnSGV4SW5IZXhSUyh0KSxuPW5ldyBvKGUuciwxNikscj1uZXcgbyhlLnMsMTYpO3JldHVybntyOm4sczpyfX0sQ3IuY3J5cHRvLkVDRFNBLnBhcnNlU2lnSGV4SW5IZXhSUz1mdW5jdGlvbih0KXtpZihcIjMwXCIhPXQuc3Vic3RyKDAsMikpdGhyb3dcInNpZ25hdHVyZSBpcyBub3QgYSBBU04uMSBzZXF1ZW5jZVwiO3ZhciBlPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LDApO2lmKDIhPWUubGVuZ3RoKXRocm93XCJudW1iZXIgb2Ygc2lnbmF0dXJlIEFTTi4xIHNlcXVlbmNlIGVsZW1lbnRzIHNlZW0gd3JvbmdcIjt2YXIgbj1lWzBdLHI9ZVsxXTtpZihcIjAyXCIhPXQuc3Vic3RyKG4sMikpdGhyb3dcIjFzdCBpdGVtIG9mIHNlcXVlbmUgb2Ygc2lnbmF0dXJlIGlzIG5vdCBBU04uMSBpbnRlZ2VyXCI7aWYoXCIwMlwiIT10LnN1YnN0cihyLDIpKXRocm93XCIybmQgaXRlbSBvZiBzZXF1ZW5lIG9mIHNpZ25hdHVyZSBpcyBub3QgQVNOLjEgaW50ZWdlclwiO3ZhciBpPU9yLmdldEhleE9mVl9BdE9iaih0LG4pLHM9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQscik7cmV0dXJue3I6aSxzOnN9fSxDci5jcnlwdG8uRUNEU0EuYXNuMVNpZ1RvQ29uY2F0U2lnPWZ1bmN0aW9uKHQpe3ZhciBlPUNyLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleEluSGV4UlModCksbj1lLnIscj1lLnM7aWYoXCIwMFwiPT1uLnN1YnN0cigwLDIpJiZuLmxlbmd0aC8yKjglMTI4PT04JiYobj1uLnN1YnN0cigyKSksXCIwMFwiPT1yLnN1YnN0cigwLDIpJiZyLmxlbmd0aC8yKjglMTI4PT04JiYocj1yLnN1YnN0cigyKSksbi5sZW5ndGgvMio4JTEyOCE9MCl0aHJvd1widW5rbm93biBFQ0RTQSBzaWcgciBsZW5ndGggZXJyb3JcIjtpZihyLmxlbmd0aC8yKjglMTI4IT0wKXRocm93XCJ1bmtub3duIEVDRFNBIHNpZyBzIGxlbmd0aCBlcnJvclwiO3JldHVybiBuK3J9LENyLmNyeXB0by5FQ0RTQS5jb25jYXRTaWdUb0FTTjFTaWc9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGgvMio4JTEyOCE9MCl0aHJvd1widW5rbm93biBFQ0RTQSBjb25jYXRpbmF0ZWQgci1zIHNpZyAgbGVuZ3RoIGVycm9yXCI7dmFyIGU9dC5zdWJzdHIoMCx0Lmxlbmd0aC8yKSxuPXQuc3Vic3RyKHQubGVuZ3RoLzIpO3JldHVybiBDci5jcnlwdG8uRUNEU0EuaGV4UlNTaWdUb0FTTjFTaWcoZSxuKX0sQ3IuY3J5cHRvLkVDRFNBLmhleFJTU2lnVG9BU04xU2lnPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IG8odCwxNikscj1uZXcgbyhlLDE2KTtyZXR1cm4gQ3IuY3J5cHRvLkVDRFNBLmJpUlNTaWdUb0FTTjFTaWcobixyKX0sQ3IuY3J5cHRvLkVDRFNBLmJpUlNTaWdUb0FTTjFTaWc9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQ3IuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dH0pLHI9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OmV9KSxpPW5ldyBDci5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbbixyXX0pO3JldHVybiBpLmdldEVuY29kZWRIZXgoKX0sLyohIGVjcGFyYW0tMS4wLjAuanMgKGMpIDIwMTMgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2Vcblx0ICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgQ3ImJkNyfHwoQ3I9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5jcnlwdG8mJkNyLmNyeXB0b3x8KENyLmNyeXB0bz17fSksQ3IuY3J5cHRvLkVDUGFyYW1ldGVyREI9bmV3IGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gbmV3IG8odCwxNil9dmFyIGU9e30sbj17fTt0aGlzLmdldEJ5TmFtZT1mdW5jdGlvbih0KXt2YXIgcj10O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuW3JdJiYocj1uW3RdKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZVtyXSlyZXR1cm4gZVtyXTt0aHJvd1widW5yZWdpc3RlcmVkIEVDIGN1cnZlIG5hbWU6IFwiK3J9LHRoaXMucmVnaXN0PWZ1bmN0aW9uKHIsaSxzLG8sYSx1LGgsYyxmLGwsZCxnKXtlW3JdPXt9O3ZhciBwPXQocykseT10KG8pLHY9dChhKSxtPXQodSksUz10KGgpLGI9bmV3IFhlKHAseSx2KSx3PWIuZGVjb2RlUG9pbnRIZXgoXCIwNFwiK2MrZik7ZVtyXS5uYW1lPXIsZVtyXS5rZXlsZW49aSxlW3JdLmN1cnZlPWIsZVtyXS5HPXcsZVtyXS5uPW0sZVtyXS5oPVMsZVtyXS5vaWQ9ZCxlW3JdLmluZm89Zztmb3IodmFyIEU9MDtFPGwubGVuZ3RoO0UrKyluW2xbRV1dPXJ9fSxDci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTI4cjFcIiwxMjgsXCJGRkZGRkZGREZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRlwiLFwiRkZGRkZGRkRGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkNcIixcIkU4NzU3OUMxMTA3OUY0M0REODI0OTkzQzJDRUU1RUQzXCIsXCJGRkZGRkZGRTAwMDAwMDAwNzVBMzBEMUI5MDM4QTExNVwiLFwiMVwiLFwiMTYxRkY3NTI4Qjg5OUIyRDBDMjg2MDdDQTUyQzVCODZcIixcIkNGNUFDODM5NUJBRkVCMTNDMDJEQTI5MkRERUQ3QTgzXCIsW10sXCJcIixcInNlY3AxMjhyMSA6IFNFQ0cgY3VydmUgb3ZlciBhIDEyOCBiaXQgcHJpbWUgZmllbGRcIiksQ3IuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE2MGsxXCIsMTYwLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGQUM3M1wiLFwiMFwiLFwiN1wiLFwiMDEwMDAwMDAwMDAwMDAwMDAwMDAwMUI4RkExNkRGQUI5QUNBMTZCNkIzXCIsXCIxXCIsXCIzQjRDMzgyQ0UzN0FBMTkyQTQwMTlFNzYzMDM2RjRGNURENEQ3RUJCXCIsXCI5MzhDRjkzNTMxOEZEQ0VENkJDMjgyODY1MzE3MzNDM0YwM0M0RkVFXCIsW10sXCJcIixcInNlY3AxNjBrMSA6IFNFQ0cgY3VydmUgb3ZlciBhIDE2MCBiaXQgcHJpbWUgZmllbGRcIiksQ3IuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE2MHIxXCIsMTYwLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY3RkZGRkZGRlwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY3RkZGRkZGQ1wiLFwiMUM5N0JFRkM1NEJEN0E4QjY1QUNGODlGODFENEQ0QURDNTY1RkE0NVwiLFwiMDEwMDAwMDAwMDAwMDAwMDAwMDAwMUY0QzhGOTI3QUVEM0NBNzUyMjU3XCIsXCIxXCIsXCI0QTk2QjU2ODhFRjU3MzI4NDY2NDY5ODk2OEMzOEJCOTEzQ0JGQzgyXCIsXCIyM0E2Mjg1NTMxNjg5NDdENTlEQ0M5MTIwNDIzNTEzNzdBQzVGQjMyXCIsW10sXCJcIixcInNlY3AxNjByMSA6IFNFQ0cgY3VydmUgb3ZlciBhIDE2MCBiaXQgcHJpbWUgZmllbGRcIiksQ3IuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE5MmsxXCIsMTkyLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZFRTM3XCIsXCIwXCIsXCIzXCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkUyNkYyRkMxNzBGNjk0NjZBNzRERUZEOERcIixcIjFcIixcIkRCNEZGMTBFQzA1N0U5QUUyNkIwN0QwMjgwQjdGNDM0MURBNUQxQjFFQUUwNkM3RFwiLFwiOUIyRjJGNkQ5QzU2MjhBNzg0NDE2M0QwMTVCRTg2MzQ0MDgyQUE4OEQ5NUUyRjlEXCIsW10pLENyLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AxOTJyMVwiLDE5MixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGRlwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRkZGRkZGRkZDXCIsXCI2NDIxMDUxOUU1OUM4MEU3MEZBN0U5QUI3MjI0MzA0OUZFQjhERUVDQzE0NkI5QjFcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjk5REVGODM2MTQ2QkM5QjFCNEQyMjgzMVwiLFwiMVwiLFwiMTg4REE4MEVCMDMwOTBGNjdDQkYyMEVCNDNBMTg4MDBGNEZGMEFGRDgyRkYxMDEyXCIsXCIwNzE5MkI5NUZGQzhEQTc4NjMxMDExRUQ2QjI0Q0RENTczRjk3N0ExMUU3OTQ4MTFcIixbXSksQ3IuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDIyNHIxXCIsMjI0LFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDFcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFXCIsXCJCNDA1MEE4NTBDMDRCM0FCRjU0MTMyNTY1MDQ0QjBCN0Q3QkZEOEJBMjcwQjM5NDMyMzU1RkZCNFwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjE2QTJFMEI4RjAzRTEzREQyOTQ1NUM1QzJBM0RcIixcIjFcIixcIkI3MEUwQ0JENkJCNEJGN0YzMjEzOTBCOTRBMDNDMUQzNTZDMjExMjIzNDMyODBENjExNUMxRDIxXCIsXCJCRDM3NjM4OEI1RjcyM0ZCNEMyMkRGRTZDRDQzNzVBMDVBMDc0NzY0NDRENTgxOTk4NTAwN0UzNFwiLFtdKSxDci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMjU2azFcIiwyNTYsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGQzJGXCIsXCIwXCIsXCI3XCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUJBQUVEQ0U2QUY0OEEwM0JCRkQyNUU4Q0QwMzY0MTQxXCIsXCIxXCIsXCI3OUJFNjY3RUY5RENCQkFDNTVBMDYyOTVDRTg3MEIwNzAyOUJGQ0RCMkRDRTI4RDk1OUYyODE1QjE2RjgxNzk4XCIsXCI0ODNBREE3NzI2QTNDNDY1NURBNEZCRkMwRTExMDhBOEZEMTdCNDQ4QTY4NTU0MTk5QzQ3RDA4RkZCMTBENEI4XCIsW10pLENyLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AyNTZyMVwiLDI1NixcIkZGRkZGRkZGMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZcIixcIkZGRkZGRkZGMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkNcIixcIjVBQzYzNUQ4QUEzQTkzRTdCM0VCQkQ1NTc2OTg4NkJDNjUxRDA2QjBDQzUzQjBGNjNCQ0UzQzNFMjdEMjYwNEJcIixcIkZGRkZGRkZGMDAwMDAwMDBGRkZGRkZGRkZGRkZGRkZGQkNFNkZBQURBNzE3OUU4NEYzQjlDQUMyRkM2MzI1NTFcIixcIjFcIixcIjZCMTdEMUYyRTEyQzQyNDdGOEJDRTZFNTYzQTQ0MEYyNzcwMzdEODEyREVCMzNBMEY0QTEzOTQ1RDg5OEMyOTZcIixcIjRGRTM0MkUyRkUxQTdGOUI4RUU3RUI0QTdDMEY5RTE2MkJDRTMzNTc2QjMxNUVDRUNCQjY0MDY4MzdCRjUxRjVcIixbXCJOSVNUIFAtMjU2XCIsXCJQLTI1NlwiLFwicHJpbWUyNTZ2MVwiXSksQ3IuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDM4NHIxXCIsMzg0LFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGMDAwMDAwMDAwMDAwMDAwMEZGRkZGRkZGXCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkYwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkNcIixcIkIzMzEyRkE3RTIzRUU3RTQ5ODhFMDU2QkUzRjgyRDE5MTgxRDlDNkVGRTgxNDExMjAzMTQwODhGNTAxMzg3NUFDNjU2Mzk4RDhBMkVEMTlEMkE4NUM4RUREM0VDMkFFRlwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQzc2MzREODFGNDM3MkRERjU4MUEwREIyNDhCMEE3N0FFQ0VDMTk2QUNDQzUyOTczXCIsXCIxXCIsXCJBQTg3Q0EyMkJFOEIwNTM3OEVCMUM3MUVGMzIwQUQ3NDZFMUQzQjYyOEJBNzlCOTg1OUY3NDFFMDgyNTQyQTM4NTUwMkYyNURCRjU1Mjk2QzNBNTQ1RTM4NzI3NjBBQjdcIixcIjM2MTdkZTRhOTYyNjJjNmY1ZDllOThiZjkyOTJkYzI5ZjhmNDFkYmQyODlhMTQ3Y2U5ZGEzMTEzYjVmMGI4YzAwYTYwYjFjZTFkN2U4MTlkN2E0MzFkN2M5MGVhMGU1ZlwiLFtcIk5JU1QgUC0zODRcIixcIlAtMzg0XCJdKSxDci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwNTIxcjFcIiw1MjEsXCIxRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRlwiLFwiMUZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkNcIixcIjA1MTk1M0VCOTYxOEUxQzlBMUY5MjlBMjFBMEI2ODU0MEVFQTJEQTcyNUI5OUIzMTVGM0I4QjQ4OTkxOEVGMTA5RTE1NjE5Mzk1MUVDN0U5MzdCMTY1MkMwQkQzQkIxQkYwNzM1NzNERjg4M0QyQzM0RjFFRjQ1MUZENDZCNTAzRjAwXCIsXCIxRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZBNTE4Njg3ODNCRjJGOTY2QjdGQ0MwMTQ4RjcwOUE1RDAzQkI1QzlCODg5OUM0N0FFQkI2RkI3MUU5MTM4NjQwOVwiLFwiMVwiLFwiQzY4NThFMDZCNzA0MDRFOUNEOUUzRUNCNjYyMzk1QjQ0MjlDNjQ4MTM5MDUzRkI1MjFGODI4QUY2MDZCNEQzREJBQTE0QjVFNzdFRkU3NTkyOEZFMURDMTI3QTJGRkE4REUzMzQ4QjNDMTg1NkE0MjlCRjk3RTdFMzFDMkU1QkQ2NlwiLFwiMDExODM5Mjk2YTc4OWEzYmMwMDQ1YzhhNWZiNDJjN2QxYmQ5OThmNTQ0NDk1NzliNDQ2ODE3YWZiZDE3MjczZTY2MmM5N2VlNzI5OTVlZjQyNjQwYzU1MGI5MDEzZmFkMDc2MTM1M2M3MDg2YTI3MmMyNDA4OGJlOTQ3NjlmZDE2NjUwXCIsW1wiTklTVCBQLTUyMVwiLFwiUC01MjFcIl0pLC8qISBkc2EtbW9kaWZpZWQtMS4wLjEuanMgKGMpIFJlY3VyaXR5IExhYnMgR21iSCwgS2VuamkgVXJ1c2hpbW1hIHwgZ2l0aHViLmNvbS9vcGVucGdwanMvb3BlbnBncGpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcblx0ICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgQ3ImJkNyfHwoQ3I9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5jcnlwdG8mJkNyLmNyeXB0b3x8KENyLmNyeXB0bz17fSksQ3IuY3J5cHRvLkRTQT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxzLGEpe3ZhciB1PUNyLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcoZSx0LnRvTG93ZXJDYXNlKCkpLHU9dS5zdWJzdHIoMCxzLmJpdExlbmd0aCgpLzQpLGg9bmV3IG8odSwxNiksYz1yKG8uT05FLmFkZChvLk9ORSkscy5zdWJ0cmFjdChvLk9ORSkpLGY9bi5tb2RQb3coYyxpKS5tb2QocyksbD1jLm1vZEludmVyc2UocykubXVsdGlwbHkoaC5hZGQoYS5tdWx0aXBseShmKSkpLm1vZChzKSxkPW5ldyBBcnJheTtyZXR1cm4gZFswXT1mLGRbMV09bCxkfWZ1bmN0aW9uIGUodCl7dmFyIGU9b3BlbnBncC5jb25maWcuY29uZmlnLnByZWZlcl9oYXNoX2FsZ29yaXRobTtzd2l0Y2goTWF0aC5yb3VuZCh0LmJpdExlbmd0aCgpLzgpKXtjYXNlIDIwOnJldHVybiAyIT1lJiZlPjExJiYxMCE9ZSYmZTw4PzI6ZTtjYXNlIDI4OnJldHVybiBlPjExJiZlPDg/MTE6ZTtjYXNlIDMyOnJldHVybiBlPjEwJiZlPDg/ODplO2RlZmF1bHQ6cmV0dXJuIHV0aWwucHJpbnRfZGVidWcoXCJEU0Egc2VsZWN0IGhhc2ggYWxnb3JpdGhtOiByZXR1cm5pbmcgbnVsbCBmb3IgYW4gdW5rbm93biBsZW5ndGggb2YgcVwiKSxudWxsfX1mdW5jdGlvbiBuKHQsZSxuLHIsaSxzLGEsdSl7dmFyIGg9Q3IuY3J5cHRvLlV0aWwuaGFzaFN0cmluZyhyLHQudG9Mb3dlckNhc2UoKSksaD1oLnN1YnN0cigwLHMuYml0TGVuZ3RoKCkvNCksYz1uZXcgbyhoLDE2KTtpZihvLlpFUk8uY29tcGFyZVRvKGUpPjB8fGUuY29tcGFyZVRvKHMpPjB8fG8uWkVSTy5jb21wYXJlVG8obik+MHx8bi5jb21wYXJlVG8ocyk+MClyZXR1cm4gdXRpbC5wcmludF9lcnJvcihcImludmFsaWQgRFNBIFNpZ25hdHVyZVwiKSxudWxsO3ZhciBmPW4ubW9kSW52ZXJzZShzKSxsPWMubXVsdGlwbHkoZikubW9kKHMpLGQ9ZS5tdWx0aXBseShmKS5tb2QocyksZz1hLm1vZFBvdyhsLGkpLm11bHRpcGx5KHUubW9kUG93KGQsaSkpLm1vZChpKS5tb2Qocyk7cmV0dXJuIDA9PWcuY29tcGFyZVRvKGUpfWZ1bmN0aW9uIHIodCxlKXtpZighKGUuY29tcGFyZVRvKHQpPD0wKSl7Zm9yKHZhciBuPWUuc3VidHJhY3QodCkscj1pKG4uYml0TGVuZ3RoKCkpO3I+bjspcj1pKG4uYml0TGVuZ3RoKCkpO3JldHVybiB0LmFkZChyKX19ZnVuY3Rpb24gaSh0KXtpZih0PDApcmV0dXJuIG51bGw7dmFyIGU9TWF0aC5mbG9vcigodCs3KS84KSxuPXMoZSk7cmV0dXJuIHQlOD4wJiYobj1TdHJpbmcuZnJvbUNoYXJDb2RlKE1hdGgucG93KDIsdCU4KS0xJm4uY2hhckNvZGVBdCgwKSkrbi5zdWJzdHJpbmcoMSkpLG5ldyBvKHUobiksMTYpfWZ1bmN0aW9uIHModCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dDtuKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZShhKCkpO3JldHVybiBlfWZ1bmN0aW9uIGEoKXt2YXIgdD1uZXcgVWludDMyQXJyYXkoMSk7cmV0dXJuIGlyLmNyeXB0by5nZXRSYW5kb21WYWx1ZXModCksMjU1JnRbMF19ZnVuY3Rpb24gdSh0KXtpZihudWxsPT10KXJldHVyblwiXCI7Zm9yKHZhciBlLG49W10scj10Lmxlbmd0aCxpPTA7aTxyOyl7Zm9yKGU9dFtpKytdLmNoYXJDb2RlQXQoKS50b1N0cmluZygxNik7ZS5sZW5ndGg8MjspZT1cIjBcIitlO24ucHVzaChcIlwiK2UpfXJldHVybiBuLmpvaW4oXCJcIil9dGhpcy5wPW51bGwsdGhpcy5xPW51bGwsdGhpcy5nPW51bGwsdGhpcy55PW51bGwsdGhpcy54PW51bGwsdGhpcy50eXBlPVwiRFNBXCIsdGhpcy5zZXRQcml2YXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dGhpcy5pc1ByaXZhdGU9ITAsdGhpcy5wPXQsdGhpcy5xPWUsdGhpcy5nPW4sdGhpcy55PXIsdGhpcy54PWl9LHRoaXMuc2V0UHVibGljPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuaXNQdWJsaWM9ITAsdGhpcy5wPXQsdGhpcy5xPWUsdGhpcy5nPW4sdGhpcy55PXIsdGhpcy54PW51bGx9LHRoaXMuc2lnbldpdGhNZXNzYWdlSGFzaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnAsbj10aGlzLnEsaT10aGlzLmcscz0odGhpcy55LHRoaXMueCksYT0odC5zdWJzdHIoMCxuLmJpdExlbmd0aCgpLzQpLG5ldyBvKHQsMTYpKSx1PXIoby5PTkUuYWRkKG8uT05FKSxuLnN1YnRyYWN0KG8uT05FKSksaD1pLm1vZFBvdyh1LGUpLm1vZChuKSxjPXUubW9kSW52ZXJzZShuKS5tdWx0aXBseShhLmFkZChzLm11bHRpcGx5KGgpKSkubW9kKG4pLGY9Q3IuYXNuMS5BU04xVXRpbC5qc29uVG9BU04xSEVYKHtzZXE6W3tpbnQ6e2JpZ2ludDpofX0se2ludDp7YmlnaW50OmN9fV19KTtyZXR1cm4gZn0sdGhpcy52ZXJpZnlXaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnAscj10aGlzLnEsaT10aGlzLmcscz10aGlzLnksYT10aGlzLnBhcnNlQVNOMVNpZ25hdHVyZShlKSx1PWFbMF0saD1hWzFdLHQ9dC5zdWJzdHIoMCxyLmJpdExlbmd0aCgpLzQpLGM9bmV3IG8odCwxNik7aWYoby5aRVJPLmNvbXBhcmVUbyh1KT4wfHx1LmNvbXBhcmVUbyhyKT4wfHxvLlpFUk8uY29tcGFyZVRvKGgpPjB8fGguY29tcGFyZVRvKHIpPjApdGhyb3dcImludmFsaWQgRFNBIHNpZ25hdHVyZVwiO3ZhciBmPWgubW9kSW52ZXJzZShyKSxsPWMubXVsdGlwbHkoZikubW9kKHIpLGQ9dS5tdWx0aXBseShmKS5tb2QociksZz1pLm1vZFBvdyhsLG4pLm11bHRpcGx5KHMubW9kUG93KGQsbikpLm1vZChuKS5tb2Qocik7cmV0dXJuIDA9PWcuY29tcGFyZVRvKHUpfSx0aGlzLnBhcnNlQVNOMVNpZ25hdHVyZT1mdW5jdGlvbih0KXt0cnl7dmFyIGU9bmV3IG8oT3IuZ2V0VmJ5TGlzdCh0LDAsWzBdLFwiMDJcIiksMTYpLG49bmV3IG8oT3IuZ2V0VmJ5TGlzdCh0LDAsWzFdLFwiMDJcIiksMTYpO3JldHVybltlLG5dfWNhdGNoKHQpe3Rocm93XCJtYWxmb3JtZWQgRFNBIHNpZ25hdHVyZVwifX0sdGhpcy5zZWxlY3RfaGFzaF9hbGdvcml0aG09ZSx0aGlzLnNpZ249dCx0aGlzLnZlcmlmeT1uLHRoaXMuZ2V0UmFuZG9tQmlnSW50ZWdlckluUmFuZ2U9cix0aGlzLmdldFJhbmRvbUJpZ0ludGVnZXI9aSx0aGlzLmdldFJhbmRvbUJ5dGVzPXN9Oy8qISBwa2NzNXBrZXktMS4wLjYuanMgKGMpIDIwMTMtMjAxNCBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuXHQgKi9cbnZhciBqcj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbihvci5BRVMsdCxlLHIpfSxlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbihvci5UcmlwbGVERVMsdCxlLHIpfSxuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW9yLmVuYy5IZXgucGFyc2UoZSkscz1vci5lbmMuSGV4LnBhcnNlKG4pLG89b3IuZW5jLkhleC5wYXJzZShyKSxhPXt9O2Eua2V5PXMsYS5pdj1vLGEuY2lwaGVydGV4dD1pO3ZhciB1PXQuZGVjcnlwdChhLHMse2l2Om99KTtyZXR1cm4gb3IuZW5jLkhleC5zdHJpbmdpZnkodSl9LHI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBvKG9yLkFFUyx0LGUsbil9LHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBvKG9yLlRyaXBsZURFUyx0LGUsbil9LG89ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9b3IuZW5jLkhleC5wYXJzZShlKSxzPW9yLmVuYy5IZXgucGFyc2Uobiksbz1vci5lbmMuSGV4LnBhcnNlKHIpLGE9dC5lbmNyeXB0KGkscyx7aXY6b30pLHU9b3IuZW5jLkhleC5wYXJzZShhLnRvU3RyaW5nKCkpLGg9b3IuZW5jLkJhc2U2NC5zdHJpbmdpZnkodSk7cmV0dXJuIGh9LGE9e1wiQUVTLTI1Ni1DQkNcIjp7cHJvYzp0LGVwcm9jOnIsa2V5bGVuOjMyLGl2bGVuOjE2fSxcIkFFUy0xOTItQ0JDXCI6e3Byb2M6dCxlcHJvYzpyLGtleWxlbjoyNCxpdmxlbjoxNn0sXCJBRVMtMTI4LUNCQ1wiOntwcm9jOnQsZXByb2M6cixrZXlsZW46MTYsaXZsZW46MTZ9LFwiREVTLUVERTMtQ0JDXCI6e3Byb2M6ZSxlcHJvYzpzLGtleWxlbjoyNCxpdmxlbjo4fX0sdT1mdW5jdGlvbih0KXtyZXR1cm4gYVt0XS5wcm9jfSxoPWZ1bmN0aW9uKHQpe3ZhciBlPW9yLmxpYi5Xb3JkQXJyYXkucmFuZG9tKHQpLG49b3IuZW5jLkhleC5zdHJpbmdpZnkoZSk7cmV0dXJuIG59LGM9ZnVuY3Rpb24odCl7dmFyIGU9e307dC5tYXRjaChuZXcgUmVnRXhwKFwiREVLLUluZm86IChbXixdKyksKFswLTlBLUZhLWZdKylcIixcIm1cIikpJiYoZS5jaXBoZXI9UmVnRXhwLiQxLGUuaXZzYWx0PVJlZ0V4cC4kMiksdC5tYXRjaChuZXcgUmVnRXhwKFwiLS0tLS1CRUdJTiAoW0EtWl0rKSBQUklWQVRFIEtFWS0tLS0tXCIpKSYmKGUudHlwZT1SZWdFeHAuJDEpO3ZhciBuPS0xLHI9MDt0LmluZGV4T2YoXCJcXHJcXG5cXHJcXG5cIikhPS0xJiYobj10LmluZGV4T2YoXCJcXHJcXG5cXHJcXG5cIikscj0yKSx0LmluZGV4T2YoXCJcXG5cXG5cIikhPS0xJiYobj10LmluZGV4T2YoXCJcXG5cXG5cIikscj0xKTt2YXIgaT10LmluZGV4T2YoXCItLS0tLUVORFwiKTtpZihuIT0tMSYmaSE9LTEpe3ZhciBzPXQuc3Vic3RyaW5nKG4rMipyLGktcik7cz1zLnJlcGxhY2UoL1xccysvZyxcIlwiKSxlLmRhdGE9c31yZXR1cm4gZX0sZj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4uc3Vic3RyaW5nKDAsMTYpLGk9b3IuZW5jLkhleC5wYXJzZShyKSxzPW9yLmVuYy5VdGY4LnBhcnNlKGUpLG89YVt0XS5rZXlsZW4rYVt0XS5pdmxlbix1PVwiXCIsaD1udWxsOzspe3ZhciBjPW9yLmFsZ28uTUQ1LmNyZWF0ZSgpO2lmKG51bGwhPWgmJmMudXBkYXRlKGgpLGMudXBkYXRlKHMpLGMudXBkYXRlKGkpLGg9Yy5maW5hbGl6ZSgpLHUrPW9yLmVuYy5IZXguc3RyaW5naWZ5KGgpLHUubGVuZ3RoPj0yKm8pYnJlYWt9dmFyIGY9e307cmV0dXJuIGYua2V5aGV4PXUuc3Vic3RyKDAsMiphW3RdLmtleWxlbiksZi5pdmhleD11LnN1YnN0cigyKmFbdF0ua2V5bGVuLDIqYVt0XS5pdmxlbiksZn0sbD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1vci5lbmMuQmFzZTY0LnBhcnNlKHQpLHM9b3IuZW5jLkhleC5zdHJpbmdpZnkoaSksbz1hW2VdLnByb2MsdT1vKHMsbixyKTtyZXR1cm4gdX0sZD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1hW2VdLmVwcm9jLHM9aSh0LG4scik7cmV0dXJuIHN9O3JldHVybnt2ZXJzaW9uOlwiMS4wLjVcIixnZXRIZXhGcm9tUEVNOmZ1bmN0aW9uKHQsZSl7dmFyIG49dDtpZihuLmluZGV4T2YoXCJCRUdJTiBcIitlKT09LTEpdGhyb3dcImNhbid0IGZpbmQgUEVNIGhlYWRlcjogXCIrZTtuPW4ucmVwbGFjZShcIi0tLS0tQkVHSU4gXCIrZStcIi0tLS0tXCIsXCJcIiksbj1uLnJlcGxhY2UoXCItLS0tLUVORCBcIitlK1wiLS0tLS1cIixcIlwiKTt2YXIgcj1uLnJlcGxhY2UoL1xccysvZyxcIlwiKSxzPWkocik7cmV0dXJuIHN9LGdldERlY3J5cHRlZEtleUhleEJ5S2V5SVY6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dShlKTtyZXR1cm4gaSh0LG4scil9LHBhcnNlUEtDUzVQRU06ZnVuY3Rpb24odCl7cmV0dXJuIGModCl9LGdldEtleUFuZFVudXNlZEl2QnlQYXNzY29kZUFuZEl2c2FsdDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGYodCxlLG4pfSxkZWNyeXB0S2V5QjY0OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBsKHQsZSxuLHIpfSxnZXREZWNyeXB0ZWRLZXlIZXg6ZnVuY3Rpb24odCxlKXt2YXIgbj1jKHQpLHI9KG4udHlwZSxuLmNpcGhlciksaT1uLml2c2FsdCxzPW4uZGF0YSxvPWYocixlLGkpLGE9by5rZXloZXgsdT1sKHMscixhLGkpO3JldHVybiB1fSxnZXRSU0FLZXlGcm9tRW5jcnlwdGVkUEtDUzVQRU06ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldERlY3J5cHRlZEtleUhleCh0LGUpLHI9bmV3IHZlO3JldHVybiByLnJlYWRQcml2YXRlS2V5RnJvbUFTTjFIZXhTdHJpbmcobikscn0sZ2V0RXJ5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleDpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1cIlwiO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZudWxsIT1ufHwobj1cIkFFUy0yNTYtQ0JDXCIpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhW25dKXRocm93XCJQS0NTNVBLRVkgdW5zdXBwb3J0ZWQgYWxnb3JpdGhtOiBcIituO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiByfHxudWxsPT1yKXt2YXIgcz1hW25dLml2bGVuLG89aChzKTtyPW8udG9VcHBlckNhc2UoKX12YXIgdT1mKG4sZSxyKSxjPXUua2V5aGV4LGw9ZCh0LG4sYyxyKSxnPWwucmVwbGFjZSgvKC57NjR9KS9nLFwiJDFcXHJcXG5cIiksaT1cIi0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS1cXHJcXG5cIjtyZXR1cm4gaSs9XCJQcm9jLVR5cGU6IDQsRU5DUllQVEVEXFxyXFxuXCIsaSs9XCJERUstSW5mbzogXCIrbitcIixcIityK1wiXFxyXFxuXCIsaSs9XCJcXHJcXG5cIixpKz1nLGkrPVwiXFxyXFxuLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS1cXHJcXG5cIn0sZ2V0RXJ5cHRlZFBLQ1M1UEVNRnJvbVJTQUtleTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1uZXcgQ3IuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6MH0pLHM9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQubn0pLG89bmV3IENyLmFzbjEuREVSSW50ZWdlcih7aW50OnQuZX0pLGE9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQuZH0pLHU9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQucH0pLGg9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQucX0pLGM9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQuZG1wMX0pLGY9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQuZG1xMX0pLGw9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnQuY29lZmZ9KSxkPW5ldyBDci5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbaSxzLG8sYSx1LGgsYyxmLGxdfSksZz1kLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5nZXRFcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KGcsZSxuLHIpfSxuZXdFbmNyeXB0ZWRQS0NTNVBFTTpmdW5jdGlvbih0LGUsbixyKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmbnVsbCE9ZXx8KGU9MTAyNCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJm51bGwhPW58fChuPVwiMTAwMDFcIik7dmFyIGk9bmV3IHZlO2kuZ2VuZXJhdGUoZSxuKTt2YXIgcz1udWxsO3JldHVybiBzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiByfHxudWxsPT1yP3RoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUlNBS2V5KHBrZXksdCk6dGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXkocGtleSx0LHIpfSxnZXRSU0FLZXlGcm9tUGxhaW5QS0NTOFBFTTpmdW5jdGlvbih0KXtpZih0Lm1hdGNoKC9FTkNSWVBURUQvKSl0aHJvd1wicGVtIHNoYWxsIGJlIG5vdCBFTkNSWVBURURcIjt2YXIgZT10aGlzLmdldEhleEZyb21QRU0odCxcIlBSSVZBVEUgS0VZXCIpLG49dGhpcy5nZXRSU0FLZXlGcm9tUGxhaW5QS0NTOEhleChlKTtyZXR1cm4gbn0sZ2V0UlNBS2V5RnJvbVBsYWluUEtDUzhIZXg6ZnVuY3Rpb24odCl7dmFyIGU9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsMCk7aWYoMyE9ZS5sZW5ndGgpdGhyb3dcIm91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMyBlbGVtZW50czogXCIrZS5sZW5ndGg7dmFyIG49T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxlWzFdKTtpZihcIjMwMGQwNjA5MmE4NjQ4ODZmNzBkMDEwMTAxMDUwMFwiIT1uKXRocm93XCJQS0NTOCBBbGdvcml0aG1JZGVudGlmaWVyIGlzIG5vdCByc2FFbmM6IFwiK247dmFyIG49T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxlWzFdKSxyPU9yLmdldEhleE9mVExWX0F0T2JqKHQsZVsyXSksaT1Pci5nZXRIZXhPZlZfQXRPYmoociwwKSxzPW5ldyB2ZTtyZXR1cm4gcy5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKGkpLHN9LHBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTODpmdW5jdGlvbih0KXt2YXIgZT17fSxuPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LDApO2lmKDIhPW4ubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwKS5pdGVtcyAhPSAyOiBcIituLmxlbmd0aDtlLmNpcGhlcnRleHQ9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsblsxXSk7dmFyIHI9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsblswXSk7aWYoMiE9ci5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMCkuaXRlbXMgIT0gMjogXCIrci5sZW5ndGg7aWYoXCIyYTg2NDg4NmY3MGQwMTA1MGRcIiE9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsclswXSkpdGhyb3dcInRoaXMgb25seSBzdXBwb3J0cyBwa2NzNVBCRVMyXCI7dmFyIGk9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsclsxXSk7aWYoMiE9ci5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xKS5pdGVtcyAhPSAyOiBcIitpLmxlbmd0aDt2YXIgcz1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxpWzFdKTtpZigyIT1zLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMSkuaXRlbXMgIT0gMjogXCIrcy5sZW5ndGg7aWYoXCIyYTg2NDg4NmY3MGQwMzA3XCIhPU9yLmdldEhleE9mVl9BdE9iaih0LHNbMF0pKXRocm93XCJ0aGlzIG9ubHkgc3VwcG9ydHMgVHJpcGxlREVTXCI7ZS5lbmNyeXB0aW9uU2NoZW1lQWxnPVwiVHJpcGxlREVTXCIsZS5lbmNyeXB0aW9uU2NoZW1lSVY9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsc1sxXSk7dmFyIG89T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsaVswXSk7aWYoMiE9by5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjApLml0ZW1zICE9IDI6IFwiK28ubGVuZ3RoO2lmKFwiMmE4NjQ4ODZmNzBkMDEwNTBjXCIhPU9yLmdldEhleE9mVl9BdE9iaih0LG9bMF0pKXRocm93XCJ0aGlzIG9ubHkgc3VwcG9ydHMgcGtjczVQQktERjJcIjt2YXIgYT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxvWzFdKTtpZihhLmxlbmd0aDwyKXRocm93XCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMS4wLjEpLml0ZW1zIDwgMjogXCIrYS5sZW5ndGg7ZS5wYmtkZjJTYWx0PU9yLmdldEhleE9mVl9BdE9iaih0LGFbMF0pO3ZhciB1PU9yLmdldEhleE9mVl9BdE9iaih0LGFbMV0pO3RyeXtlLnBia2RmMkl0ZXI9cGFyc2VJbnQodSwxNil9Y2F0Y2godCl7dGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQgcGJrZGYySXRlcjogXCIrdX1yZXR1cm4gZX0sZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtOmZ1bmN0aW9uKHQsZSl7dmFyIG49b3IuZW5jLkhleC5wYXJzZSh0LnBia2RmMlNhbHQpLHI9dC5wYmtkZjJJdGVyLGk9b3IuUEJLREYyKGUsbix7a2V5U2l6ZTo2LGl0ZXJhdGlvbnM6cn0pLHM9b3IuZW5jLkhleC5zdHJpbmdpZnkoaSk7cmV0dXJuIHN9LGdldFBsYWluUEtDUzhIZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU06ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEhleEZyb21QRU0odCxcIkVOQ1JZUFRFRCBQUklWQVRFIEtFWVwiKSxyPXRoaXMucGFyc2VIZXhPZkVuY3J5cHRlZFBLQ1M4KG4pLGk9anIuZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtKHIsZSkscz17fTtzLmNpcGhlcnRleHQ9b3IuZW5jLkhleC5wYXJzZShyLmNpcGhlcnRleHQpO3ZhciBvPW9yLmVuYy5IZXgucGFyc2UoaSksYT1vci5lbmMuSGV4LnBhcnNlKHIuZW5jcnlwdGlvblNjaGVtZUlWKSx1PW9yLlRyaXBsZURFUy5kZWNyeXB0KHMsbyx7aXY6YX0pLGg9b3IuZW5jLkhleC5zdHJpbmdpZnkodSk7cmV0dXJuIGh9LGdldFJTQUtleUZyb21FbmNyeXB0ZWRQS0NTOFBFTTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0UGxhaW5QS0NTOEhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTSh0LGUpLHI9dGhpcy5nZXRSU0FLZXlGcm9tUGxhaW5QS0NTOEhleChuKTtyZXR1cm4gcn0sZ2V0S2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRQbGFpblBLQ1M4SGV4RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKHQsZSkscj10aGlzLmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleChuKTtyZXR1cm4gcn0scGFyc2VQbGFpblByaXZhdGVQS0NTOEhleDpmdW5jdGlvbih0KXt2YXIgZT17fTtpZihlLmFsZ3BhcmFtPW51bGwsXCIzMFwiIT10LnN1YnN0cigwLDIpKXRocm93XCJtYWxmb3JtZWQgcGxhaW4gUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDEpXCI7dmFyIG49T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsMCk7aWYoMyE9bi5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBwbGFpbiBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwMilcIjtpZihcIjMwXCIhPXQuc3Vic3RyKG5bMV0sMikpdGhyb3dcIm1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwMylcIjt2YXIgcj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxuWzFdKTtpZigyIT1yLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDA0KVwiO2lmKFwiMDZcIiE9dC5zdWJzdHIoclswXSwyKSl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDA1KVwiO2lmKGUuYWxnb2lkPU9yLmdldEhleE9mVl9BdE9iaih0LHJbMF0pLFwiMDZcIj09dC5zdWJzdHIoclsxXSwyKSYmKGUuYWxncGFyYW09T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsclsxXSkpLFwiMDRcIiE9dC5zdWJzdHIoblsyXSwyKSl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDA2KVwiO3JldHVybiBlLmtleWlkeD1Pci5nZXRTdGFydFBvc09mVl9BdE9iaih0LG5bMl0pLGV9LGdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOFBFTTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEhleEZyb21QRU0odCxcIlBSSVZBVEUgS0VZXCIpLG49dGhpcy5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXgoZSk7cmV0dXJuIG59LGdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXgodCk7aWYoXCIyYTg2NDg4NmY3MGQwMTAxMDFcIj09ZS5hbGdvaWQpe3RoaXMucGFyc2VQcml2YXRlUmF3UlNBS2V5SGV4QXRPYmoodCxlKTt2YXIgbj1lLmtleSxyPW5ldyB2ZTtyZXR1cm4gci5zZXRQcml2YXRlRXgobi5uLG4uZSxuLmQsbi5wLG4ucSxuLmRwLG4uZHEsbi5jbykscn1pZihcIjJhODY0OGNlM2QwMjAxXCI9PWUuYWxnb2lkKXtpZih0aGlzLnBhcnNlUHJpdmF0ZVJhd0VDS2V5SGV4QXRPYmoodCxlKSx2b2lkIDA9PT1Dci5jcnlwdG8uT0lELm9pZGhleDJuYW1lW2UuYWxncGFyYW1dKXRocm93XCJLSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWUgdW5kZWZpbmVkOiBcIitlLmFsZ3BhcmFtO3ZhciBpPUNyLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbZS5hbGdwYXJhbV0scj1uZXcgQ3IuY3J5cHRvLkVDRFNBKHtjdXJ2ZTppLHBydjplLmtleX0pO3JldHVybiByfXRocm93XCJ1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGdvcml0aG1cIn0sZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4UEVNOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SGV4RnJvbVBFTSh0LFwiUFVCTElDIEtFWVwiKSxuPXRoaXMuZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4SGV4KGUpO3JldHVybiBufSxnZXRLZXlGcm9tUHVibGljUEtDUzhQRU06ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRIZXhGcm9tUEVNKHQsXCJQVUJMSUMgS0VZXCIpLG49dGhpcy5nZXRLZXlGcm9tUHVibGljUEtDUzhIZXgoZSk7cmV0dXJuIG59LGdldEtleUZyb21QdWJsaWNQS0NTOEhleDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcnNlUHVibGljUEtDUzhIZXgodCk7aWYoXCIyYTg2NDg4NmY3MGQwMTAxMDFcIj09ZS5hbGdvaWQpe3ZhciBuPXRoaXMucGFyc2VQdWJsaWNSYXdSU0FLZXlIZXgoZS5rZXkpLHI9bmV3IHZlO3JldHVybiByLnNldFB1YmxpYyhuLm4sbi5lKSxyfWlmKFwiMmE4NjQ4Y2UzZDAyMDFcIj09ZS5hbGdvaWQpe2lmKHZvaWQgMD09PUNyLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbZS5hbGdwYXJhbV0pdGhyb3dcIktKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZSB1bmRlZmluZWQ6IFwiK2UuYWxncGFyYW07dmFyIGk9Q3IuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtlLmFsZ3BhcmFtXSxyPW5ldyBDci5jcnlwdG8uRUNEU0Eoe2N1cnZlOmkscHViOmUua2V5fSk7cmV0dXJuIHJ9dGhyb3dcInVuc3VwcG9ydGVkIHB1YmxpYyBrZXkgYWxnb3JpdGhtXCJ9LHBhcnNlUHVibGljUmF3UlNBS2V5SGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXt9O2lmKFwiMzBcIiE9dC5zdWJzdHIoMCwyKSl0aHJvd1wibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDEpXCI7dmFyIG49T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsMCk7aWYoMiE9bi5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDAyKVwiO2lmKFwiMDJcIiE9dC5zdWJzdHIoblswXSwyKSl0aHJvd1wibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDMpXCI7aWYoZS5uPU9yLmdldEhleE9mVl9BdE9iaih0LG5bMF0pLFwiMDJcIiE9dC5zdWJzdHIoblsxXSwyKSl0aHJvd1wibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDQpXCI7cmV0dXJuIGUuZT1Pci5nZXRIZXhPZlZfQXRPYmoodCxuWzFdKSxlfSxwYXJzZVByaXZhdGVSYXdSU0FLZXlIZXhBdE9iajpmdW5jdGlvbih0LGUpe3ZhciBuPWUua2V5aWR4O2lmKFwiMzBcIiE9dC5zdWJzdHIobiwyKSl0aHJvd1wibWFsZm9ybWVkIFJTQSBwcml2YXRlIGtleShjb2RlOjAwMSlcIjt2YXIgcj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxuKTtpZig5IT1yLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFJTQSBwcml2YXRlIGtleShjb2RlOjAwMilcIjtlLmtleT17fSxlLmtleS5uPU9yLmdldEhleE9mVl9BdE9iaih0LHJbMV0pLGUua2V5LmU9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsclsyXSksZS5rZXkuZD1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzNdKSxlLmtleS5wPU9yLmdldEhleE9mVl9BdE9iaih0LHJbNF0pLGUua2V5LnE9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQscls1XSksZS5rZXkuZHA9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQscls2XSksZS5rZXkuZHE9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQscls3XSksZS5rZXkuY289T3IuZ2V0SGV4T2ZWX0F0T2JqKHQscls4XSl9LHBhcnNlUHJpdmF0ZVJhd0VDS2V5SGV4QXRPYmo6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmtleWlkeDtpZihcIjMwXCIhPXQuc3Vic3RyKG4sMikpdGhyb3dcIm1hbGZvcm1lZCBFQ0MgcHJpdmF0ZSBrZXkoY29kZTowMDEpXCI7dmFyIHI9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsbik7aWYoMyE9ci5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBFQ0MgcHJpdmF0ZSBrZXkoY29kZTowMDIpXCI7aWYoXCIwNFwiIT10LnN1YnN0cihyWzFdLDIpKXRocm93XCJtYWxmb3JtZWQgRUNDIHByaXZhdGUga2V5KGNvZGU6MDAzKVwiO2Uua2V5PU9yLmdldEhleE9mVl9BdE9iaih0LHJbMV0pfSxwYXJzZVB1YmxpY1BLQ1M4SGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXt9O2UuYWxncGFyYW09bnVsbDt2YXIgbj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCwwKTtpZigyIT1uLmxlbmd0aCl0aHJvd1wib3V0ZXIgREVSU2VxdWVuY2Ugc2hhbGwgaGF2ZSAyIGVsZW1lbnRzOiBcIituLmxlbmd0aDt2YXIgcj1uWzBdO2lmKFwiMzBcIiE9dC5zdWJzdHIociwyKSl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDEpXCI7dmFyIGk9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQscik7aWYoMiE9aS5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDAyKVwiO2lmKFwiMDZcIiE9dC5zdWJzdHIoaVswXSwyKSl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDMpXCI7aWYoZS5hbGdvaWQ9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsaVswXSksXCIwNlwiPT10LnN1YnN0cihpWzFdLDIpJiYoZS5hbGdwYXJhbT1Pci5nZXRIZXhPZlZfQXRPYmoodCxpWzFdKSksXCIwM1wiIT10LnN1YnN0cihuWzFdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwNClcIjtyZXR1cm4gZS5rZXk9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsblsxXSkuc3Vic3RyKDIpLGV9LGdldFJTQUtleUZyb21QdWJsaWNQS0NTOEhleDpmdW5jdGlvbih0KXt2YXIgZT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCwwKTtpZigyIT1lLmxlbmd0aCl0aHJvd1wib3V0ZXIgREVSU2VxdWVuY2Ugc2hhbGwgaGF2ZSAyIGVsZW1lbnRzOiBcIitlLmxlbmd0aDt2YXIgbj1Pci5nZXRIZXhPZlRMVl9BdE9iaih0LGVbMF0pO2lmKFwiMzAwZDA2MDkyYTg2NDg4NmY3MGQwMTAxMDEwNTAwXCIhPW4pdGhyb3dcIlBLQ1M4IEFsZ29yaXRobUlkIGlzIG5vdCByc2FFbmNyeXB0aW9uXCI7aWYoXCIwM1wiIT10LnN1YnN0cihlWzFdLDIpKXRocm93XCJQS0NTOCBQdWJsaWMgS2V5IGlzIG5vdCBCSVRTVFJJTkcgZW5jYXBzbGF0ZWQuXCI7dmFyIHI9T3IuZ2V0U3RhcnRQb3NPZlZfQXRPYmoodCxlWzFdKSsyO2lmKFwiMzBcIiE9dC5zdWJzdHIociwyKSl0aHJvd1wiUEtDUzggUHVibGljIEtleSBpcyBub3QgU0VRVUVOQ0UuXCI7dmFyIGk9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQscik7aWYoMiE9aS5sZW5ndGgpdGhyb3dcImlubmVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogXCIraS5sZW5ndGg7aWYoXCIwMlwiIT10LnN1YnN0cihpWzBdLDIpKXRocm93XCJOIGlzIG5vdCBBU04uMSBJTlRFR0VSXCI7aWYoXCIwMlwiIT10LnN1YnN0cihpWzFdLDIpKXRocm93XCJFIGlzIG5vdCBBU04uMSBJTlRFR0VSXCI7dmFyIHM9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsaVswXSksbz1Pci5nZXRIZXhPZlZfQXRPYmoodCxpWzFdKSxhPW5ldyB2ZTtyZXR1cm4gYS5zZXRQdWJsaWMocyxvKSxhfX19KCksSHI9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIob3IuQUVTLHQsZSxuKX0sZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIob3IuVHJpcGxlREVTLHQsZSxuKX0sbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIob3IuREVTLHQsZSxuKX0scj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1vci5lbmMuSGV4LnBhcnNlKGUpLHM9b3IuZW5jLkhleC5wYXJzZShuKSxvPW9yLmVuYy5IZXgucGFyc2UociksYT17fTthLmtleT1zLGEuaXY9byxhLmNpcGhlcnRleHQ9aTt2YXIgdT10LmRlY3J5cHQoYSxzLHtpdjpvfSk7cmV0dXJuIG9yLmVuYy5IZXguc3RyaW5naWZ5KHUpfSxzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaChvci5BRVMsdCxlLG4pfSxhPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaChvci5UcmlwbGVERVMsdCxlLG4pfSx1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaChvci5ERVMsdCxlLG4pfSxoPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW9yLmVuYy5IZXgucGFyc2UoZSkscz1vci5lbmMuSGV4LnBhcnNlKG4pLG89b3IuZW5jLkhleC5wYXJzZShyKSxhPXQuZW5jcnlwdChpLHMse2l2Om99KSx1PW9yLmVuYy5IZXgucGFyc2UoYS50b1N0cmluZygpKSxoPW9yLmVuYy5CYXNlNjQuc3RyaW5naWZ5KHUpO3JldHVybiBofSxjPXtcIkFFUy0yNTYtQ0JDXCI6e3Byb2M6dCxlcHJvYzpzLGtleWxlbjozMixpdmxlbjoxNn0sXCJBRVMtMTkyLUNCQ1wiOntwcm9jOnQsZXByb2M6cyxrZXlsZW46MjQsaXZsZW46MTZ9LFwiQUVTLTEyOC1DQkNcIjp7cHJvYzp0LGVwcm9jOnMsa2V5bGVuOjE2LGl2bGVuOjE2fSxcIkRFUy1FREUzLUNCQ1wiOntwcm9jOmUsZXByb2M6YSxrZXlsZW46MjQsaXZsZW46OH0sXCJERVMtQ0JDXCI6e3Byb2M6bixlcHJvYzp1LGtleWxlbjo4LGl2bGVuOjh9fSxmPWZ1bmN0aW9uKHQpe3JldHVybiBjW3RdLnByb2N9LGw9ZnVuY3Rpb24odCl7dmFyIGU9b3IubGliLldvcmRBcnJheS5yYW5kb20odCksbj1vci5lbmMuSGV4LnN0cmluZ2lmeShlKTtyZXR1cm4gbn0sZD1mdW5jdGlvbih0KXt2YXIgZT17fTt0Lm1hdGNoKG5ldyBSZWdFeHAoXCJERUstSW5mbzogKFteLF0rKSwoWzAtOUEtRmEtZl0rKVwiLFwibVwiKSkmJihlLmNpcGhlcj1SZWdFeHAuJDEsZS5pdnNhbHQ9UmVnRXhwLiQyKSx0Lm1hdGNoKG5ldyBSZWdFeHAoXCItLS0tLUJFR0lOIChbQS1aXSspIFBSSVZBVEUgS0VZLS0tLS1cIikpJiYoZS50eXBlPVJlZ0V4cC4kMSk7dmFyIG49LTEscj0wO3QuaW5kZXhPZihcIlxcclxcblxcclxcblwiKSE9LTEmJihuPXQuaW5kZXhPZihcIlxcclxcblxcclxcblwiKSxyPTIpLHQuaW5kZXhPZihcIlxcblxcblwiKSE9LTEmJihuPXQuaW5kZXhPZihcIlxcblxcblwiKSxyPTEpO3ZhciBpPXQuaW5kZXhPZihcIi0tLS0tRU5EXCIpO2lmKG4hPS0xJiZpIT0tMSl7dmFyIHM9dC5zdWJzdHJpbmcobisyKnIsaS1yKTtzPXMucmVwbGFjZSgvXFxzKy9nLFwiXCIpLGUuZGF0YT1zfXJldHVybiBlfSxnPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bi5zdWJzdHJpbmcoMCwxNiksaT1vci5lbmMuSGV4LnBhcnNlKHIpLHM9b3IuZW5jLlV0ZjgucGFyc2UoZSksbz1jW3RdLmtleWxlbitjW3RdLml2bGVuLGE9XCJcIix1PW51bGw7Oyl7dmFyIGg9b3IuYWxnby5NRDUuY3JlYXRlKCk7aWYobnVsbCE9dSYmaC51cGRhdGUodSksaC51cGRhdGUocyksaC51cGRhdGUoaSksdT1oLmZpbmFsaXplKCksYSs9b3IuZW5jLkhleC5zdHJpbmdpZnkodSksYS5sZW5ndGg+PTIqbylicmVha312YXIgZj17fTtyZXR1cm4gZi5rZXloZXg9YS5zdWJzdHIoMCwyKmNbdF0ua2V5bGVuKSxmLml2aGV4PWEuc3Vic3RyKDIqY1t0XS5rZXlsZW4sMipjW3RdLml2bGVuKSxmfSxwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW9yLmVuYy5CYXNlNjQucGFyc2UodCkscz1vci5lbmMuSGV4LnN0cmluZ2lmeShpKSxvPWNbZV0ucHJvYyxhPW8ocyxuLHIpO3JldHVybiBhfSx5PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWNbZV0uZXByb2Mscz1pKHQsbixyKTtyZXR1cm4gc307cmV0dXJue3ZlcnNpb246XCIxLjAuMFwiLGdldEhleEZyb21QRU06ZnVuY3Rpb24odCxlKXt2YXIgbj10O2lmKG4uaW5kZXhPZihcIi0tLS0tQkVHSU4gXCIpPT0tMSl0aHJvd1wiY2FuJ3QgZmluZCBQRU0gaGVhZGVyOiBcIitlO1wic3RyaW5nXCI9PXR5cGVvZiBlJiZcIlwiIT1lPyhuPW4ucmVwbGFjZShcIi0tLS0tQkVHSU4gXCIrZStcIi0tLS0tXCIsXCJcIiksbj1uLnJlcGxhY2UoXCItLS0tLUVORCBcIitlK1wiLS0tLS1cIixcIlwiKSk6KG49bi5yZXBsYWNlKC8tLS0tLUJFR0lOIFteLV0rLS0tLS0vLFwiXCIpLG49bi5yZXBsYWNlKC8tLS0tLUVORCBbXi1dKy0tLS0tLyxcIlwiKSk7dmFyIHI9bi5yZXBsYWNlKC9cXHMrL2csXCJcIikscz1pKHIpO3JldHVybiBzfSxnZXREZWNyeXB0ZWRLZXlIZXhCeUtleUlWOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWYoZSk7cmV0dXJuIGkodCxuLHIpfSxwYXJzZVBLQ1M1UEVNOmZ1bmN0aW9uKHQpe3JldHVybiBkKHQpfSxnZXRLZXlBbmRVbnVzZWRJdkJ5UGFzc2NvZGVBbmRJdnNhbHQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBnKHQsZSxuKX0sZGVjcnlwdEtleUI2NDpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gcCh0LGUsbixyKX0sZ2V0RGVjcnlwdGVkS2V5SGV4OmZ1bmN0aW9uKHQsZSl7dmFyIG49ZCh0KSxyPShuLnR5cGUsbi5jaXBoZXIpLGk9bi5pdnNhbHQscz1uLmRhdGEsbz1nKHIsZSxpKSxhPW8ua2V5aGV4LHU9cChzLHIsYSxpKTtyZXR1cm4gdX0sZ2V0UlNBS2V5RnJvbUVuY3J5cHRlZFBLQ1M1UEVNOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXREZWNyeXB0ZWRLZXlIZXgodCxlKSxyPW5ldyB2ZTtyZXR1cm4gci5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKG4pLHJ9LGdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleDpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBzPVwiXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJm51bGwhPXJ8fChyPVwiQUVTLTI1Ni1DQkNcIiksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGNbcl0pdGhyb3dcIktFWVVUSUwgdW5zdXBwb3J0ZWQgYWxnb3JpdGhtOiBcIityO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpfHxudWxsPT1pKXt2YXIgbz1jW3JdLml2bGVuLGE9bChvKTtpPWEudG9VcHBlckNhc2UoKX12YXIgdT1nKHIsbixpKSxoPXUua2V5aGV4LGY9eShlLHIsaCxpKSxkPWYucmVwbGFjZSgvKC57NjR9KS9nLFwiJDFcXHJcXG5cIikscz1cIi0tLS0tQkVHSU4gXCIrdCtcIiBQUklWQVRFIEtFWS0tLS0tXFxyXFxuXCI7cmV0dXJuIHMrPVwiUHJvYy1UeXBlOiA0LEVOQ1JZUFRFRFxcclxcblwiLHMrPVwiREVLLUluZm86IFwiK3IrXCIsXCIraStcIlxcclxcblwiLHMrPVwiXFxyXFxuXCIscys9ZCxzKz1cIlxcclxcbi0tLS0tRU5EIFwiK3QrXCIgUFJJVkFURSBLRVktLS0tLVxcclxcblwifSxnZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXk6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bmV3IENyLmFzbjEuREVSSW50ZWdlcih7aW50OjB9KSxzPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0Lm59KSxvPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2ludDp0LmV9KSxhPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0LmR9KSx1PW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0LnB9KSxoPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0LnF9KSxjPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0LmRtcDF9KSxmPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0LmRtcTF9KSxsPW5ldyBDci5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0LmNvZWZmfSksZD1uZXcgQ3IuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W2kscyxvLGEsdSxoLGMsZixsXX0pLGc9ZC5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiUlNBXCIsZyxlLG4scil9LG5ld0VuY3J5cHRlZFBLQ1M1UEVNOmZ1bmN0aW9uKHQsZSxuLHIpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZudWxsIT1lfHwoZT0xMDI0KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgbiYmbnVsbCE9bnx8KG49XCIxMDAwMVwiKTt2YXIgaT1uZXcgdmU7aS5nZW5lcmF0ZShlLG4pO3ZhciBzPW51bGw7cmV0dXJuIHM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHJ8fG51bGw9PXI/dGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXkoaSx0KTp0aGlzLmdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVJTQUtleShpLHQscil9LGdldFJTQUtleUZyb21QbGFpblBLQ1M4UEVNOmZ1bmN0aW9uKHQpe2lmKHQubWF0Y2goL0VOQ1JZUFRFRC8pKXRocm93XCJwZW0gc2hhbGwgYmUgbm90IEVOQ1JZUFRFRFwiO3ZhciBlPXRoaXMuZ2V0SGV4RnJvbVBFTSh0LFwiUFJJVkFURSBLRVlcIiksbj10aGlzLmdldFJTQUtleUZyb21QbGFpblBLQ1M4SGV4KGUpO3JldHVybiBufSxnZXRSU0FLZXlGcm9tUGxhaW5QS0NTOEhleDpmdW5jdGlvbih0KXt2YXIgZT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCwwKTtpZigzIT1lLmxlbmd0aCl0aHJvd1wib3V0ZXIgREVSU2VxdWVuY2Ugc2hhbGwgaGF2ZSAzIGVsZW1lbnRzOiBcIitlLmxlbmd0aDt2YXIgbj1Pci5nZXRIZXhPZlRMVl9BdE9iaih0LGVbMV0pO2lmKFwiMzAwZDA2MDkyYTg2NDg4NmY3MGQwMTAxMDEwNTAwXCIhPW4pdGhyb3dcIlBLQ1M4IEFsZ29yaXRobUlkZW50aWZpZXIgaXMgbm90IHJzYUVuYzogXCIrbjt2YXIgbj1Pci5nZXRIZXhPZlRMVl9BdE9iaih0LGVbMV0pLHI9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoodCxlWzJdKSxpPU9yLmdldEhleE9mVl9BdE9iaihyLDApLHM9bmV3IHZlO3JldHVybiBzLnJlYWRQcml2YXRlS2V5RnJvbUFTTjFIZXhTdHJpbmcoaSksc30scGFyc2VIZXhPZkVuY3J5cHRlZFBLQ1M4OmZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsMCk7aWYoMiE9bi5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDApLml0ZW1zICE9IDI6IFwiK24ubGVuZ3RoO2UuY2lwaGVydGV4dD1Pci5nZXRIZXhPZlZfQXRPYmoodCxuWzFdKTt2YXIgcj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxuWzBdKTtpZigyIT1yLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wKS5pdGVtcyAhPSAyOiBcIityLmxlbmd0aDtpZihcIjJhODY0ODg2ZjcwZDAxMDUwZFwiIT1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzBdKSl0aHJvd1widGhpcyBvbmx5IHN1cHBvcnRzIHBrY3M1UEJFUzJcIjt2YXIgaT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxyWzFdKTtpZigyIT1yLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEpLml0ZW1zICE9IDI6IFwiK2kubGVuZ3RoO3ZhciBzPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LGlbMV0pO2lmKDIhPXMubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMS4xKS5pdGVtcyAhPSAyOiBcIitzLmxlbmd0aDtpZihcIjJhODY0ODg2ZjcwZDAzMDdcIiE9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsc1swXSkpdGhyb3dcInRoaXMgb25seSBzdXBwb3J0cyBUcmlwbGVERVNcIjtlLmVuY3J5cHRpb25TY2hlbWVBbGc9XCJUcmlwbGVERVNcIixlLmVuY3J5cHRpb25TY2hlbWVJVj1Pci5nZXRIZXhPZlZfQXRPYmoodCxzWzFdKTt2YXIgbz1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxpWzBdKTtpZigyIT1vLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMCkuaXRlbXMgIT0gMjogXCIrby5sZW5ndGg7aWYoXCIyYTg2NDg4NmY3MGQwMTA1MGNcIiE9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsb1swXSkpdGhyb3dcInRoaXMgb25seSBzdXBwb3J0cyBwa2NzNVBCS0RGMlwiO3ZhciBhPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LG9bMV0pO2lmKGEubGVuZ3RoPDIpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjAuMSkuaXRlbXMgPCAyOiBcIithLmxlbmd0aDtlLnBia2RmMlNhbHQ9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsYVswXSk7dmFyIHU9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsYVsxXSk7dHJ5e2UucGJrZGYySXRlcj1wYXJzZUludCh1LDE2KX1jYXRjaCh0KXt0aHJvd1wibWFsZm9ybWVkIGZvcm1hdCBwYmtkZjJJdGVyOiBcIit1fXJldHVybiBlfSxnZXRQQktERjJLZXlIZXhGcm9tUGFyYW06ZnVuY3Rpb24odCxlKXt2YXIgbj1vci5lbmMuSGV4LnBhcnNlKHQucGJrZGYyU2FsdCkscj10LnBia2RmMkl0ZXIsaT1vci5QQktERjIoZSxuLHtrZXlTaXplOjYsaXRlcmF0aW9uczpyfSkscz1vci5lbmMuSGV4LnN0cmluZ2lmeShpKTtyZXR1cm4gc30sZ2V0UGxhaW5QS0NTOEhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0SGV4RnJvbVBFTSh0LFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIpLHI9dGhpcy5wYXJzZUhleE9mRW5jcnlwdGVkUEtDUzgobiksaT1Ici5nZXRQQktERjJLZXlIZXhGcm9tUGFyYW0ocixlKSxzPXt9O3MuY2lwaGVydGV4dD1vci5lbmMuSGV4LnBhcnNlKHIuY2lwaGVydGV4dCk7dmFyIG89b3IuZW5jLkhleC5wYXJzZShpKSxhPW9yLmVuYy5IZXgucGFyc2Uoci5lbmNyeXB0aW9uU2NoZW1lSVYpLHU9b3IuVHJpcGxlREVTLmRlY3J5cHQocyxvLHtpdjphfSksaD1vci5lbmMuSGV4LnN0cmluZ2lmeSh1KTtyZXR1cm4gaH0sZ2V0UlNBS2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRQbGFpblBLQ1M4SGV4RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKHQsZSkscj10aGlzLmdldFJTQUtleUZyb21QbGFpblBLQ1M4SGV4KG4pO3JldHVybiByfSxnZXRLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU06ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldFBsYWluUEtDUzhIZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU0odCxlKSxyPXRoaXMuZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4KG4pO3JldHVybiByfSxwYXJzZVBsYWluUHJpdmF0ZVBLQ1M4SGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXt9O2lmKGUuYWxncGFyYW09bnVsbCxcIjMwXCIhPXQuc3Vic3RyKDAsMikpdGhyb3dcIm1hbGZvcm1lZCBwbGFpbiBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwMSlcIjt2YXIgbj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCwwKTtpZigzIT1uLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIHBsYWluIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDAyKVwiO2lmKFwiMzBcIiE9dC5zdWJzdHIoblsxXSwyKSl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDAzKVwiO3ZhciByPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LG5bMV0pO2lmKDIhPXIubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDQpXCI7aWYoXCIwNlwiIT10LnN1YnN0cihyWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDUpXCI7aWYoZS5hbGdvaWQ9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsclswXSksXCIwNlwiPT10LnN1YnN0cihyWzFdLDIpJiYoZS5hbGdwYXJhbT1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzFdKSksXCIwNFwiIT10LnN1YnN0cihuWzJdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDYpXCI7cmV0dXJuIGUua2V5aWR4PU9yLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKHQsblsyXSksZX0sZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SGV4RnJvbVBFTSh0LFwiUFJJVkFURSBLRVlcIiksbj10aGlzLmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleChlKTtyZXR1cm4gbn0sZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyc2VQbGFpblByaXZhdGVQS0NTOEhleCh0KTtpZihcIjJhODY0ODg2ZjcwZDAxMDEwMVwiPT1lLmFsZ29pZCl7dGhpcy5wYXJzZVByaXZhdGVSYXdSU0FLZXlIZXhBdE9iaih0LGUpO3ZhciBuPWUua2V5LHI9bmV3IHZlO3JldHVybiByLnNldFByaXZhdGVFeChuLm4sbi5lLG4uZCxuLnAsbi5xLG4uZHAsbi5kcSxuLmNvKSxyfWlmKFwiMmE4NjQ4Y2UzZDAyMDFcIj09ZS5hbGdvaWQpe2lmKHRoaXMucGFyc2VQcml2YXRlUmF3RUNLZXlIZXhBdE9iaih0LGUpLHZvaWQgMD09PUNyLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbZS5hbGdwYXJhbV0pdGhyb3dcIktKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZSB1bmRlZmluZWQ6IFwiK2UuYWxncGFyYW07dmFyIGk9Q3IuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtlLmFsZ3BhcmFtXSxyPW5ldyBDci5jcnlwdG8uRUNEU0Eoe2N1cnZlOml9KTtyZXR1cm4gci5zZXRQdWJsaWNLZXlIZXgoZS5wdWJrZXkpLHIuc2V0UHJpdmF0ZUtleUhleChlLmtleSksci5pc1B1YmxpYz0hMSxyfWlmKFwiMmE4NjQ4Y2UzODA0MDFcIj09ZS5hbGdvaWQpe3ZhciBzPU9yLmdldFZieUxpc3QodCwwLFsxLDEsMF0sXCIwMlwiKSxhPU9yLmdldFZieUxpc3QodCwwLFsxLDEsMV0sXCIwMlwiKSx1PU9yLmdldFZieUxpc3QodCwwLFsxLDEsMl0sXCIwMlwiKSxoPU9yLmdldFZieUxpc3QodCwwLFsyLDBdLFwiMDJcIiksYz1uZXcgbyhzLDE2KSxmPW5ldyBvKGEsMTYpLGw9bmV3IG8odSwxNiksZD1uZXcgbyhoLDE2KSxyPW5ldyBDci5jcnlwdG8uRFNBO3JldHVybiByLnNldFByaXZhdGUoYyxmLGwsbnVsbCxkKSxyfXRocm93XCJ1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGdvcml0aG1cIn0sZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4UEVNOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SGV4RnJvbVBFTSh0LFwiUFVCTElDIEtFWVwiKSxuPXRoaXMuZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4SGV4KGUpO3JldHVybiBufSxnZXRLZXlGcm9tUHVibGljUEtDUzhQRU06ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRIZXhGcm9tUEVNKHQsXCJQVUJMSUMgS0VZXCIpLG49dGhpcy5nZXRLZXlGcm9tUHVibGljUEtDUzhIZXgoZSk7cmV0dXJuIG59LGdldEtleUZyb21QdWJsaWNQS0NTOEhleDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcnNlUHVibGljUEtDUzhIZXgodCk7aWYoXCIyYTg2NDg4NmY3MGQwMTAxMDFcIj09ZS5hbGdvaWQpe3ZhciBuPXRoaXMucGFyc2VQdWJsaWNSYXdSU0FLZXlIZXgoZS5rZXkpLHI9bmV3IHZlO3JldHVybiByLnNldFB1YmxpYyhuLm4sbi5lKSxyfWlmKFwiMmE4NjQ4Y2UzZDAyMDFcIj09ZS5hbGdvaWQpe2lmKHZvaWQgMD09PUNyLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbZS5hbGdwYXJhbV0pdGhyb3dcIktKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZSB1bmRlZmluZWQ6IFwiK2UuYWxncGFyYW07dmFyIGk9Q3IuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtlLmFsZ3BhcmFtXSxyPW5ldyBDci5jcnlwdG8uRUNEU0Eoe2N1cnZlOmkscHViOmUua2V5fSk7cmV0dXJuIHJ9aWYoXCIyYTg2NDhjZTM4MDQwMVwiPT1lLmFsZ29pZCl7dmFyIHM9ZS5hbGdwYXJhbSxhPU9yLmdldEhleE9mVl9BdE9iaihlLmtleSwwKSxyPW5ldyBDci5jcnlwdG8uRFNBO3JldHVybiByLnNldFB1YmxpYyhuZXcgbyhzLnAsMTYpLG5ldyBvKHMucSwxNiksbmV3IG8ocy5nLDE2KSxuZXcgbyhhLDE2KSkscn10aHJvd1widW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGdvcml0aG1cIn0scGFyc2VQdWJsaWNSYXdSU0FLZXlIZXg6ZnVuY3Rpb24odCl7dmFyIGU9e307aWYoXCIzMFwiIT10LnN1YnN0cigwLDIpKXRocm93XCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMSlcIjt2YXIgbj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCwwKTtpZigyIT1uLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDIpXCI7aWYoXCIwMlwiIT10LnN1YnN0cihuWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMylcIjtpZihlLm49T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsblswXSksXCIwMlwiIT10LnN1YnN0cihuWzFdLDIpKXRocm93XCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwNClcIjtyZXR1cm4gZS5lPU9yLmdldEhleE9mVl9BdE9iaih0LG5bMV0pLGV9LHBhcnNlUHJpdmF0ZVJhd1JTQUtleUhleEF0T2JqOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5rZXlpZHg7aWYoXCIzMFwiIT10LnN1YnN0cihuLDIpKXRocm93XCJtYWxmb3JtZWQgUlNBIHByaXZhdGUga2V5KGNvZGU6MDAxKVwiO3ZhciByPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LG4pO2lmKDkhPXIubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgUlNBIHByaXZhdGUga2V5KGNvZGU6MDAyKVwiO2Uua2V5PXt9LGUua2V5Lm49T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsclsxXSksZS5rZXkuZT1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzJdKSxlLmtleS5kPU9yLmdldEhleE9mVl9BdE9iaih0LHJbM10pLGUua2V5LnA9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQscls0XSksZS5rZXkucT1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzVdKSxlLmtleS5kcD1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzZdKSxlLmtleS5kcT1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzddKSxlLmtleS5jbz1Pci5nZXRIZXhPZlZfQXRPYmoodCxyWzhdKX0scGFyc2VQcml2YXRlUmF3RUNLZXlIZXhBdE9iajpmdW5jdGlvbih0LGUpe3ZhciBuPWUua2V5aWR4LHI9T3IuZ2V0VmJ5TGlzdCh0LG4sWzFdLFwiMDRcIiksaT1Pci5nZXRWYnlMaXN0KHQsbixbMiwwXSxcIjAzXCIpLnN1YnN0cigyKTtlLmtleT1yLGUucHVia2V5PWl9LHBhcnNlUHVibGljUEtDUzhIZXg6ZnVuY3Rpb24odCl7dmFyIGU9e307ZS5hbGdwYXJhbT1udWxsO3ZhciBuPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LDApO2lmKDIhPW4ubGVuZ3RoKXRocm93XCJvdXRlciBERVJTZXF1ZW5jZSBzaGFsbCBoYXZlIDIgZWxlbWVudHM6IFwiK24ubGVuZ3RoO3ZhciByPW5bMF07aWYoXCIzMFwiIT10LnN1YnN0cihyLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMSlcIjt2YXIgaT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxyKTtpZigyIT1pLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDIpXCI7aWYoXCIwNlwiIT10LnN1YnN0cihpWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMylcIjtpZihlLmFsZ29pZD1Pci5nZXRIZXhPZlZfQXRPYmoodCxpWzBdKSxcIjA2XCI9PXQuc3Vic3RyKGlbMV0sMik/ZS5hbGdwYXJhbT1Pci5nZXRIZXhPZlZfQXRPYmoodCxpWzFdKTpcIjMwXCI9PXQuc3Vic3RyKGlbMV0sMikmJihlLmFsZ3BhcmFtPXt9LGUuYWxncGFyYW0ucD1Pci5nZXRWYnlMaXN0KHQsaVsxXSxbMF0sXCIwMlwiKSxlLmFsZ3BhcmFtLnE9T3IuZ2V0VmJ5TGlzdCh0LGlbMV0sWzFdLFwiMDJcIiksZS5hbGdwYXJhbS5nPU9yLmdldFZieUxpc3QodCxpWzFdLFsyXSxcIjAyXCIpKSxcIjAzXCIhPXQuc3Vic3RyKG5bMV0sMikpdGhyb3dcIm1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDA0KVwiO3JldHVybiBlLmtleT1Pci5nZXRIZXhPZlZfQXRPYmoodCxuWzFdKS5zdWJzdHIoMiksZX0sZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4SGV4OmZ1bmN0aW9uKHQpe3ZhciBlPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LDApO2lmKDIhPWUubGVuZ3RoKXRocm93XCJvdXRlciBERVJTZXF1ZW5jZSBzaGFsbCBoYXZlIDIgZWxlbWVudHM6IFwiK2UubGVuZ3RoO3ZhciBuPU9yLmdldEhleE9mVExWX0F0T2JqKHQsZVswXSk7aWYoXCIzMDBkMDYwOTJhODY0ODg2ZjcwZDAxMDEwMTA1MDBcIiE9bil0aHJvd1wiUEtDUzggQWxnb3JpdGhtSWQgaXMgbm90IHJzYUVuY3J5cHRpb25cIjtpZihcIjAzXCIhPXQuc3Vic3RyKGVbMV0sMikpdGhyb3dcIlBLQ1M4IFB1YmxpYyBLZXkgaXMgbm90IEJJVFNUUklORyBlbmNhcHNsYXRlZC5cIjt2YXIgcj1Pci5nZXRTdGFydFBvc09mVl9BdE9iaih0LGVbMV0pKzI7aWYoXCIzMFwiIT10LnN1YnN0cihyLDIpKXRocm93XCJQS0NTOCBQdWJsaWMgS2V5IGlzIG5vdCBTRVFVRU5DRS5cIjt2YXIgaT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxyKTtpZigyIT1pLmxlbmd0aCl0aHJvd1wiaW5uZXIgREVSU2VxdWVuY2Ugc2hhbGwgaGF2ZSAyIGVsZW1lbnRzOiBcIitpLmxlbmd0aDtpZihcIjAyXCIhPXQuc3Vic3RyKGlbMF0sMikpdGhyb3dcIk4gaXMgbm90IEFTTi4xIElOVEVHRVJcIjtpZihcIjAyXCIhPXQuc3Vic3RyKGlbMV0sMikpdGhyb3dcIkUgaXMgbm90IEFTTi4xIElOVEVHRVJcIjt2YXIgcz1Pci5nZXRIZXhPZlZfQXRPYmoodCxpWzBdKSxvPU9yLmdldEhleE9mVl9BdE9iaih0LGlbMV0pLGE9bmV3IHZlO3JldHVybiBhLnNldFB1YmxpYyhzLG8pLGF9fX0oKTtIci5nZXRLZXk9ZnVuY3Rpb24odCxlLG4pe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB2ZSYmdCBpbnN0YW5jZW9mIHZlKXJldHVybiB0O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5jcnlwdG8uRUNEU0EmJnQgaW5zdGFuY2VvZiBDci5jcnlwdG8uRUNEU0EpcmV0dXJuIHQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmNyeXB0by5EU0EmJnQgaW5zdGFuY2VvZiBDci5jcnlwdG8uRFNBKXJldHVybiB0O2lmKHZvaWQgMCE9PXQuY3VydmUmJnZvaWQgMCE9PXQueHkmJnZvaWQgMD09PXQuZClyZXR1cm4gbmV3IENyLmNyeXB0by5FQ0RTQSh7cHViOnQueHksY3VydmU6dC5jdXJ2ZX0pO2lmKHZvaWQgMCE9PXQuY3VydmUmJnZvaWQgMCE9PXQuZClyZXR1cm4gbmV3IENyLmNyeXB0by5FQ0RTQSh7cHJ2OnQuZCxjdXJ2ZTp0LmN1cnZlfSk7aWYodm9pZCAwPT09dC5rdHkmJnZvaWQgMCE9PXQubiYmdm9pZCAwIT09dC5lJiZ2b2lkIDA9PT10LmQpe3ZhciByPW5ldyB2ZTtyZXR1cm4gci5zZXRQdWJsaWModC5uLHQuZSkscn1pZih2b2lkIDA9PT10Lmt0eSYmdm9pZCAwIT09dC5uJiZ2b2lkIDAhPT10LmUmJnZvaWQgMCE9PXQuZCYmdm9pZCAwIT09dC5wJiZ2b2lkIDAhPT10LnEmJnZvaWQgMCE9PXQuZHAmJnZvaWQgMCE9PXQuZHEmJnZvaWQgMCE9PXQuY28mJnZvaWQgMD09PXQucWkpe3ZhciByPW5ldyB2ZTtyZXR1cm4gci5zZXRQcml2YXRlRXgodC5uLHQuZSx0LmQsdC5wLHQucSx0LmRwLHQuZHEsdC5jbykscn1pZih2b2lkIDA9PT10Lmt0eSYmdm9pZCAwIT09dC5uJiZ2b2lkIDAhPT10LmUmJnZvaWQgMCE9PXQuZCYmdm9pZCAwPT09dC5wKXt2YXIgcj1uZXcgdmU7cmV0dXJuIHIuc2V0UHJpdmF0ZSh0Lm4sdC5lLHQuZCkscn1pZih2b2lkIDAhPT10LnAmJnZvaWQgMCE9PXQucSYmdm9pZCAwIT09dC5nJiZ2b2lkIDAhPT10LnkmJnZvaWQgMD09PXQueCl7dmFyIHI9bmV3IENyLmNyeXB0by5EU0E7cmV0dXJuIHIuc2V0UHVibGljKHQucCx0LnEsdC5nLHQueSkscn1pZih2b2lkIDAhPT10LnAmJnZvaWQgMCE9PXQucSYmdm9pZCAwIT09dC5nJiZ2b2lkIDAhPT10LnkmJnZvaWQgMCE9PXQueCl7dmFyIHI9bmV3IENyLmNyeXB0by5EU0E7cmV0dXJuIHIuc2V0UHJpdmF0ZSh0LnAsdC5xLHQuZyx0LnksdC54KSxyfWlmKFwiUlNBXCI9PT10Lmt0eSYmdm9pZCAwIT09dC5uJiZ2b2lkIDAhPT10LmUmJnZvaWQgMD09PXQuZCl7dmFyIHI9bmV3IHZlO3JldHVybiByLnNldFB1YmxpYyhwbih0Lm4pLHBuKHQuZSkpLHJ9aWYoXCJSU0FcIj09PXQua3R5JiZ2b2lkIDAhPT10Lm4mJnZvaWQgMCE9PXQuZSYmdm9pZCAwIT09dC5kJiZ2b2lkIDAhPT10LnAmJnZvaWQgMCE9PXQucSYmdm9pZCAwIT09dC5kcCYmdm9pZCAwIT09dC5kcSYmdm9pZCAwIT09dC5xaSl7dmFyIHI9bmV3IHZlO3JldHVybiByLnNldFByaXZhdGVFeChwbih0Lm4pLHBuKHQuZSkscG4odC5kKSxwbih0LnApLHBuKHQucSkscG4odC5kcCkscG4odC5kcSkscG4odC5xaSkpLHJ9aWYoXCJSU0FcIj09PXQua3R5JiZ2b2lkIDAhPT10Lm4mJnZvaWQgMCE9PXQuZSYmdm9pZCAwIT09dC5kKXt2YXIgcj1uZXcgdmU7cmV0dXJuIHIuc2V0UHJpdmF0ZShwbih0Lm4pLHBuKHQuZSkscG4odC5kKSkscn1pZihcIkVDXCI9PT10Lmt0eSYmdm9pZCAwIT09dC5jcnYmJnZvaWQgMCE9PXQueCYmdm9pZCAwIT09dC55JiZ2b2lkIDA9PT10LmQpe3ZhciBpPW5ldyBDci5jcnlwdG8uRUNEU0Eoe2N1cnZlOnQuY3J2fSkscz1pLmVjcGFyYW1zLmtleWxlbi80LGE9KFwiMDAwMDAwMDAwMFwiK3BuKHQueCkpLnNsaWNlKC1zKSx1PShcIjAwMDAwMDAwMDBcIitwbih0LnkpKS5zbGljZSgtcyksaD1cIjA0XCIrYSt1O3JldHVybiBpLnNldFB1YmxpY0tleUhleChoKSxpfWlmKFwiRUNcIj09PXQua3R5JiZ2b2lkIDAhPT10LmNydiYmdm9pZCAwIT09dC54JiZ2b2lkIDAhPT10LnkmJnZvaWQgMCE9PXQuZCl7dmFyIGk9bmV3IENyLmNyeXB0by5FQ0RTQSh7Y3VydmU6dC5jcnZ9KSxzPWkuZWNwYXJhbXMua2V5bGVuLzQsYT0oXCIwMDAwMDAwMDAwXCIrcG4odC54KSkuc2xpY2UoLXMpLHU9KFwiMDAwMDAwMDAwMFwiK3BuKHQueSkpLnNsaWNlKC1zKSxoPVwiMDRcIithK3UsYz0oXCIwMDAwMDAwMDAwXCIrcG4odC5kKSkuc2xpY2UoLXMpO3JldHVybiBpLnNldFB1YmxpY0tleUhleChoKSxpLnNldFByaXZhdGVLZXlIZXgoYyksaX1pZih0LmluZGV4T2YoXCItRU5EIENFUlRJRklDQVRFLVwiLDApIT0tMXx8dC5pbmRleE9mKFwiLUVORCBYNTA5IENFUlRJRklDQVRFLVwiLDApIT0tMXx8dC5pbmRleE9mKFwiLUVORCBUUlVTVEVEIENFUlRJRklDQVRFLVwiLDApIT0tMSlyZXR1cm4gJG4uZ2V0UHVibGljS2V5RnJvbUNlcnRQRU0odCk7aWYoXCJwa2NzOHB1YlwiPT09bilyZXR1cm4gSHIuZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4SGV4KHQpO2lmKHQuaW5kZXhPZihcIi1FTkQgUFVCTElDIEtFWS1cIikhPS0xKXJldHVybiBIci5nZXRLZXlGcm9tUHVibGljUEtDUzhQRU0odCk7aWYoXCJwa2NzNXBydlwiPT09bil7dmFyIHI9bmV3IHZlO3JldHVybiByLnJlYWRQcml2YXRlS2V5RnJvbUFTTjFIZXhTdHJpbmcodCkscn1pZihcInBrY3M1cHJ2XCI9PT1uKXt2YXIgcj1uZXcgdmU7cmV0dXJuIHIucmVhZFByaXZhdGVLZXlGcm9tQVNOMUhleFN0cmluZyh0KSxyfWlmKHQuaW5kZXhPZihcIi1FTkQgUlNBIFBSSVZBVEUgS0VZLVwiKSE9LTEmJnQuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpPT0tMSl7dmFyIGY9SHIuZ2V0SGV4RnJvbVBFTSh0LFwiUlNBIFBSSVZBVEUgS0VZXCIpO3JldHVybiBIci5nZXRLZXkoZixudWxsLFwicGtjczVwcnZcIil9aWYodC5pbmRleE9mKFwiLUVORCBEU0EgUFJJVkFURSBLRVktXCIpIT0tMSYmdC5pbmRleE9mKFwiNCxFTkNSWVBURURcIik9PS0xKXt2YXIgbD10aGlzLmdldEhleEZyb21QRU0odCxcIkRTQSBQUklWQVRFIEtFWVwiKSxkPU9yLmdldFZieUxpc3QobCwwLFsxXSxcIjAyXCIpLGc9T3IuZ2V0VmJ5TGlzdChsLDAsWzJdLFwiMDJcIikscD1Pci5nZXRWYnlMaXN0KGwsMCxbM10sXCIwMlwiKSx5PU9yLmdldFZieUxpc3QobCwwLFs0XSxcIjAyXCIpLHY9T3IuZ2V0VmJ5TGlzdChsLDAsWzVdLFwiMDJcIikscj1uZXcgQ3IuY3J5cHRvLkRTQTtyZXR1cm4gci5zZXRQcml2YXRlKG5ldyBvKGQsMTYpLG5ldyBvKGcsMTYpLG5ldyBvKHAsMTYpLG5ldyBvKHksMTYpLG5ldyBvKHYsMTYpKSxyfWlmKHQuaW5kZXhPZihcIi1FTkQgUFJJVkFURSBLRVktXCIpIT0tMSlyZXR1cm4gSHIuZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNKHQpO2lmKHQuaW5kZXhPZihcIi1FTkQgUlNBIFBSSVZBVEUgS0VZLVwiKSE9LTEmJnQuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpIT0tMSlyZXR1cm4gSHIuZ2V0UlNBS2V5RnJvbUVuY3J5cHRlZFBLQ1M1UEVNKHQsZSk7aWYodC5pbmRleE9mKFwiLUVORCBFQyBQUklWQVRFIEtFWS1cIikhPS0xJiZ0LmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSE9LTEpe3ZhciBsPUhyLmdldERlY3J5cHRlZEtleUhleCh0LGUpLHI9T3IuZ2V0VmJ5TGlzdChsLDAsWzFdLFwiMDRcIiksbT1Pci5nZXRWYnlMaXN0KGwsMCxbMiwwXSxcIjA2XCIpLFM9T3IuZ2V0VmJ5TGlzdChsLDAsWzMsMF0sXCIwM1wiKS5zdWJzdHIoMiksYj1cIlwiO2lmKHZvaWQgMD09PUNyLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbbV0pdGhyb3dcInVuZGVmaW5lZCBPSUQoaGV4KSBpbiBLSlVSLmNyeXB0by5PSUQ6IFwiK207Yj1Dci5jcnlwdG8uT0lELm9pZGhleDJuYW1lW21dO3ZhciBpPW5ldyBDci5jcnlwdG8uRUNEU0Eoe25hbWU6Yn0pO3JldHVybiBpLnNldFB1YmxpY0tleUhleChTKSxpLnNldFByaXZhdGVLZXlIZXgociksaS5pc1B1YmxpYz0hMSxpfWlmKHQuaW5kZXhPZihcIi1FTkQgRFNBIFBSSVZBVEUgS0VZLVwiKSE9LTEmJnQuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpIT0tMSl7dmFyIGw9SHIuZ2V0RGVjcnlwdGVkS2V5SGV4KHQsZSksZD1Pci5nZXRWYnlMaXN0KGwsMCxbMV0sXCIwMlwiKSxnPU9yLmdldFZieUxpc3QobCwwLFsyXSxcIjAyXCIpLHA9T3IuZ2V0VmJ5TGlzdChsLDAsWzNdLFwiMDJcIikseT1Pci5nZXRWYnlMaXN0KGwsMCxbNF0sXCIwMlwiKSx2PU9yLmdldFZieUxpc3QobCwwLFs1XSxcIjAyXCIpLHI9bmV3IENyLmNyeXB0by5EU0E7cmV0dXJuIHIuc2V0UHJpdmF0ZShuZXcgbyhkLDE2KSxuZXcgbyhnLDE2KSxuZXcgbyhwLDE2KSxuZXcgbyh5LDE2KSxuZXcgbyh2LDE2KSkscn1pZih0LmluZGV4T2YoXCItRU5EIEVOQ1JZUFRFRCBQUklWQVRFIEtFWS1cIikhPS0xKXJldHVybiBIci5nZXRLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU0odCxlKTt0aHJvd1wibm90IHN1cHBvcnRlZCBhcmd1bWVudFwifSxIci5nZW5lcmF0ZUtleXBhaXI9ZnVuY3Rpb24odCxlKXtpZihcIlJTQVwiPT10KXt2YXIgbj1lLHI9bmV3IHZlO3IuZ2VuZXJhdGUobixcIjEwMDAxXCIpLHIuaXNQcml2YXRlPSEwLHIuaXNQdWJsaWM9ITA7dmFyIGk9bmV3IHZlLHM9ci5uLnRvU3RyaW5nKDE2KSxvPXIuZS50b1N0cmluZygxNik7aS5zZXRQdWJsaWMocyxvKSxpLmlzUHJpdmF0ZT0hMSxpLmlzUHVibGljPSEwO3ZhciBhPXt9O3JldHVybiBhLnBydktleU9iaj1yLGEucHViS2V5T2JqPWksYX1pZihcIkVDXCI9PXQpe3ZhciB1PWUsaD1uZXcgQ3IuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp1fSksYz1oLmdlbmVyYXRlS2V5UGFpckhleCgpLHI9bmV3IENyLmNyeXB0by5FQ0RTQSh7Y3VydmU6dX0pO3Iuc2V0UHVibGljS2V5SGV4KGMuZWNwdWJoZXgpLHIuc2V0UHJpdmF0ZUtleUhleChjLmVjcHJ2aGV4KSxyLmlzUHJpdmF0ZT0hMCxyLmlzUHVibGljPSExO3ZhciBpPW5ldyBDci5jcnlwdG8uRUNEU0Eoe2N1cnZlOnV9KTtpLnNldFB1YmxpY0tleUhleChjLmVjcHViaGV4KSxpLmlzUHJpdmF0ZT0hMSxpLmlzUHVibGljPSEwO3ZhciBhPXt9O3JldHVybiBhLnBydktleU9iaj1yLGEucHViS2V5T2JqPWksYX10aHJvd1widW5rbm93biBhbGdvcml0aG06IFwiK3R9LEhyLmdldFBFTT1mdW5jdGlvbih0LGUsbixyLGkpe2Z1bmN0aW9uIHModCl7dmFyIGU9Q3IuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbe2ludDowfSx7aW50OntiaWdpbnQ6dC5ufX0se2ludDp0LmV9LHtpbnQ6e2JpZ2ludDp0LmR9fSx7aW50OntiaWdpbnQ6dC5wfX0se2ludDp7YmlnaW50OnQucX19LHtpbnQ6e2JpZ2ludDp0LmRtcDF9fSx7aW50OntiaWdpbnQ6dC5kbXExfX0se2ludDp7YmlnaW50OnQuY29lZmZ9fV19KTtyZXR1cm4gZX1mdW5jdGlvbiBvKHQpe3ZhciBlPUNyLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHtzZXE6W3tpbnQ6MX0se29jdHN0cjp7aGV4OnQucHJ2S2V5SGV4fX0se3RhZzpbXCJhMFwiLCEwLHtvaWQ6e25hbWU6dC5jdXJ2ZU5hbWV9fV19LHt0YWc6W1wiYTFcIiwhMCx7Yml0c3RyOntoZXg6XCIwMFwiK3QucHViS2V5SGV4fX1dfV19KTtyZXR1cm4gZX1mdW5jdGlvbiBhKHQpe3ZhciBlPUNyLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHtzZXE6W3tpbnQ6MH0se2ludDp7YmlnaW50OnQucH19LHtpbnQ6e2JpZ2ludDp0LnF9fSx7aW50OntiaWdpbnQ6dC5nfX0se2ludDp7YmlnaW50OnQueX19LHtpbnQ6e2JpZ2ludDp0Lnh9fV19KTtyZXR1cm4gZX12YXIgdT1Dci5hc24xLGg9Q3IuY3J5cHRvO2lmKChcInVuZGVmaW5lZFwiIT10eXBlb2YgdmUmJnQgaW5zdGFuY2VvZiB2ZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGguRFNBJiZ0IGluc3RhbmNlb2YgaC5EU0F8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBoLkVDRFNBJiZ0IGluc3RhbmNlb2YgaC5FQ0RTQSkmJjE9PXQuaXNQdWJsaWMmJih2b2lkIDA9PT1lfHxcIlBLQ1M4UFVCXCI9PWUpKXt2YXIgYz1uZXcgQ3IuYXNuMS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvKHQpLGY9Yy5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHUuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChmLFwiUFVCTElDIEtFWVwiKX1pZihcIlBLQ1MxUFJWXCI9PWUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB2ZSYmdCBpbnN0YW5jZW9mIHZlJiYodm9pZCAwPT09bnx8bnVsbD09bikmJjE9PXQuaXNQcml2YXRlKXt2YXIgYz1zKHQpLGY9Yy5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHUuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChmLFwiUlNBIFBSSVZBVEUgS0VZXCIpfWlmKFwiUEtDUzFQUlZcIj09ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHZlJiZ0IGluc3RhbmNlb2YgQ3IuY3J5cHRvLkVDRFNBJiYodm9pZCAwPT09bnx8bnVsbD09bikmJjE9PXQuaXNQcml2YXRlKXt2YXIgbD1uZXcgQ3IuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHtuYW1lOnQuY3VydmVOYW1lfSksZD1sLmdldEVuY29kZWRIZXgoKSxnPW8odCkscD1nLmdldEVuY29kZWRIZXgoKSx5PVwiXCI7cmV0dXJuIHkrPXUuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChkLFwiRUMgUEFSQU1FVEVSU1wiKSx5Kz11LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgocCxcIkVDIFBSSVZBVEUgS0VZXCIpfWlmKFwiUEtDUzFQUlZcIj09ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmNyeXB0by5EU0EmJnQgaW5zdGFuY2VvZiBDci5jcnlwdG8uRFNBJiYodm9pZCAwPT09bnx8bnVsbD09bikmJjE9PXQuaXNQcml2YXRlKXt2YXIgYz1hKHQpLGY9Yy5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHUuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChmLFwiRFNBIFBSSVZBVEUgS0VZXCIpfWlmKFwiUEtDUzVQUlZcIj09ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHZlJiZ0IGluc3RhbmNlb2YgdmUmJnZvaWQgMCE9PW4mJm51bGwhPW4mJjE9PXQuaXNQcml2YXRlKXt2YXIgYz1zKHQpLGY9Yy5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHZvaWQgMD09PXImJihyPVwiREVTLUVERTMtQ0JDXCIpLHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiUlNBXCIsZixuLHIpfWlmKFwiUEtDUzVQUlZcIj09ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmNyeXB0by5FQ0RTQSYmdCBpbnN0YW5jZW9mIENyLmNyeXB0by5FQ0RTQSYmdm9pZCAwIT09biYmbnVsbCE9biYmMT09dC5pc1ByaXZhdGUpe3ZhciBjPW8odCksZj1jLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9XCJERVMtRURFMy1DQkNcIiksdGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgoXCJFQ1wiLGYsbixyKX1pZihcIlBLQ1M1UFJWXCI9PWUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBDci5jcnlwdG8uRFNBJiZ0IGluc3RhbmNlb2YgQ3IuY3J5cHRvLkRTQSYmdm9pZCAwIT09biYmbnVsbCE9biYmMT09dC5pc1ByaXZhdGUpe3ZhciBjPWEodCksZj1jLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9XCJERVMtRURFMy1DQkNcIiksdGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgoXCJEU0FcIixmLG4scil9dmFyIHY9ZnVuY3Rpb24odCxlKXt2YXIgbj1tKHQsZSkscj1uZXcgQ3IuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbe3NlcTpbe29pZDp7bmFtZTpcInBrY3M1UEJFUzJcIn19LHtzZXE6W3tzZXE6W3tvaWQ6e25hbWU6XCJwa2NzNVBCS0RGMlwifX0se3NlcTpbe29jdHN0cjp7aGV4Om4ucGJrZGYyU2FsdH19LHtpbnQ6bi5wYmtkZjJJdGVyfV19XX0se3NlcTpbe29pZDp7bmFtZTpcImRlcy1FREUzLUNCQ1wifX0se29jdHN0cjp7aGV4Om4uZW5jcnlwdGlvblNjaGVtZUlWfX1dfV19XX0se29jdHN0cjp7aGV4Om4uY2lwaGVydGV4dH19XX0pO3JldHVybiByLmdldEVuY29kZWRIZXgoKX0sbT1mdW5jdGlvbih0LGUpe3ZhciBuPTEwMCxyPW9yLmxpYi5Xb3JkQXJyYXkucmFuZG9tKDgpLGk9XCJERVMtRURFMy1DQkNcIixzPW9yLmxpYi5Xb3JkQXJyYXkucmFuZG9tKDgpLG89b3IuUEJLREYyKGUscix7a2V5U2l6ZTo2LGl0ZXJhdGlvbnM6bn0pLGE9b3IuZW5jLkhleC5wYXJzZSh0KSx1PW9yLlRyaXBsZURFUy5lbmNyeXB0KGEsbyx7aXY6c30pK1wiXCIsaD17fTtyZXR1cm4gaC5jaXBoZXJ0ZXh0PXUsaC5wYmtkZjJTYWx0PW9yLmVuYy5IZXguc3RyaW5naWZ5KHIpLGgucGJrZGYySXRlcj1uLGguZW5jcnlwdGlvblNjaGVtZUFsZz1pLGguZW5jcnlwdGlvblNjaGVtZUlWPW9yLmVuYy5IZXguc3RyaW5naWZ5KHMpLGh9O2lmKFwiUEtDUzhQUlZcIj09ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHZlJiZ0IGluc3RhbmNlb2YgdmUmJjE9PXQuaXNQcml2YXRlKXt2YXIgUz1zKHQpLGI9Uy5nZXRFbmNvZGVkSGV4KCksYz1Dci5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7c2VxOlt7aW50OjB9LHtzZXE6W3tvaWQ6e25hbWU6XCJyc2FFbmNyeXB0aW9uXCJ9fSx7bnVsbDohMH1dfSx7b2N0c3RyOntoZXg6Yn19XX0pLGY9Yy5nZXRFbmNvZGVkSGV4KCk7aWYodm9pZCAwPT09bnx8bnVsbD09bilyZXR1cm4gdS5BU04xVXRpbC5nZXRQRU1TdHJpbmdGcm9tSGV4KGYsXCJQUklWQVRFIEtFWVwiKTt2YXIgcD12KGYsbik7cmV0dXJuIHUuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChwLFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIpO1xufWlmKFwiUEtDUzhQUlZcIj09ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmNyeXB0by5FQ0RTQSYmdCBpbnN0YW5jZW9mIENyLmNyeXB0by5FQ0RTQSYmMT09dC5pc1ByaXZhdGUpe3ZhciBTPW5ldyBDci5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7c2VxOlt7aW50OjF9LHtvY3RzdHI6e2hleDp0LnBydktleUhleH19LHt0YWc6W1wiYTFcIiwhMCx7Yml0c3RyOntoZXg6XCIwMFwiK3QucHViS2V5SGV4fX1dfV19KSxiPVMuZ2V0RW5jb2RlZEhleCgpLGM9Q3IuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbe2ludDowfSx7c2VxOlt7b2lkOntuYW1lOlwiZWNQdWJsaWNLZXlcIn19LHtvaWQ6e25hbWU6dC5jdXJ2ZU5hbWV9fV19LHtvY3RzdHI6e2hleDpifX1dfSksZj1jLmdldEVuY29kZWRIZXgoKTtpZih2b2lkIDA9PT1ufHxudWxsPT1uKXJldHVybiB1LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoZixcIlBSSVZBVEUgS0VZXCIpO3ZhciBwPXYoZixuKTtyZXR1cm4gdS5BU04xVXRpbC5nZXRQRU1TdHJpbmdGcm9tSGV4KHAsXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIil9aWYoXCJQS0NTOFBSVlwiPT1lJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3IuY3J5cHRvLkRTQSYmdCBpbnN0YW5jZW9mIENyLmNyeXB0by5EU0EmJjE9PXQuaXNQcml2YXRlKXt2YXIgUz1uZXcgQ3IuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dC54fSksYj1TLmdldEVuY29kZWRIZXgoKSxjPUNyLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHtzZXE6W3tpbnQ6MH0se3NlcTpbe29pZDp7bmFtZTpcImRzYVwifX0se3NlcTpbe2ludDp7YmlnaW50OnQucH19LHtpbnQ6e2JpZ2ludDp0LnF9fSx7aW50OntiaWdpbnQ6dC5nfX1dfV19LHtvY3RzdHI6e2hleDpifX1dfSksZj1jLmdldEVuY29kZWRIZXgoKTtpZih2b2lkIDA9PT1ufHxudWxsPT1uKXJldHVybiB1LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoZixcIlBSSVZBVEUgS0VZXCIpO3ZhciBwPXYoZixuKTtyZXR1cm4gdS5BU04xVXRpbC5nZXRQRU1TdHJpbmdGcm9tSGV4KHAsXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIil9dGhyb3dcInVuc3VwcG9ydGVkIG9iamVjdCBub3IgZm9ybWF0XCJ9LEhyLmdldEtleUZyb21DU1JQRU09ZnVuY3Rpb24odCl7dmFyIGU9SHIuZ2V0SGV4RnJvbVBFTSh0LFwiQ0VSVElGSUNBVEUgUkVRVUVTVFwiKSxuPUhyLmdldEtleUZyb21DU1JIZXgoZSk7cmV0dXJuIG59LEhyLmdldEtleUZyb21DU1JIZXg9ZnVuY3Rpb24odCl7dmFyIGU9SHIucGFyc2VDU1JIZXgodCksbj1Ici5nZXRLZXkoZS5wOHB1YmtleWhleCxudWxsLFwicGtjczhwdWJcIik7cmV0dXJuIG59LEhyLnBhcnNlQ1NSSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49dDtpZihcIjMwXCIhPW4uc3Vic3RyKDAsMikpdGhyb3dcIm1hbGZvcm1lZCBDU1IoY29kZTowMDEpXCI7dmFyIHI9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKG4sMCk7aWYoci5sZW5ndGg8MSl0aHJvd1wibWFsZm9ybWVkIENTUihjb2RlOjAwMilcIjtpZihcIjMwXCIhPW4uc3Vic3RyKHJbMF0sMikpdGhyb3dcIm1hbGZvcm1lZCBDU1IoY29kZTowMDMpXCI7dmFyIGk9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKG4sclswXSk7aWYoaS5sZW5ndGg8Myl0aHJvd1wibWFsZm9ybWVkIENTUihjb2RlOjAwNClcIjtyZXR1cm4gZS5wOHB1YmtleWhleD1Pci5nZXRIZXhPZlRMVl9BdE9iaihuLGlbMl0pLGV9LEhyLmdldEpXS0Zyb21LZXk9ZnVuY3Rpb24odCl7dmFyIGU9e307aWYodCBpbnN0YW5jZW9mIHZlJiZ0LmlzUHJpdmF0ZSlyZXR1cm4gZS5rdHk9XCJSU0FcIixlLm49Z24odC5uLnRvU3RyaW5nKDE2KSksZS5lPWduKHQuZS50b1N0cmluZygxNikpLGUuZD1nbih0LmQudG9TdHJpbmcoMTYpKSxlLnA9Z24odC5wLnRvU3RyaW5nKDE2KSksZS5xPWduKHQucS50b1N0cmluZygxNikpLGUuZHA9Z24odC5kbXAxLnRvU3RyaW5nKDE2KSksZS5kcT1nbih0LmRtcTEudG9TdHJpbmcoMTYpKSxlLnFpPWduKHQuY29lZmYudG9TdHJpbmcoMTYpKSxlO2lmKHQgaW5zdGFuY2VvZiB2ZSYmdC5pc1B1YmxpYylyZXR1cm4gZS5rdHk9XCJSU0FcIixlLm49Z24odC5uLnRvU3RyaW5nKDE2KSksZS5lPWduKHQuZS50b1N0cmluZygxNikpLGU7aWYodCBpbnN0YW5jZW9mIENyLmNyeXB0by5FQ0RTQSYmdC5pc1ByaXZhdGUpe3ZhciBuPXQuZ2V0U2hvcnROSVNUUEN1cnZlTmFtZSgpO2lmKFwiUC0yNTZcIiE9PW4mJlwiUC0zODRcIiE9PW4pdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWUgZm9yIEpXVDogXCIrbjt2YXIgcj10LmdldFB1YmxpY0tleVhZSGV4KCk7cmV0dXJuIGUua3R5PVwiRUNcIixlLmNydj1uLGUueD1nbihyLngpLGUueT1nbihyLnkpLGUuZD1nbih0LnBydktleUhleCksZX1pZih0IGluc3RhbmNlb2YgQ3IuY3J5cHRvLkVDRFNBJiZ0LmlzUHVibGljKXt2YXIgbj10LmdldFNob3J0TklTVFBDdXJ2ZU5hbWUoKTtpZihcIlAtMjU2XCIhPT1uJiZcIlAtMzg0XCIhPT1uKXRocm93XCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lIGZvciBKV1Q6IFwiK247dmFyIHI9dC5nZXRQdWJsaWNLZXlYWUhleCgpO3JldHVybiBlLmt0eT1cIkVDXCIsZS5jcnY9bixlLng9Z24oci54KSxlLnk9Z24oci55KSxlfXRocm93XCJub3Qgc3VwcG9ydGVkIGtleSBvYmplY3RcIn0sdmUucHJvdG90eXBlLnJlYWRQcml2YXRlS2V5RnJvbVBFTVN0cmluZz1qbix2ZS5wcm90b3R5cGUucmVhZFByaXZhdGVLZXlGcm9tQVNOMUhleFN0cmluZz1SbjsvKiEgcnNhc2lnbi0xLjIuNy5qcyAoYykgMjAxMiBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuXHQgKi9cbnZhciBJcj1uZXcgUmVnRXhwKFwiXCIpO0lyLmNvbXBpbGUoXCJbXjAtOWEtZl1cIixcImdpXCIpLHZlLnByb3RvdHlwZS5zaWduV2l0aE1lc3NhZ2VIYXNoPWtuLHZlLnByb3RvdHlwZS5zaWduU3RyaW5nPUluLHZlLnByb3RvdHlwZS5zaWduU3RyaW5nV2l0aFNIQTE9Qm4sdmUucHJvdG90eXBlLnNpZ25TdHJpbmdXaXRoU0hBMjU2PU5uLHZlLnByb3RvdHlwZS5zaWduPUluLHZlLnByb3RvdHlwZS5zaWduV2l0aFNIQTE9Qm4sdmUucHJvdG90eXBlLnNpZ25XaXRoU0hBMjU2PU5uLHZlLnByb3RvdHlwZS5zaWduV2l0aE1lc3NhZ2VIYXNoUFNTPUtuLHZlLnByb3RvdHlwZS5zaWduU3RyaW5nUFNTPU1uLHZlLnByb3RvdHlwZS5zaWduUFNTPU1uLHZlLlNBTFRfTEVOX0hMRU49LTEsdmUuU0FMVF9MRU5fTUFYPS0yLHZlLnByb3RvdHlwZS52ZXJpZnlXaXRoTWVzc2FnZUhhc2g9WW4sdmUucHJvdG90eXBlLnZlcmlmeVN0cmluZz16bix2ZS5wcm90b3R5cGUudmVyaWZ5SGV4U2lnbmF0dXJlRm9yTWVzc2FnZT1Kbix2ZS5wcm90b3R5cGUudmVyaWZ5PXpuLHZlLnByb3RvdHlwZS52ZXJpZnlIZXhTaWduYXR1cmVGb3JCeXRlQXJyYXlNZXNzYWdlPUpuLHZlLnByb3RvdHlwZS52ZXJpZnlXaXRoTWVzc2FnZUhhc2hQU1M9WG4sdmUucHJvdG90eXBlLnZlcmlmeVN0cmluZ1BTUz1Hbix2ZS5wcm90b3R5cGUudmVyaWZ5UFNTPUduLHZlLlNBTFRfTEVOX1JFQ09WRVI9LTIsJG4ucGVtVG9CYXNlNjQ9ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm4gZT1lLnJlcGxhY2UoXCItLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS1cIixcIlwiKSxlPWUucmVwbGFjZShcIi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS1cIixcIlwiKSxlPWUucmVwbGFjZSgvWyBcXG5dKy9nLFwiXCIpfSwkbi5wZW1Ub0hleD1mdW5jdGlvbih0KXt2YXIgZT0kbi5wZW1Ub0Jhc2U2NCh0KSxuPWkoZSk7cmV0dXJuIG59LCRuLmdldFN1YmplY3RQdWJsaWNLZXlQb3NGcm9tQ2VydEhleD1mdW5jdGlvbih0KXt2YXIgZT0kbi5nZXRTdWJqZWN0UHVibGljS2V5SW5mb1Bvc0Zyb21DZXJ0SGV4KHQpO2lmKGU9PS0xKXJldHVybi0xO3ZhciBuPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LGUpO2lmKDIhPW4ubGVuZ3RoKXJldHVybi0xO3ZhciByPW5bMV07aWYoXCIwM1wiIT10LnN1YnN0cmluZyhyLHIrMikpcmV0dXJuLTE7dmFyIGk9T3IuZ2V0U3RhcnRQb3NPZlZfQXRPYmoodCxyKTtyZXR1cm5cIjAwXCIhPXQuc3Vic3RyaW5nKGksaSsyKT8tMTppKzJ9LCRuLmdldFN1YmplY3RQdWJsaWNLZXlJbmZvUG9zRnJvbUNlcnRIZXg9ZnVuY3Rpb24odCl7dmFyIGU9T3IuZ2V0U3RhcnRQb3NPZlZfQXRPYmoodCwwKSxuPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LGUpO3JldHVybiBuLmxlbmd0aDwxPy0xOlwiYTAwMzAyMDEwMlwiPT10LnN1YnN0cmluZyhuWzBdLG5bMF0rMTApP24ubGVuZ3RoPDY/LTE6bls2XTpuLmxlbmd0aDw1Py0xOm5bNV19LCRuLmdldFB1YmxpY0tleUhleEFycmF5RnJvbUNlcnRIZXg9ZnVuY3Rpb24odCl7dmFyIGU9JG4uZ2V0U3ViamVjdFB1YmxpY0tleVBvc0Zyb21DZXJ0SGV4KHQpLG49T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsZSk7aWYoMiE9bi5sZW5ndGgpcmV0dXJuW107dmFyIHI9T3IuZ2V0SGV4T2ZWX0F0T2JqKHQsblswXSksaT1Pci5nZXRIZXhPZlZfQXRPYmoodCxuWzFdKTtyZXR1cm4gbnVsbCE9ciYmbnVsbCE9aT9bcixpXTpbXX0sJG4uZ2V0SGV4VGJzQ2VydGlmaWNhdGVGcm9tQ2VydD1mdW5jdGlvbih0KXt2YXIgZT1Pci5nZXRTdGFydFBvc09mVl9BdE9iaih0LDApO3JldHVybiBlfSwkbi5nZXRQdWJsaWNLZXlIZXhBcnJheUZyb21DZXJ0UEVNPWZ1bmN0aW9uKHQpe3ZhciBlPSRuLnBlbVRvSGV4KHQpLG49JG4uZ2V0UHVibGljS2V5SGV4QXJyYXlGcm9tQ2VydEhleChlKTtyZXR1cm4gbn0sJG4uaGV4MmRuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1cIlwiLG49T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsMCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1Pci5nZXRIZXhPZlRMVl9BdE9iaih0LG5bcl0pO2U9ZStcIi9cIiskbi5oZXgycmRuKGkpfXJldHVybiBlfSwkbi5oZXgycmRuPWZ1bmN0aW9uKHQpe3ZhciBlPU9yLmdldERlY2VuZGFudEhleFRMVkJ5TnRoTGlzdCh0LDAsWzAsMF0pLG49T3IuZ2V0RGVjZW5kYW50SGV4VkJ5TnRoTGlzdCh0LDAsWzAsMV0pLHI9XCJcIjt0cnl7cj0kbi5ETl9BVFRSSEVYW2VdfWNhdGNoKHQpe3I9ZX1uPW4ucmVwbGFjZSgvKC4uKS9nLFwiJSQxXCIpO3ZhciBpPWRlY29kZVVSSUNvbXBvbmVudChuKTtyZXR1cm4gcitcIj1cIitpfSwkbi5ETl9BVFRSSEVYPXtcIjA2MDM1NTA0MDZcIjpcIkNcIixcIjA2MDM1NTA0MGFcIjpcIk9cIixcIjA2MDM1NTA0MGJcIjpcIk9VXCIsXCIwNjAzNTUwNDAzXCI6XCJDTlwiLFwiMDYwMzU1MDQwNVwiOlwiU05cIixcIjA2MDM1NTA0MDhcIjpcIlNUXCIsXCIwNjAzNTUwNDA3XCI6XCJMXCIsXCIwNjAzNTUwNDA5XCI6XCJzdHJlZXRBZGRyZXNzXCIsXCIwNjAzNTUwNDBmXCI6XCJidXNpbmVzc0NhdGVnb3J5XCIsXCIwNjAzNTUwNDExXCI6XCJwb3N0YWxDb2RlXCIsXCIwNjBiMmIwNjAxMDQwMTgyMzczYzAyMDEwMlwiOlwianVyaXNkaWN0aW9uT2ZJbmNvcnBvcmF0aW9uU1BcIixcIjA2MGIyYjA2MDEwNDAxODIzNzNjMDIwMTAzXCI6XCJqdXJpc2RpY3Rpb25PZkluY29ycG9yYXRpb25DXCJ9LCRuLmdldFB1YmxpY0tleUZyb21DZXJ0UEVNPWZ1bmN0aW9uKHQpe3ZhciBlPSRuLmdldFB1YmxpY0tleUluZm9Qcm9wT2ZDZXJ0UEVNKHQpO2lmKFwiMmE4NjQ4ODZmNzBkMDEwMTAxXCI9PWUuYWxnb2lkKXt2YXIgbj1Ici5wYXJzZVB1YmxpY1Jhd1JTQUtleUhleChlLmtleWhleCkscj1uZXcgdmU7cmV0dXJuIHIuc2V0UHVibGljKG4ubixuLmUpLHJ9aWYoXCIyYTg2NDhjZTNkMDIwMVwiPT1lLmFsZ29pZCl7dmFyIGk9Q3IuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtlLmFsZ3BhcmFtXSxyPW5ldyBDci5jcnlwdG8uRUNEU0Eoe2N1cnZlOmksaW5mbzplLmtleWhleH0pO3JldHVybiByLnNldFB1YmxpY0tleUhleChlLmtleWhleCkscn1pZihcIjJhODY0OGNlMzgwNDAxXCI9PWUuYWxnb2lkKXt2YXIgcz1Pci5nZXRWYnlMaXN0KGUuYWxncGFyYW0sMCxbMF0sXCIwMlwiKSxhPU9yLmdldFZieUxpc3QoZS5hbGdwYXJhbSwwLFsxXSxcIjAyXCIpLHU9T3IuZ2V0VmJ5TGlzdChlLmFsZ3BhcmFtLDAsWzJdLFwiMDJcIiksaD1Pci5nZXRIZXhPZlZfQXRPYmooZS5rZXloZXgsMCk7aD1oLnN1YnN0cigyKTt2YXIgcj1uZXcgQ3IuY3J5cHRvLkRTQTtyZXR1cm4gci5zZXRQdWJsaWMobmV3IG8ocywxNiksbmV3IG8oYSwxNiksbmV3IG8odSwxNiksbmV3IG8oaCwxNikpLHJ9dGhyb3dcInVuc3VwcG9ydGVkIGtleVwifSwkbi5nZXRQdWJsaWNLZXlJbmZvUHJvcE9mQ2VydFBFTT1mdW5jdGlvbih0KXt2YXIgZT17fTtlLmFsZ3BhcmFtPW51bGw7dmFyIG49JG4ucGVtVG9IZXgodCkscj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoobiwwKTtpZigzIT1yLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDEpXCI7aWYoXCIzMFwiIT1uLnN1YnN0cihyWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMilcIjt2YXIgaT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoobixyWzBdKSxzPTY7aWYoXCJhMFwiIT09bi5zdWJzdHIoaVswXSwyKSYmKHM9NSksaS5sZW5ndGg8cysxKXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMylcIjt2YXIgbz1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoobixpW3NdKTtpZigyIT1vLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDQpXCI7dmFyIGE9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKG4sb1swXSk7aWYoMiE9YS5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBQRU0gKGNvZGU6MDA1KVwiO2lmKGUuYWxnb2lkPU9yLmdldEhleE9mVl9BdE9iaihuLGFbMF0pLFwiMDZcIj09bi5zdWJzdHIoYVsxXSwyKT9lLmFsZ3BhcmFtPU9yLmdldEhleE9mVl9BdE9iaihuLGFbMV0pOlwiMzBcIj09bi5zdWJzdHIoYVsxXSwyKSYmKGUuYWxncGFyYW09T3IuZ2V0SGV4T2ZUTFZfQXRPYmoobixhWzFdKSksXCIwM1wiIT1uLnN1YnN0cihvWzFdLDIpKXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwNilcIjt2YXIgdT1Pci5nZXRIZXhPZlZfQXRPYmoobixvWzFdKTtyZXR1cm4gZS5rZXloZXg9dS5zdWJzdHIoMiksZX0sJG4uZ2V0UHVibGljS2V5SW5mb1Bvc09mQ2VydEhFWD1mdW5jdGlvbih0KXt2YXIgZT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCwwKTtpZigzIT1lLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDEpXCI7aWYoXCIzMFwiIT10LnN1YnN0cihlWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMilcIjt2YXIgbj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxlWzBdKTtpZihuLmxlbmd0aDw3KXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMylcIjtyZXR1cm4gbls2XX0sJG4uZ2V0VjNFeHRJbmZvTGlzdE9mQ2VydEhleD1mdW5jdGlvbih0KXt2YXIgZT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCwwKTtpZigzIT1lLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDEpXCI7aWYoXCIzMFwiIT10LnN1YnN0cihlWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMilcIjt2YXIgbj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxlWzBdKTtpZihuLmxlbmd0aDw4KXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMylcIjtpZihcImEzXCIhPXQuc3Vic3RyKG5bN10sMikpdGhyb3dcIm1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBQRU0gKGNvZGU6MDA0KVwiO3ZhciByPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih0LG5bN10pO2lmKDEhPXIubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwNSlcIjtpZihcIjMwXCIhPXQuc3Vic3RyKHJbMF0sMikpdGhyb3dcIm1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBQRU0gKGNvZGU6MDA2KVwiO2Zvcih2YXIgaT1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxyWzBdKSxzPWkubGVuZ3RoLG89bmV3IEFycmF5KHMpLGE9MDthPHM7YSsrKW9bYV09JG4uZ2V0VjNFeHRJdGVtSW5mb19BdE9iaih0LGlbYV0pO3JldHVybiBvfSwkbi5nZXRWM0V4dEl0ZW1JbmZvX0F0T2JqPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307bi5wb3NUTFY9ZTt2YXIgcj1Pci5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodCxlKTtpZigyIT1yLmxlbmd0aCYmMyE9ci5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBYLjUwOXYzIEV4dCAoY29kZTowMDEpXCI7aWYoXCIwNlwiIT10LnN1YnN0cihyWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgWC41MDl2MyBFeHQgKGNvZGU6MDAyKVwiO3ZhciBpPU9yLmdldEhleE9mVl9BdE9iaih0LHJbMF0pO24ub2lkPU9yLmhleHRvb2lkc3RyKGkpLG4uY3JpdGljYWw9ITEsMz09ci5sZW5ndGgmJihuLmNyaXRpY2FsPSEwKTt2YXIgcz1yW3IubGVuZ3RoLTFdO2lmKFwiMDRcIiE9dC5zdWJzdHIocywyKSl0aHJvd1wibWFsZm9ybWVkIFguNTA5djMgRXh0IChjb2RlOjAwMylcIjtyZXR1cm4gbi5wb3NWPU9yLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKHQscyksbn0sJG4uZ2V0SGV4T2ZUTFZfVjNFeHRWYWx1ZT1mdW5jdGlvbih0LGUpe3ZhciBuPSRuLmdldFBvc09mVExWX1YzRXh0VmFsdWUodCxlKTtyZXR1cm4gbj09LTE/bnVsbDpPci5nZXRIZXhPZlRMVl9BdE9iaih0LG4pfSwkbi5nZXRIZXhPZlZfVjNFeHRWYWx1ZT1mdW5jdGlvbih0LGUpe3ZhciBuPSRuLmdldFBvc09mVExWX1YzRXh0VmFsdWUodCxlKTtyZXR1cm4gbj09LTE/bnVsbDpPci5nZXRIZXhPZlZfQXRPYmoodCxuKX0sJG4uZ2V0UG9zT2ZUTFZfVjNFeHRWYWx1ZT1mdW5jdGlvbih0LGUpe3ZhciBuPWU7aWYoZS5tYXRjaCgvXlswLTkuXSskLyl8fChuPUNyLmFzbjEueDUwOS5PSUQubmFtZTJvaWQoZSkpLFwiXCI9PW4pcmV0dXJuLTE7Zm9yKHZhciByPSRuLmdldFYzRXh0SW5mb0xpc3RPZkNlcnRIZXgodCksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldO2lmKHMub2lkPT1uKXJldHVybiBzLnBvc1Z9cmV0dXJuLTF9LCRuLmdldEV4dEJhc2ljQ29uc3RyYWludHM9ZnVuY3Rpb24odCl7dmFyIGU9JG4uZ2V0SGV4T2ZWX1YzRXh0VmFsdWUodCxcImJhc2ljQ29uc3RyYWludHNcIik7aWYobnVsbD09PWUpcmV0dXJuIG51bGw7aWYoXCJcIj09PWUpcmV0dXJue307aWYoXCIwMTAxZmZcIj09PWUpcmV0dXJue2NBOiEwfTtpZihcIjAxMDFmZjAyXCI9PT1lLnN1YnN0cigwLDgpKXt2YXIgbj1Pci5nZXRIZXhPZlZfQXRPYmooZSw2KSxyPXBhcnNlSW50KG4sMTYpO3JldHVybntjQTohMCxwYXRoTGVuOnJ9fXRocm93XCJ1bmtub3duIGVycm9yXCJ9LCRuLktFWVVTQUdFX05BTUU9W1wiZGlnaXRhbFNpZ25hdHVyZVwiLFwibm9uUmVwdWRpYXRpb25cIixcImtleUVuY2lwaGVybWVudFwiLFwiZGF0YUVuY2lwaGVybWVudFwiLFwia2V5QWdyZWVtZW50XCIsXCJrZXlDZXJ0U2lnblwiLFwiY1JMU2lnblwiLFwiZW5jaXBoZXJPbmx5XCIsXCJkZWNpcGhlck9ubHlcIl0sJG4uZ2V0RXh0S2V5VXNhZ2VCaW49ZnVuY3Rpb24odCl7dmFyIGU9JG4uZ2V0SGV4T2ZWX1YzRXh0VmFsdWUodCxcImtleVVzYWdlXCIpO2lmKFwiXCI9PWUpcmV0dXJuXCJcIjtpZihlLmxlbmd0aCUyIT0wfHxlLmxlbmd0aDw9Mil0aHJvd1wibWFsZm9ybWVkIGtleSB1c2FnZSB2YWx1ZVwiO3ZhciBuPXBhcnNlSW50KGUuc3Vic3RyKDAsMikpLHI9cGFyc2VJbnQoZS5zdWJzdHIoMiksMTYpLnRvU3RyaW5nKDIpO3JldHVybiByLnN1YnN0cigwLHIubGVuZ3RoLW4pfSwkbi5nZXRFeHRLZXlVc2FnZVN0cmluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9JG4uZ2V0RXh0S2V5VXNhZ2VCaW4odCksbj1uZXcgQXJyYXkscj0wO3I8ZS5sZW5ndGg7cisrKVwiMVwiPT1lLnN1YnN0cihyLDEpJiZuLnB1c2goJG4uS0VZVVNBR0VfTkFNRVtyXSk7cmV0dXJuIG4uam9pbihcIixcIil9LCRuLmdldEV4dFN1YmplY3RLZXlJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBlPSRuLmdldEhleE9mVl9WM0V4dFZhbHVlKHQsXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiKTtyZXR1cm4gZX0sJG4uZ2V0RXh0QXV0aG9yaXR5S2V5SWRlbnRpZmllcj1mdW5jdGlvbih0KXt2YXIgZT17fSxuPSRuLmdldEhleE9mVExWX1YzRXh0VmFsdWUodCxcImF1dGhvcml0eUtleUlkZW50aWZpZXJcIik7aWYobnVsbD09PW4pcmV0dXJuIG51bGw7Zm9yKHZhciByPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihuLDApLGk9MDtpPHIubGVuZ3RoO2krKylcIjgwXCI9PT1uLnN1YnN0cihyW2ldLDIpJiYoZS5raWQ9T3IuZ2V0SGV4T2ZWX0F0T2JqKG4scltpXSkpO3JldHVybiBlfSwkbi5nZXRFeHRFeHRLZXlVc2FnZU5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5LG49JG4uZ2V0SGV4T2ZUTFZfVjNFeHRWYWx1ZSh0LFwiZXh0S2V5VXNhZ2VcIik7aWYobnVsbD09PW4pcmV0dXJuIG51bGw7Zm9yKHZhciByPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihuLDApLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIHM9T3IuZ2V0SGV4T2ZWX0F0T2JqKG4scltpXSksbz1Dci5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50KHMpLGE9Q3IuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShvKTtlLnB1c2goYSl9cmV0dXJuIGV9LCRuLmdldEV4dFN1YmplY3RBbHROYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXksbj0kbi5nZXRIZXhPZlRMVl9WM0V4dFZhbHVlKHQsXCJzdWJqZWN0QWx0TmFtZVwiKSxyPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihuLDApLGk9MDtpPHIubGVuZ3RoO2krKylpZihcIjgyXCI9PT1uLnN1YnN0cihyW2ldLDIpKXt2YXIgcz1TbihPci5nZXRIZXhPZlZfQXRPYmoobixyW2ldKSk7ZS5wdXNoKHMpfXJldHVybiBlfSwkbi5nZXRFeHRDUkxEaXN0cmlidXRpb25Qb2ludHNVUkk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSxuPSRuLmdldEhleE9mVExWX1YzRXh0VmFsdWUodCxcImNSTERpc3RyaWJ1dGlvblBvaW50c1wiKSxyPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihuLDApLGk9MDtpPHIubGVuZ3RoO2krKylmb3IodmFyIHM9T3IuZ2V0SGV4T2ZUTFZfQXRPYmoobixyW2ldKSxvPU9yLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihzLDApLGE9MDthPG8ubGVuZ3RoO2ErKylpZihcImEwXCI9PT1zLnN1YnN0cihvW2FdLDIpKXt2YXIgdT1Pci5nZXRIZXhPZlZfQXRPYmoocyxvW2FdKTtpZihcImEwXCI9PT11LnN1YnN0cigwLDIpKXt2YXIgaD1Pci5nZXRIZXhPZlZfQXRPYmoodSwwKTtpZihcIjg2XCI9PT1oLnN1YnN0cigwLDIpKXt2YXIgYz1Pci5nZXRIZXhPZlZfQXRPYmooaCwwKSxmPVNuKGMpO2UucHVzaChmKX19fXJldHVybiBlfSwkbi5nZXRFeHRBSUFJbmZvPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Uub2NzcD1bXSxlLmNhaXNzdWVyPVtdO3ZhciBuPSRuLmdldFBvc09mVExWX1YzRXh0VmFsdWUodCxcImF1dGhvcml0eUluZm9BY2Nlc3NcIik7aWYobj09LTEpcmV0dXJuIG51bGw7aWYoXCIzMFwiIT10LnN1YnN0cihuLDIpKXRocm93XCJtYWxmb3JtZWQgQUlBIEV4dG4gVmFsdWVcIjtmb3IodmFyIHI9T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsbiksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLG89T3IuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQscyk7aWYoMiE9by5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBBY2Nlc3NEZXNjcmlwdGlvbiBvZiBBSUEgRXh0blwiO3ZhciBhPW9bMF0sdT1vWzFdO1wiMmIwNjAxMDUwNTA3MzAwMVwiPT1Pci5nZXRIZXhPZlZfQXRPYmoodCxhKSYmXCI4NlwiPT10LnN1YnN0cih1LDIpJiZlLm9jc3AucHVzaChTbihPci5nZXRIZXhPZlZfQXRPYmoodCx1KSkpLFwiMmIwNjAxMDUwNTA3MzAwMlwiPT1Pci5nZXRIZXhPZlZfQXRPYmoodCxhKSYmXCI4NlwiPT10LnN1YnN0cih1LDIpJiZlLmNhaXNzdWVyLnB1c2goU24oT3IuZ2V0SGV4T2ZWX0F0T2JqKHQsdSkpKX1yZXR1cm4gZX0sJG4uZ2V0U2lnbmF0dXJlQWxnb3JpdGhtTmFtZT1mdW5jdGlvbih0KXt2YXIgZT1Pci5nZXREZWNlbmRhbnRIZXhWQnlOdGhMaXN0KHQsMCxbMSwwXSksbj1Dci5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50KGUpLHI9Q3IuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShuKTtyZXR1cm4gcn0sJG4uZ2V0U2lnbmF0dXJlVmFsdWVIZXg9ZnVuY3Rpb24odCl7dmFyIGU9T3IuZ2V0RGVjZW5kYW50SGV4VkJ5TnRoTGlzdCh0LDAsWzJdKTtpZihcIjAwXCIhPT1lLnN1YnN0cigwLDIpKXRocm93XCJjYW4ndCBnZXQgc2lnbmF0dXJlIHZhbHVlXCI7cmV0dXJuIGUuc3Vic3RyKDIpfSwkbi5nZXRTZXJpYWxOdW1iZXJIZXg9ZnVuY3Rpb24odCl7cmV0dXJuIE9yLmdldERlY2VuZGFudEhleFZCeU50aExpc3QodCwwLFswLDFdKX0sLyohIGp3cy0zLjMuNCAoYykgMjAxMy0yMDE2IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG5cdCAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyJiZDcnx8KENyPXt9KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQ3IuandzJiZDci5qd3N8fChDci5qd3M9e30pLENyLmp3cy5KV1M9ZnVuY3Rpb24oKXt2YXIgdD1Dci5qd3MuSldTO3RoaXMucGFyc2VKV1M9ZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT10aGlzLnBhcnNlZEpXU3x8IW4mJnZvaWQgMD09PXRoaXMucGFyc2VkSldTLnNpZ3ZhbEgpe2lmKG51bGw9PWUubWF0Y2goL14oW14uXSspXFwuKFteLl0rKVxcLihbXi5dKykkLykpdGhyb3dcIkpXUyBzaWduYXR1cmUgaXMgbm90IGEgZm9ybSBvZiAnSGVhZC5QYXlsb2FkLlNpZ1ZhbHVlJy5cIjt2YXIgcj1SZWdFeHAuJDEsaT1SZWdFeHAuJDIscz1SZWdFeHAuJDMsbz1yK1wiLlwiK2k7aWYodGhpcy5wYXJzZWRKV1M9e30sdGhpcy5wYXJzZWRKV1MuaGVhZEI2NFU9cix0aGlzLnBhcnNlZEpXUy5wYXlsb2FkQjY0VT1pLHRoaXMucGFyc2VkSldTLnNpZ3ZhbEI2NFU9cyx0aGlzLnBhcnNlZEpXUy5zaT1vLCFuKXt2YXIgYT1wbihzKSx1PWRlKGEsMTYpO3RoaXMucGFyc2VkSldTLnNpZ3ZhbEg9YSx0aGlzLnBhcnNlZEpXUy5zaWd2YWxCST11fXZhciBoPURyKHIpLGM9RHIoaSk7aWYodGhpcy5wYXJzZWRKV1MuaGVhZFM9aCx0aGlzLnBhcnNlZEpXUy5wYXlsb2FkUz1jLCF0LmlzU2FmZUpTT05TdHJpbmcoaCx0aGlzLnBhcnNlZEpXUyxcImhlYWRQXCIpKXRocm93XCJtYWxmb3JtZWQgSlNPTiBzdHJpbmcgZm9yIEpXUyBIZWFkOiBcIitofX19LENyLmp3cy5KV1Muc2lnbj1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBzLG8sYSx1PUNyLmp3cy5KV1M7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93XCJzcEhlYWRlciBtdXN0IGJlIEpTT04gc3RyaW5nIG9yIG9iamVjdDogXCIrZTtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmKG89ZSxzPUpTT04uc3RyaW5naWZ5KG8pKSxcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYocz1lLCF1LmlzU2FmZUpTT05TdHJpbmcocykpdGhyb3dcIkpXUyBIZWFkIGlzIG5vdCBzYWZlIEpTT04gc3RyaW5nOiBcIitzO289dS5yZWFkU2FmZUpTT05TdHJpbmcocyl9aWYoYT1uLFwib2JqZWN0XCI9PXR5cGVvZiBuJiYoYT1KU09OLnN0cmluZ2lmeShuKSksXCJcIiE9dCYmbnVsbCE9dHx8dm9pZCAwPT09by5hbGd8fCh0PW8uYWxnKSxcIlwiIT10JiZudWxsIT10JiZ2b2lkIDA9PT1vLmFsZyYmKG8uYWxnPXQscz1KU09OLnN0cmluZ2lmeShvKSksdCE9PW8uYWxnKXRocm93XCJhbGcgYW5kIHNIZWFkZXIuYWxnIGRvZXNuJ3QgbWF0Y2g6IFwiK3QrXCIhPVwiK28uYWxnO3ZhciBoPW51bGw7aWYodm9pZCAwPT09dS5qd3NhbGcyc2lnYWxnW3RdKXRocm93XCJ1bnN1cHBvcnRlZCBhbGcgbmFtZTogXCIrdDtoPXUuandzYWxnMnNpZ2FsZ1t0XTt2YXIgYz1UcihzKSxmPVRyKGEpLGw9YytcIi5cIitmLGQ9XCJcIjtpZihcIkhtYWNcIj09aC5zdWJzdHIoMCw0KSl7aWYodm9pZCAwPT09cil0aHJvd1wibWFjIGtleSBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yIEhTKiBhbGdcIjt2YXIgZz1uZXcgQ3IuY3J5cHRvLk1hYyh7YWxnOmgscHJvdjpcImNyeXB0b2pzXCIscGFzczpyfSk7Zy51cGRhdGVTdHJpbmcobCksZD1nLmRvRmluYWwoKX1lbHNlIGlmKGguaW5kZXhPZihcIndpdGhFQ0RTQVwiKSE9LTEpe3ZhciBwPW5ldyBDci5jcnlwdG8uU2lnbmF0dXJlKHthbGc6aH0pO3AuaW5pdChyLGkpLHAudXBkYXRlU3RyaW5nKGwpLGhBU04xU2lnPXAuc2lnbigpLGQ9Q3IuY3J5cHRvLkVDRFNBLmFzbjFTaWdUb0NvbmNhdFNpZyhoQVNOMVNpZyl9ZWxzZSBpZihcIm5vbmVcIiE9aCl7dmFyIHA9bmV3IENyLmNyeXB0by5TaWduYXR1cmUoe2FsZzpofSk7cC5pbml0KHIsaSkscC51cGRhdGVTdHJpbmcobCksZD1wLnNpZ24oKX12YXIgeT1nbihkKTtyZXR1cm4gbCtcIi5cIit5fSxDci5qd3MuSldTLnZlcmlmeT1mdW5jdGlvbih0LGUsbil7dmFyIHI9Q3IuandzLkpXUyxpPXQuc3BsaXQoXCIuXCIpLHM9aVswXSxvPWlbMV0sYT1zK1wiLlwiK28sdT1wbihpWzJdKSxoPXIucmVhZFNhZmVKU09OU3RyaW5nKERyKGlbMF0pKSxjPW51bGwsZj1udWxsO2lmKHZvaWQgMD09PWguYWxnKXRocm93XCJhbGdvcml0aG0gbm90IHNwZWNpZmllZCBpbiBoZWFkZXJcIjtpZihjPWguYWxnLGY9Yy5zdWJzdHIoMCwyKSxudWxsIT1uJiZcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikmJm4ubGVuZ3RoPjApe3ZhciBsPVwiOlwiK24uam9pbihcIjpcIikrXCI6XCI7aWYobC5pbmRleE9mKFwiOlwiK2MrXCI6XCIpPT0tMSl0aHJvd1wiYWxnb3JpdGhtICdcIitjK1wiJyBub3QgYWNjZXB0ZWQgaW4gdGhlIGxpc3RcIn1pZihcIm5vbmVcIiE9YyYmbnVsbD09PWUpdGhyb3dcImtleSBzaGFsbCBiZSBzcGVjaWZpZWQgdG8gdmVyaWZ5LlwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKSE9LTEmJihlPUhyLmdldEtleShlKSksIShcIlJTXCIhPWYmJlwiUFNcIiE9Znx8ZSBpbnN0YW5jZW9mIHZlKSl0aHJvd1wia2V5IHNoYWxsIGJlIGEgUlNBS2V5IG9iaiBmb3IgUlMqIGFuZCBQUyogYWxnc1wiO2lmKFwiRVNcIj09ZiYmIShlIGluc3RhbmNlb2YgQ3IuY3J5cHRvLkVDRFNBKSl0aHJvd1wia2V5IHNoYWxsIGJlIGEgRUNEU0Egb2JqIGZvciBFUyogYWxnc1wiO3ZhciBkPW51bGw7aWYodm9pZCAwPT09ci5qd3NhbGcyc2lnYWxnW2guYWxnXSl0aHJvd1widW5zdXBwb3J0ZWQgYWxnIG5hbWU6IFwiK2M7aWYoZD1yLmp3c2FsZzJzaWdhbGdbY10sXCJub25lXCI9PWQpdGhyb3dcIm5vdCBzdXBwb3J0ZWRcIjtpZihcIkhtYWNcIj09ZC5zdWJzdHIoMCw0KSl7dmFyIGc9bnVsbDtpZih2b2lkIDA9PT1lKXRocm93XCJoZXhhZGVjaW1hbCBrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIGZvciBITUFDXCI7dmFyIHA9bmV3IENyLmNyeXB0by5NYWMoe2FsZzpkLHBhc3M6ZX0pO3JldHVybiBwLnVwZGF0ZVN0cmluZyhhKSxnPXAuZG9GaW5hbCgpLHU9PWd9aWYoZC5pbmRleE9mKFwid2l0aEVDRFNBXCIpIT0tMSl7dmFyIHk9bnVsbDt0cnl7eT1Dci5jcnlwdG8uRUNEU0EuY29uY2F0U2lnVG9BU04xU2lnKHUpfWNhdGNoKHQpe3JldHVybiExfXZhciB2PW5ldyBDci5jcnlwdG8uU2lnbmF0dXJlKHthbGc6ZH0pO3JldHVybiB2LmluaXQoZSksdi51cGRhdGVTdHJpbmcoYSksdi52ZXJpZnkoeSl9dmFyIHY9bmV3IENyLmNyeXB0by5TaWduYXR1cmUoe2FsZzpkfSk7cmV0dXJuIHYuaW5pdChlKSx2LnVwZGF0ZVN0cmluZyhhKSx2LnZlcmlmeSh1KX0sQ3IuandzLkpXUy5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaT10LnNwbGl0KFwiLlwiKSxzPXt9O2lmKDIhPWkubGVuZ3RoJiYzIT1pLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIHNKV1M6IHdyb25nIG51bWJlciBvZiAnLicgc3BsaXR0ZWQgZWxlbWVudHNcIjtyZXR1cm4gZT1pWzBdLG49aVsxXSwzPT1pLmxlbmd0aCYmKHI9aVsyXSkscy5oZWFkZXJPYmo9Q3IuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmcoRHIoZSkpLHMucGF5bG9hZE9iaj1Dci5qd3MuSldTLnJlYWRTYWZlSlNPTlN0cmluZyhEcihuKSkscy5oZWFkZXJQUD1KU09OLnN0cmluZ2lmeShzLmhlYWRlck9iaixudWxsLFwiICBcIiksbnVsbD09cy5wYXlsb2FkT2JqP3MucGF5bG9hZFBQPURyKG4pOnMucGF5bG9hZFBQPUpTT04uc3RyaW5naWZ5KHMucGF5bG9hZE9iaixudWxsLFwiICBcIiksdm9pZCAwIT09ciYmKHMuc2lnSGV4PXBuKHIpKSxzfSxDci5qd3MuSldTLnZlcmlmeUpXVD1mdW5jdGlvbih0LGUsbil7dmFyIHI9Q3IuandzLkpXUyxpPXQuc3BsaXQoXCIuXCIpLHM9aVswXSxvPWlbMV0sYT0ocG4oaVsyXSksci5yZWFkU2FmZUpTT05TdHJpbmcoRHIocykpKSx1PXIucmVhZFNhZmVKU09OU3RyaW5nKERyKG8pKTtpZih2b2lkIDA9PT1hLmFsZylyZXR1cm4hMTtpZih2b2lkIDA9PT1uLmFsZyl0aHJvd1wiYWNjZXB0RmllbGQuYWxnIHNoYWxsIGJlIHNwZWNpZmllZFwiO2lmKCFyLmluQXJyYXkoYS5hbGcsbi5hbGcpKXJldHVybiExO2lmKHZvaWQgMCE9PXUuaXNzJiZcIm9iamVjdFwiPT10eXBlb2Ygbi5pc3MmJiFyLmluQXJyYXkodS5pc3Msbi5pc3MpKXJldHVybiExO2lmKHZvaWQgMCE9PXUuc3ViJiZcIm9iamVjdFwiPT10eXBlb2Ygbi5zdWImJiFyLmluQXJyYXkodS5zdWIsbi5zdWIpKXJldHVybiExO2lmKHZvaWQgMCE9PXUuYXVkJiZcIm9iamVjdFwiPT10eXBlb2Ygbi5hdWQpaWYoXCJzdHJpbmdcIj09dHlwZW9mIHUuYXVkKXtpZighci5pbkFycmF5KHUuYXVkLG4uYXVkKSlyZXR1cm4hMX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiB1LmF1ZCYmIXIuaW5jbHVkZWRBcnJheSh1LmF1ZCxuLmF1ZCkpcmV0dXJuITE7dmFyIGg9Q3IuandzLkludERhdGUuZ2V0Tm93KCk7cmV0dXJuIHZvaWQgMCE9PW4udmVyaWZ5QXQmJlwibnVtYmVyXCI9PXR5cGVvZiBuLnZlcmlmeUF0JiYoaD1uLnZlcmlmeUF0KSx2b2lkIDAhPT1uLmdyYWNlUGVyaW9kJiZcIm51bWJlclwiPT10eXBlb2Ygbi5ncmFjZVBlcmlvZHx8KG4uZ3JhY2VQZXJpb2Q9MCksISh2b2lkIDAhPT11LmV4cCYmXCJudW1iZXJcIj09dHlwZW9mIHUuZXhwJiZ1LmV4cCtuLmdyYWNlUGVyaW9kPGgpJiYoISh2b2lkIDAhPT11Lm5iZiYmXCJudW1iZXJcIj09dHlwZW9mIHUubmJmJiZoPHUubmJmLW4uZ3JhY2VQZXJpb2QpJiYoISh2b2lkIDAhPT11LmlhdCYmXCJudW1iZXJcIj09dHlwZW9mIHUuaWF0JiZoPHUuaWF0LW4uZ3JhY2VQZXJpb2QpJiYoKHZvaWQgMD09PXUuanRpfHx2b2lkIDA9PT1uLmp0aXx8dS5qdGk9PT1uLmp0aSkmJiEhQ3IuandzLkpXUy52ZXJpZnkodCxlLG4uYWxnKSkpKX0sQ3IuandzLkpXUy5pbmNsdWRlZEFycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIG49Q3IuandzLkpXUy5pbkFycmF5O2lmKG51bGw9PT10KXJldHVybiExO2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiExO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZighbih0W3JdLGUpKXJldHVybiExO3JldHVybiEwfSxDci5qd3MuSldTLmluQXJyYXk9ZnVuY3Rpb24odCxlKXtpZihudWxsPT09ZSlyZXR1cm4hMTtpZihcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm4hMTtpZihcIm51bWJlclwiIT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09dClyZXR1cm4hMDtyZXR1cm4hMX0sQ3IuandzLkpXUy5qd3NhbGcyc2lnYWxnPXtIUzI1NjpcIkhtYWNTSEEyNTZcIixIUzM4NDpcIkhtYWNTSEEzODRcIixIUzUxMjpcIkhtYWNTSEE1MTJcIixSUzI1NjpcIlNIQTI1NndpdGhSU0FcIixSUzM4NDpcIlNIQTM4NHdpdGhSU0FcIixSUzUxMjpcIlNIQTUxMndpdGhSU0FcIixFUzI1NjpcIlNIQTI1NndpdGhFQ0RTQVwiLEVTMzg0OlwiU0hBMzg0d2l0aEVDRFNBXCIsUFMyNTY6XCJTSEEyNTZ3aXRoUlNBYW5kTUdGMVwiLFBTMzg0OlwiU0hBMzg0d2l0aFJTQWFuZE1HRjFcIixQUzUxMjpcIlNIQTUxMndpdGhSU0FhbmRNR0YxXCIsbm9uZTpcIm5vbmVcIn0sQ3IuandzLkpXUy5pc1NhZmVKU09OU3RyaW5nPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsO3RyeXtyZXR1cm4gcj1Qcih0KSxcIm9iamVjdFwiIT10eXBlb2Ygcj8wOnIuY29uc3RydWN0b3I9PT1BcnJheT8wOihlJiYoZVtuXT1yKSwxKX1jYXRjaCh0KXtyZXR1cm4gMH19LENyLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7dHJ5e3JldHVybiBlPVByKHQpLFwib2JqZWN0XCIhPXR5cGVvZiBlP251bGw6ZS5jb25zdHJ1Y3Rvcj09PUFycmF5P251bGw6ZX1jYXRjaCh0KXtyZXR1cm4gbnVsbH19LENyLmp3cy5KV1MuZ2V0RW5jb2RlZFNpZ25hdHVyZVZhbHVlRnJvbUpXUz1mdW5jdGlvbih0KXtpZihudWxsPT10Lm1hdGNoKC9eW14uXStcXC5bXi5dK1xcLihbXi5dKykkLykpdGhyb3dcIkpXUyBzaWduYXR1cmUgaXMgbm90IGEgZm9ybSBvZiAnSGVhZC5QYXlsb2FkLlNpZ1ZhbHVlJy5cIjtyZXR1cm4gUmVnRXhwLiQxfSxDci5qd3MuSldTLmdldEpXS3RodW1icHJpbnQ9ZnVuY3Rpb24odCl7aWYoXCJSU0FcIiE9PXQua3R5JiZcIkVDXCIhPT10Lmt0eSYmXCJvY3RcIiE9PXQua3R5KXRocm93XCJ1bnN1cHBvcnRlZCBhbGdvcml0aG0gZm9yIEpXSyBUaHVtcHJpbnRcIjt2YXIgZT1cIntcIjtpZihcIlJTQVwiPT09dC5rdHkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0Lm58fFwic3RyaW5nXCIhPXR5cGVvZiB0LmUpdGhyb3dcIndyb25nIG4gYW5kIGUgdmFsdWUgZm9yIFJTQSBrZXlcIjtlKz0nXCJlXCI6XCInK3QuZSsnXCIsJyxlKz0nXCJrdHlcIjpcIicrdC5rdHkrJ1wiLCcsZSs9J1wiblwiOlwiJyt0Lm4rJ1wifSd9ZWxzZSBpZihcIkVDXCI9PT10Lmt0eSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQuY3J2fHxcInN0cmluZ1wiIT10eXBlb2YgdC54fHxcInN0cmluZ1wiIT10eXBlb2YgdC55KXRocm93XCJ3cm9uZyBjcnYsIHggYW5kIHkgdmFsdWUgZm9yIEVDIGtleVwiO2UrPSdcImNydlwiOlwiJyt0LmNydisnXCIsJyxlKz0nXCJrdHlcIjpcIicrdC5rdHkrJ1wiLCcsZSs9J1wieFwiOlwiJyt0LngrJ1wiLCcsZSs9J1wieVwiOlwiJyt0LnkrJ1wifSd9ZWxzZSBpZihcIm9jdFwiPT09dC5rdHkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0LmspdGhyb3dcIndyb25nIGsgdmFsdWUgZm9yIG9jdChzeW1tZXRyaWMpIGtleVwiO2UrPSdcImt0eVwiOlwiJyt0Lmt0eSsnXCIsJyxlKz0nXCJrXCI6XCInK3QuaysnXCJ9J312YXIgbj13bihlKSxyPUNyLmNyeXB0by5VdGlsLmhhc2hIZXgobixcInNoYTI1NlwiKSxpPWduKHIpO3JldHVybiBpfSxDci5qd3MuSW50RGF0ZT17fSxDci5qd3MuSW50RGF0ZS5nZXQ9ZnVuY3Rpb24odCl7aWYoXCJub3dcIj09dClyZXR1cm4gQ3IuandzLkludERhdGUuZ2V0Tm93KCk7aWYoXCJub3cgKyAxaG91clwiPT10KXJldHVybiBDci5qd3MuSW50RGF0ZS5nZXROb3coKSszNjAwO2lmKFwibm93ICsgMWRheVwiPT10KXJldHVybiBDci5qd3MuSW50RGF0ZS5nZXROb3coKSs4NjQwMDtpZihcIm5vdyArIDFtb250aFwiPT10KXJldHVybiBDci5qd3MuSW50RGF0ZS5nZXROb3coKSsyNTkyZTM7aWYoXCJub3cgKyAxeWVhclwiPT10KXJldHVybiBDci5qd3MuSW50RGF0ZS5nZXROb3coKSszMTUzNmUzO2lmKHQubWF0Y2goL1okLykpcmV0dXJuIENyLmp3cy5JbnREYXRlLmdldFp1bHUodCk7aWYodC5tYXRjaCgvXlswLTldKyQvKSlyZXR1cm4gcGFyc2VJbnQodCk7dGhyb3dcInVuc3VwcG9ydGVkIGZvcm1hdDogXCIrdH0sQ3IuandzLkludERhdGUuZ2V0WnVsdT1mdW5jdGlvbih0KXt2YXIgZTtpZihlPXQubWF0Y2goLyhcXGQrKShcXGRcXGQpKFxcZFxcZCkoXFxkXFxkKShcXGRcXGQpKFxcZFxcZClaLykpe3ZhciBuPVJlZ0V4cC4kMSxyPXBhcnNlSW50KG4pO2lmKDQ9PW4ubGVuZ3RoKTtlbHNle2lmKDIhPW4ubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgeWVhciBzdHJpbmdcIjtpZig1MDw9ciYmcjwxMDApcj0xOTAwK3I7ZWxzZXtpZighKDA8PXImJnI8NTApKXRocm93XCJtYWxmb3JtZWQgeWVhciBzdHJpbmcgZm9yIFVUQ1RpbWVcIjtyPTJlMytyfX12YXIgaT1wYXJzZUludChSZWdFeHAuJDIpLTEscz1wYXJzZUludChSZWdFeHAuJDMpLG89cGFyc2VJbnQoUmVnRXhwLiQ0KSxhPXBhcnNlSW50KFJlZ0V4cC4kNSksdT1wYXJzZUludChSZWdFeHAuJDYpLGg9bmV3IERhdGUoRGF0ZS5VVEMocixpLHMsbyxhLHUpKTtyZXR1cm5+fihoLzFlMyl9dGhyb3dcInVuc3VwcG9ydGVkIGZvcm1hdDogXCIrdH0sQ3IuandzLkludERhdGUuZ2V0Tm93PWZ1bmN0aW9uKCl7dmFyIHQ9fn4obmV3IERhdGUvMWUzKTtyZXR1cm4gdH0sQ3IuandzLkludERhdGUuaW50RGF0ZTJVVENTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IERhdGUoMWUzKnQpO3JldHVybiBlLnRvVVRDU3RyaW5nKCl9LENyLmp3cy5JbnREYXRlLmludERhdGUyWnVsdT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRGF0ZSgxZTMqdCksbj0oXCIwMDAwXCIrZS5nZXRVVENGdWxsWWVhcigpKS5zbGljZSgtNCkscj0oXCIwMFwiKyhlLmdldFVUQ01vbnRoKCkrMSkpLnNsaWNlKC0yKSxpPShcIjAwXCIrZS5nZXRVVENEYXRlKCkpLnNsaWNlKC0yKSxzPShcIjAwXCIrZS5nZXRVVENIb3VycygpKS5zbGljZSgtMiksbz0oXCIwMFwiK2UuZ2V0VVRDTWludXRlcygpKS5zbGljZSgtMiksYT0oXCIwMFwiK2UuZ2V0VVRDU2Vjb25kcygpKS5zbGljZSgtMik7cmV0dXJuIG4rcitpK3MrbythK1wiWlwifSwvKiEgandzanMtMi4xLjAgKGMpIDIwMTAtMjAxNiBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuXHQgKi9cblwidW5kZWZpbmVkXCIhPXR5cGVvZiBDciYmQ3J8fChDcj17fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIENyLmp3cyYmQ3IuandzfHwoQ3IuandzPXt9KSxDci5qd3MuSldTSlM9ZnVuY3Rpb24oKXt2YXIgdD1Dci5qd3MuSldTLGU9Q3IuandzLkpXUzt0aGlzLmFIZWFkZXI9W10sdGhpcy5zUGF5bG9hZD1cIlwiLHRoaXMuYVNpZ25hdHVyZT1bXSx0aGlzLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmFIZWFkZXI9W10sdGhpcy5zUGF5bG9hZD12b2lkIDAsdGhpcy5hU2lnbmF0dXJlPVtdfSx0aGlzLmluaXRXaXRoSldTPWZ1bmN0aW9uKHQpe3RoaXMuaW5pdCgpO3ZhciBlPXQuc3BsaXQoXCIuXCIpO2lmKDMhPWUubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgaW5wdXQgSldTXCI7dGhpcy5hSGVhZGVyLnB1c2goZVswXSksdGhpcy5zUGF5bG9hZD1lWzFdLHRoaXMuYVNpZ25hdHVyZS5wdXNoKGVbMl0pfSx0aGlzLmFkZFNpZ25hdHVyZT1mdW5jdGlvbih0LGUsbixyKXtpZih2b2lkIDA9PT10aGlzLnNQYXlsb2FkfHxudWxsPT09dGhpcy5zUGF5bG9hZCl0aHJvd1widGhlcmUncyBubyBKU09OLUpTIHNpZ25hdHVyZSB0byBhZGQuXCI7dmFyIGk9dGhpcy5hSGVhZGVyLmxlbmd0aDtpZih0aGlzLmFIZWFkZXIubGVuZ3RoIT10aGlzLmFTaWduYXR1cmUubGVuZ3RoKXRocm93XCJhSGVhZGVyLmxlbmd0aCAhPSBhU2lnbmF0dXJlLmxlbmd0aFwiO3RyeXt2YXIgcz1Dci5qd3MuSldTLnNpZ24odCxlLHRoaXMuc1BheWxvYWQsbixyKSxvPXMuc3BsaXQoXCIuXCIpO29bMF0sb1syXTt0aGlzLmFIZWFkZXIucHVzaChvWzBdKSx0aGlzLmFTaWduYXR1cmUucHVzaChvWzJdKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmFIZWFkZXIubGVuZ3RoPmkmJnRoaXMuYUhlYWRlci5wb3AoKSx0aGlzLmFTaWduYXR1cmUubGVuZ3RoPmkmJnRoaXMuYVNpZ25hdHVyZS5wb3AoKSxcImFkZFNpZ25hdHVyZSBmYWlsZWQ6IFwiK3R9fSx0aGlzLmFkZFNpZ25hdHVyZUJ5SGVhZGVyS2V5PWZ1bmN0aW9uKHQsZSl7dmFyIG49RHIodGhpcy5zUGF5bG9hZCkscj1uZXcgQ3IuandzLkpXUztyLmdlbmVyYXRlSldTQnlQMVBydktleSh0LG4sZSk7dGhpcy5hSGVhZGVyLnB1c2goci5wYXJzZWRKV1MuaGVhZEI2NFUpLHRoaXMuYVNpZ25hdHVyZS5wdXNoKHIucGFyc2VkSldTLnNpZ3ZhbEI2NFUpfSx0aGlzLmFkZFNpZ25hdHVyZUJ5SGVhZGVyUGF5bG9hZEtleT1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IENyLmp3cy5KV1M7ci5nZW5lcmF0ZUpXU0J5UDFQcnZLZXkodCxlLG4pO3RoaXMuYUhlYWRlci5wdXNoKHIucGFyc2VkSldTLmhlYWRCNjRVKSx0aGlzLnNQYXlsb2FkPXIucGFyc2VkSldTLnBheWxvYWRCNjRVLHRoaXMuYVNpZ25hdHVyZS5wdXNoKHIucGFyc2VkSldTLnNpZ3ZhbEI2NFUpfSx0aGlzLnZlcmlmeUFsbD1mdW5jdGlvbih0KXtpZih0aGlzLmFIZWFkZXIubGVuZ3RoIT09dC5sZW5ndGh8fHRoaXMuYVNpZ25hdHVyZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtpZigyIT09bi5sZW5ndGgpcmV0dXJuITE7dmFyIHI9dGhpcy52ZXJpZnlOdGgoZSxuWzBdLG5bMV0pO2lmKHI9PT0hMSlyZXR1cm4hMX1yZXR1cm4hMH0sdGhpcy52ZXJpZnlOdGg9ZnVuY3Rpb24odCxuLHIpe2lmKHRoaXMuYUhlYWRlci5sZW5ndGg8PXR8fHRoaXMuYVNpZ25hdHVyZS5sZW5ndGg8PXQpcmV0dXJuITE7dmFyIGk9dGhpcy5hSGVhZGVyW3RdLHM9dGhpcy5hU2lnbmF0dXJlW3RdLG89aStcIi5cIit0aGlzLnNQYXlsb2FkK1wiLlwiK3MsYT0hMTt0cnl7YT1lLnZlcmlmeShvLG4scil9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuIGF9LHRoaXMudmVyaWZ5V2l0aENlcnRzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuYUhlYWRlci5sZW5ndGghPXQubGVuZ3RoKXRocm93XCJudW0gaGVhZGVycyBkb2VzIG5vdCBtYXRjaCB3aXRoIG51bSBjZXJ0c1wiO2lmKHRoaXMuYVNpZ25hdHVyZS5sZW5ndGghPXQubGVuZ3RoKXRocm93XCJudW0gc2lnbmF0dXJlcyBkb2VzIG5vdCBtYXRjaCB3aXRoIG51bSBjZXJ0c1wiO2Zvcih2YXIgZT10aGlzLnNQYXlsb2FkLG49XCJcIixyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl0scz10aGlzLmFIZWFkZXJbcl0sbz10aGlzLmFTaWduYXR1cmVbcl0sYT1zK1wiLlwiK2UrXCIuXCIrbyx1PW5ldyBDci5qd3MuSldTO3RyeXt2YXIgaD11LnZlcmlmeUpXU0J5UGVtWDUwOUNlcnQoYSxpKTsxIT1oJiYobis9cisxK1widGggc2lnbmF0dXJlIHVubWF0Y2guIFwiKX1jYXRjaCh0KXtuKz1yKzErXCJ0aCBzaWduYXR1cmUgZmFpbChcIit0K1wiKS4gXCJ9fWlmKFwiXCI9PW4pcmV0dXJuIDE7dGhyb3cgbn0sdGhpcy5yZWFkSldTSlM9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciBuPXQucmVhZFNhZmVKU09OU3RyaW5nKGUpO2lmKG51bGw9PW4pdGhyb3dcImFyZ3VtZW50IGlzIG5vdCBzYWZlIEpTT04gb2JqZWN0IHN0cmluZ1wiO3RoaXMuYUhlYWRlcj1uLmhlYWRlcnMsdGhpcy5zUGF5bG9hZD1uLnBheWxvYWQsdGhpcy5hU2lnbmF0dXJlPW4uc2lnbmF0dXJlc31lbHNlIHRyeXtpZighKGUuaGVhZGVycy5sZW5ndGg+MCkpdGhyb3dcIm1hbGZvcm1lZCBoZWFkZXJcIjtpZih0aGlzLmFIZWFkZXI9ZS5oZWFkZXJzLFwic3RyaW5nXCIhPXR5cGVvZiBlLnBheWxvYWQpdGhyb3dcIm1hbGZvcm1lZCBzaWduYXR1cmVzXCI7aWYodGhpcy5zUGF5bG9hZD1lLnBheWxvYWQsIShlLnNpZ25hdHVyZXMubGVuZ3RoPjApKXRocm93XCJtYWxmb3JtZWQgc2lnbmF0dXJlc1wiO3RoaXMuc2lnbmF0dXJlcz1lLnNpZ25hdHVyZXN9Y2F0Y2godCl7dGhyb3dcIm1hbGZvcm1lZCBKV1MtSlMgSlNPTiBvYmplY3Q6IFwiK3R9fSx0aGlzLmdldEpTT049ZnVuY3Rpb24oKXtyZXR1cm57aGVhZGVyczp0aGlzLmFIZWFkZXIscGF5bG9hZDp0aGlzLnNQYXlsb2FkLHNpZ25hdHVyZXM6dGhpcy5hU2lnbmF0dXJlfX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMuYUhlYWRlci5sZW5ndGg/MTowfX0sZS5TZWN1cmVSYW5kb209bGUsZS5ybmdfc2VlZF90aW1lPWhlLGUuQmlnSW50ZWdlcj1vLGUuUlNBS2V5PXZlLGUuRUNEU0E9Q3IuY3J5cHRvLkVDRFNBLGUuRFNBPUNyLmNyeXB0by5EU0EsZS5TaWduYXR1cmU9Q3IuY3J5cHRvLlNpZ25hdHVyZSxlLk1lc3NhZ2VEaWdlc3Q9Q3IuY3J5cHRvLk1lc3NhZ2VEaWdlc3QsZS5NYWM9Q3IuY3J5cHRvLk1hYyxlLktFWVVUSUw9SHIsZS5BU04xSEVYPU9yLGUuWDUwOT0kbixlLkNyeXB0b0pTPW9yLGUuYjY0dG9oZXg9aSxlLmI2NHRvQkE9cyxlLnN0b0JBPXNuLGUuQkF0b3M9b24sZS5CQXRvaGV4PWFuLGUuc3RvaGV4PXVuLGUuc3RvYjY0PWhuLGUuc3RvYjY0dT1jbixlLmI2NHV0b3M9Zm4sZS5iNjR0b2I2NHU9bG4sZS5iNjR1dG9iNjQ9ZG4sZS5oZXgyYjY0PXIsZS5oZXh0b2I2NHU9Z24sZS5iNjR1dG9oZXg9cG4sZS5iNjR0b2hleD1pLGUudXRmOHRvYjY0dT1UcixlLmI2NHV0b3V0Zjg9RHIsZS51dGY4dG9iNjQ9eW4sZS5iNjR0b3V0Zjg9dm4sZS51dGY4dG9oZXg9bW4sZS5oZXh0b3V0Zjg9U24sZS5oZXh0b3JzdHI9Ym4sZS5yc3RydG9oZXg9d24sZS5uZXdsaW5lX3RvVW5peD1GbixlLm5ld2xpbmVfdG9Eb3M9UG4sZS5pbnRhcnlzdHJ0b2hleD1PbixlLnN0cmRpZmZpZHg9UnIsZS5LSlVSPUNyLGUuY3J5cHRvPUNyLmNyeXB0byxlLmFzbjE9Q3IuYXNuMSxlLmp3cz1Dci5qd3MsZS5sYW5nPUNyLmxhbmcsZS5yZWFkRmlsZVVURjg9UW4sZS5yZWFkRmlsZUhleEJ5QmluPVpuLGUucmVhZEZpbGU9dHIsZS5zYXZlRmlsZT1lcixlLnNhdmVGaWxlQmluQnlIZXg9bnJ9KS5jYWxsKGUsbigxMykuQnVmZmVyKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXsvKiFcblx0ICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG5cdCAqXG5cdCAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuXHQgKiBAbGljZW5zZSAgTUlUXG5cdCAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3RyeXt2YXIgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gdC5fX3Byb3RvX189e19fcHJvdG9fXzpVaW50OEFycmF5LnByb3RvdHlwZSxmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fSw0Mj09PXQuZm9vKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuc3ViYXJyYXkmJjA9PT10LnN1YmFycmF5KDEsMSkuYnl0ZUxlbmd0aH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24gaSgpe3JldHVybiBvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIHModCxlKXtpZihpKCk8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoXCIpO3JldHVybiBvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHQ9bmV3IFVpbnQ4QXJyYXkoZSksdC5fX3Byb3RvX189by5wcm90b3R5cGUpOihudWxsPT09dCYmKHQ9bmV3IG8oZSkpLHQubGVuZ3RoPWUpLHR9ZnVuY3Rpb24gbyh0LGUsbil7aWYoIShvLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBvKSlyZXR1cm4gbmV3IG8odCxlLG4pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gYyh0aGlzLHQpfXJldHVybiBhKHRoaXMsdCxlLG4pfWZ1bmN0aW9uIGEodCxlLG4scil7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZCh0LGUsbixyKTpcInN0cmluZ1wiPT10eXBlb2YgZT9mKHQsZSxuKTpnKHQsZSl9ZnVuY3Rpb24gdSh0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJyk7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpfWZ1bmN0aW9uIGgodCxlLG4scil7cmV0dXJuIHUoZSksZTw9MD9zKHQsZSk6dm9pZCAwIT09bj9cInN0cmluZ1wiPT10eXBlb2Ygcj9zKHQsZSkuZmlsbChuLHIpOnModCxlKS5maWxsKG4pOnModCxlKX1mdW5jdGlvbiBjKHQsZSl7aWYodShlKSx0PXModCxlPDA/MDowfHAoZSkpLCFvLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciBuPTA7bjxlOysrbil0W25dPTA7cmV0dXJuIHR9ZnVuY3Rpb24gZih0LGUsbil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4mJlwiXCIhPT1ufHwobj1cInV0ZjhcIiksIW8uaXNFbmNvZGluZyhuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpO3ZhciByPTB8dihlLG4pO3Q9cyh0LHIpO3ZhciBpPXQud3JpdGUoZSxuKTtyZXR1cm4gaSE9PXImJih0PXQuc2xpY2UoMCxpKSksdH1mdW5jdGlvbiBsKHQsZSl7dmFyIG49ZS5sZW5ndGg8MD8wOjB8cChlLmxlbmd0aCk7dD1zKHQsbik7Zm9yKHZhciByPTA7cjxuO3IrPTEpdFtyXT0yNTUmZVtyXTtyZXR1cm4gdH1mdW5jdGlvbiBkKHQsZSxuLHIpe2lmKGUuYnl0ZUxlbmd0aCxuPDB8fGUuYnl0ZUxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kc1wiKTtpZihlLmJ5dGVMZW5ndGg8bisocnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzXCIpO3JldHVybiBlPXZvaWQgMD09PW4mJnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkoZSk6dm9pZCAwPT09cj9uZXcgVWludDhBcnJheShlLG4pOm5ldyBVaW50OEFycmF5KGUsbixyKSxvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHQ9ZSx0Ll9fcHJvdG9fXz1vLnByb3RvdHlwZSk6dD1sKHQsZSksdH1mdW5jdGlvbiBnKHQsZSl7aWYoby5pc0J1ZmZlcihlKSl7dmFyIG49MHxwKGUubGVuZ3RoKTtyZXR1cm4gdD1zKHQsbiksMD09PXQubGVuZ3RoP3Q6KGUuY29weSh0LDAsMCxuKSx0KX1pZihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJmUuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fFwibGVuZ3RoXCJpbiBlKXJldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlLmxlbmd0aHx8WChlLmxlbmd0aCk/cyh0LDApOmwodCxlKTtpZihcIkJ1ZmZlclwiPT09ZS50eXBlJiZaKGUuZGF0YSkpcmV0dXJuIGwodCxlLmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuXCIpfWZ1bmN0aW9uIHAodCl7aWYodD49aSgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2koKS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8dH1mdW5jdGlvbiB5KHQpe3JldHVybit0IT10JiYodD0wKSxvLmFsbG9jKCt0KX1mdW5jdGlvbiB2KHQsZSl7aWYoby5pc0J1ZmZlcih0KSlyZXR1cm4gdC5sZW5ndGg7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXcodCl8fHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIHQuYnl0ZUxlbmd0aDtcInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9XCJcIit0KTt2YXIgbj10Lmxlbmd0aDtpZigwPT09bilyZXR1cm4gMDtmb3IodmFyIHI9ITE7Oylzd2l0Y2goZSl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlIHZvaWQgMDpyZXR1cm4gVyh0KS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqbjtjYXNlXCJoZXhcIjpyZXR1cm4gbj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIFkodCkubGVuZ3RoO2RlZmF1bHQ6aWYocilyZXR1cm4gVyh0KS5sZW5ndGg7ZT0oXCJcIitlKS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIG0odCxlLG4pe3ZhciByPSExO2lmKCh2b2lkIDA9PT1lfHxlPDApJiYoZT0wKSxlPnRoaXMubGVuZ3RoKXJldHVyblwiXCI7aWYoKHZvaWQgMD09PW58fG4+dGhpcy5sZW5ndGgpJiYobj10aGlzLmxlbmd0aCksbjw9MClyZXR1cm5cIlwiO2lmKG4+Pj49MCxlPj4+PTAsbjw9ZSlyZXR1cm5cIlwiO2Zvcih0fHwodD1cInV0ZjhcIik7Oylzd2l0Y2godCl7Y2FzZVwiaGV4XCI6cmV0dXJuIGoodGhpcyxlLG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBDKHRoaXMsZSxuKTtjYXNlXCJhc2NpaVwiOnJldHVybiBEKHRoaXMsZSxuKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gUih0aGlzLGUsbik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIE8odGhpcyxlLG4pO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBIKHRoaXMsZSxuKTtkZWZhdWx0OmlmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3QpO3Q9KHQrXCJcIikudG9Mb3dlckNhc2UoKSxyPSEwfX1mdW5jdGlvbiBTKHQsZSxuKXt2YXIgcj10W2VdO3RbZV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gYih0LGUsbixyLGkpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4tMTtpZihcInN0cmluZ1wiPT10eXBlb2Ygbj8ocj1uLG49MCk6bj4yMTQ3NDgzNjQ3P249MjE0NzQ4MzY0NzpuPC0yMTQ3NDgzNjQ4JiYobj0tMjE0NzQ4MzY0OCksbj0rbixpc05hTihuKSYmKG49aT8wOnQubGVuZ3RoLTEpLG48MCYmKG49dC5sZW5ndGgrbiksbj49dC5sZW5ndGgpe2lmKGkpcmV0dXJuLTE7bj10Lmxlbmd0aC0xfWVsc2UgaWYobjwwKXtpZighaSlyZXR1cm4tMTtuPTB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPW8uZnJvbShlLHIpKSxvLmlzQnVmZmVyKGUpKXJldHVybiAwPT09ZS5sZW5ndGg/LTE6dyh0LGUsbixyLGkpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBlJj0yNTUsby5UWVBFRF9BUlJBWV9TVVBQT1JUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP2k/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQsZSxuKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKHQsZSxuKTp3KHQsW2VdLG4scixpKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIHcodCxlLG4scixpKXtmdW5jdGlvbiBzKHQsZSl7cmV0dXJuIDE9PT1vP3RbZV06dC5yZWFkVUludDE2QkUoZSpvKX12YXIgbz0xLGE9dC5sZW5ndGgsdT1lLmxlbmd0aDtpZih2b2lkIDAhPT1yJiYocj1TdHJpbmcocikudG9Mb3dlckNhc2UoKSxcInVjczJcIj09PXJ8fFwidWNzLTJcIj09PXJ8fFwidXRmMTZsZVwiPT09cnx8XCJ1dGYtMTZsZVwiPT09cikpe2lmKHQubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuLTE7bz0yLGEvPTIsdS89MixuLz0yfXZhciBoO2lmKGkpe3ZhciBjPS0xO2ZvcihoPW47aDxhO2grKylpZihzKHQsaCk9PT1zKGUsYz09PS0xPzA6aC1jKSl7aWYoYz09PS0xJiYoYz1oKSxoLWMrMT09PXUpcmV0dXJuIGMqb31lbHNlIGMhPT0tMSYmKGgtPWgtYyksYz0tMX1lbHNlIGZvcihuK3U+YSYmKG49YS11KSxoPW47aD49MDtoLS0pe2Zvcih2YXIgZj0hMCxsPTA7bDx1O2wrKylpZihzKHQsaCtsKSE9PXMoZSxsKSl7Zj0hMTticmVha31pZihmKXJldHVybiBofXJldHVybi0xfWZ1bmN0aW9uIEUodCxlLG4scil7bj1OdW1iZXIobil8fDA7dmFyIGk9dC5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSxyPmkmJihyPWkpKTpyPWk7dmFyIHM9ZS5sZW5ndGg7aWYocyUyIT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nXCIpO3I+cy8yJiYocj1zLzIpO2Zvcih2YXIgbz0wO288cjsrK28pe3ZhciBhPXBhcnNlSW50KGUuc3Vic3RyKDIqbywyKSwxNik7aWYoaXNOYU4oYSkpcmV0dXJuIG87dFtuK29dPWF9cmV0dXJuIG99ZnVuY3Rpb24gXyh0LGUsbixyKXtyZXR1cm4gRyhXKGUsdC5sZW5ndGgtbiksdCxuLHIpfWZ1bmN0aW9uIHgodCxlLG4scil7cmV0dXJuIEcoSihlKSx0LG4scil9ZnVuY3Rpb24gQSh0LGUsbixyKXtyZXR1cm4geCh0LGUsbixyKX1mdW5jdGlvbiBGKHQsZSxuLHIpe3JldHVybiBHKFkoZSksdCxuLHIpfWZ1bmN0aW9uIFAodCxlLG4scil7cmV0dXJuIEcoeihlLHQubGVuZ3RoLW4pLHQsbixyKX1mdW5jdGlvbiBPKHQsZSxuKXtyZXR1cm4gMD09PWUmJm49PT10Lmxlbmd0aD8kLmZyb21CeXRlQXJyYXkodCk6JC5mcm9tQnl0ZUFycmF5KHQuc2xpY2UoZSxuKSl9ZnVuY3Rpb24gQyh0LGUsbil7bj1NYXRoLm1pbih0Lmxlbmd0aCxuKTtmb3IodmFyIHI9W10saT1lO2k8bjspe3ZhciBzPXRbaV0sbz1udWxsLGE9cz4yMzk/NDpzPjIyMz8zOnM+MTkxPzI6MTtpZihpK2E8PW4pe3ZhciB1LGgsYyxmO3N3aXRjaChhKXtjYXNlIDE6czwxMjgmJihvPXMpO2JyZWFrO2Nhc2UgMjp1PXRbaSsxXSwxMjg9PT0oMTkyJnUpJiYoZj0oMzEmcyk8PDZ8NjMmdSxmPjEyNyYmKG89ZikpO2JyZWFrO2Nhc2UgMzp1PXRbaSsxXSxoPXRbaSsyXSwxMjg9PT0oMTkyJnUpJiYxMjg9PT0oMTkyJmgpJiYoZj0oMTUmcyk8PDEyfCg2MyZ1KTw8Nnw2MyZoLGY+MjA0NyYmKGY8NTUyOTZ8fGY+NTczNDMpJiYobz1mKSk7YnJlYWs7Y2FzZSA0OnU9dFtpKzFdLGg9dFtpKzJdLGM9dFtpKzNdLDEyOD09PSgxOTImdSkmJjEyOD09PSgxOTImaCkmJjEyOD09PSgxOTImYykmJihmPSgxNSZzKTw8MTh8KDYzJnUpPDwxMnwoNjMmaCk8PDZ8NjMmYyxmPjY1NTM1JiZmPDExMTQxMTImJihvPWYpKX19bnVsbD09PW8/KG89NjU1MzMsYT0xKTpvPjY1NTM1JiYoby09NjU1MzYsci5wdXNoKG8+Pj4xMCYxMDIzfDU1Mjk2KSxvPTU2MzIwfDEwMjMmbyksci5wdXNoKG8pLGkrPWF9cmV0dXJuIFQocil9ZnVuY3Rpb24gVCh0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD10dClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdCk7Zm9yKHZhciBuPVwiXCIscj0wO3I8ZTspbis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdC5zbGljZShyLHIrPXR0KSk7cmV0dXJuIG59ZnVuY3Rpb24gRCh0LGUsbil7dmFyIHI9XCJcIjtuPU1hdGgubWluKHQubGVuZ3RoLG4pO2Zvcih2YXIgaT1lO2k8bjsrK2kpcis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmdFtpXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gUih0LGUsbil7dmFyIHI9XCJcIjtuPU1hdGgubWluKHQubGVuZ3RoLG4pO2Zvcih2YXIgaT1lO2k8bjsrK2kpcis9U3RyaW5nLmZyb21DaGFyQ29kZSh0W2ldKTtyZXR1cm4gcn1mdW5jdGlvbiBqKHQsZSxuKXt2YXIgcj10Lmxlbmd0aDsoIWV8fGU8MCkmJihlPTApLCghbnx8bjwwfHxuPnIpJiYobj1yKTtmb3IodmFyIGk9XCJcIixzPWU7czxuOysrcylpKz1xKHRbc10pO3JldHVybiBpfWZ1bmN0aW9uIEgodCxlLG4pe2Zvcih2YXIgcj10LnNsaWNlKGUsbiksaT1cIlwiLHM9MDtzPHIubGVuZ3RoO3MrPTIpaSs9U3RyaW5nLmZyb21DaGFyQ29kZShyW3NdKzI1NipyW3MrMV0pO3JldHVybiBpfWZ1bmN0aW9uIEkodCxlLG4pe2lmKHQlMSE9PTB8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZih0K2U+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24gayh0LGUsbixyLGkscyl7aWYoIW8uaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYoZT5pfHxlPHMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYobityPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIEIodCxlLG4scil7ZTwwJiYoZT02NTUzNStlKzEpO2Zvcih2YXIgaT0wLHM9TWF0aC5taW4odC5sZW5ndGgtbiwyKTtpPHM7KytpKXRbbitpXT0oZSYyNTU8PDgqKHI/aToxLWkpKT4+PjgqKHI/aToxLWkpfWZ1bmN0aW9uIE4odCxlLG4scil7ZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSk7Zm9yKHZhciBpPTAscz1NYXRoLm1pbih0Lmxlbmd0aC1uLDQpO2k8czsrK2kpdFtuK2ldPWU+Pj44KihyP2k6My1pKSYyNTV9ZnVuY3Rpb24gVih0LGUsbixyLGkscyl7aWYobityPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBNKHQsZSxuLHIsaSl7cmV0dXJuIGl8fFYodCxlLG4sNCwzLjQwMjgyMzQ2NjM4NTI4ODZlMzgsLTMuNDAyODIzNDY2Mzg1Mjg4NmUzOCksUS53cml0ZSh0LGUsbixyLDIzLDQpLG4rNH1mdW5jdGlvbiBLKHQsZSxuLHIsaSl7cmV0dXJuIGl8fFYodCxlLG4sOCwxLjc5NzY5MzEzNDg2MjMxNTdlMzA4LC0xLjc5NzY5MzEzNDg2MjMxNTdlMzA4KSxRLndyaXRlKHQsZSxuLHIsNTIsOCksbis4fWZ1bmN0aW9uIEwodCl7aWYodD1VKHQpLnJlcGxhY2UoZXQsXCJcIiksdC5sZW5ndGg8MilyZXR1cm5cIlwiO2Zvcig7dC5sZW5ndGglNCE9PTA7KXQrPVwiPVwiO3JldHVybiB0fWZ1bmN0aW9uIFUodCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9ZnVuY3Rpb24gcSh0KXtyZXR1cm4gdDwxNj9cIjBcIit0LnRvU3RyaW5nKDE2KTp0LnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBXKHQsZSl7ZT1lfHwxLzA7Zm9yKHZhciBuLHI9dC5sZW5ndGgsaT1udWxsLHM9W10sbz0wO288cjsrK28pe2lmKG49dC5jaGFyQ29kZUF0KG8pLG4+NTUyOTUmJm48NTczNDQpe2lmKCFpKXtpZihuPjU2MzE5KXsoZS09Myk+LTEmJnMucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYobysxPT09cil7KGUtPTMpPi0xJiZzLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWk9bjtjb250aW51ZX1pZihuPDU2MzIwKXsoZS09Myk+LTEmJnMucHVzaCgyMzksMTkxLDE4OSksaT1uO2NvbnRpbnVlfW49KGktNTUyOTY8PDEwfG4tNTYzMjApKzY1NTM2fWVsc2UgaSYmKGUtPTMpPi0xJiZzLnB1c2goMjM5LDE5MSwxODkpO2lmKGk9bnVsbCxuPDEyOCl7aWYoKGUtPTEpPDApYnJlYWs7cy5wdXNoKG4pfWVsc2UgaWYobjwyMDQ4KXtpZigoZS09Mik8MClicmVhaztzLnB1c2gobj4+NnwxOTIsNjMmbnwxMjgpfWVsc2UgaWYobjw2NTUzNil7aWYoKGUtPTMpPDApYnJlYWs7cy5wdXNoKG4+PjEyfDIyNCxuPj42JjYzfDEyOCw2MyZufDEyOCl9ZWxzZXtpZighKG48MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKChlLT00KTwwKWJyZWFrO3MucHVzaChuPj4xOHwyNDAsbj4+MTImNjN8MTI4LG4+PjYmNjN8MTI4LDYzJm58MTI4KX19cmV0dXJuIHN9ZnVuY3Rpb24gSih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKWUucHVzaCgyNTUmdC5jaGFyQ29kZUF0KG4pKTtyZXR1cm4gZX1mdW5jdGlvbiB6KHQsZSl7Zm9yKHZhciBuLHIsaSxzPVtdLG89MDtvPHQubGVuZ3RoJiYhKChlLT0yKTwwKTsrK28pbj10LmNoYXJDb2RlQXQobykscj1uPj44LGk9biUyNTYscy5wdXNoKGkpLHMucHVzaChyKTtyZXR1cm4gc31mdW5jdGlvbiBZKHQpe3JldHVybiAkLnRvQnl0ZUFycmF5KEwodCkpfWZ1bmN0aW9uIEcodCxlLG4scil7Zm9yKHZhciBpPTA7aTxyJiYhKGkrbj49ZS5sZW5ndGh8fGk+PXQubGVuZ3RoKTsrK2kpZVtpK25dPXRbaV07cmV0dXJuIGl9ZnVuY3Rpb24gWCh0KXtyZXR1cm4gdCE9PXR9dmFyICQ9bigxNCksUT1uKDE1KSxaPW4oMTYpO2UuQnVmZmVyPW8sZS5TbG93QnVmZmVyPXksZS5JTlNQRUNUX01BWF9CWVRFUz01MCxvLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwIT09dC5UWVBFRF9BUlJBWV9TVVBQT1JUP3QuVFlQRURfQVJSQVlfU1VQUE9SVDpyKCksZS5rTWF4TGVuZ3RoPWkoKSxvLnBvb2xTaXplPTgxOTIsby5fYXVnbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX189by5wcm90b3R5cGUsdH0sby5mcm9tPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYShudWxsLHQsZSxuKX0sby5UWVBFRF9BUlJBWV9TVVBQT1JUJiYoby5wcm90b3R5cGUuX19wcm90b19fPVVpbnQ4QXJyYXkucHJvdG90eXBlLG8uX19wcm90b19fPVVpbnQ4QXJyYXksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJm9bU3ltYm9sLnNwZWNpZXNdPT09byYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLG8uYWxsb2M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBoKG51bGwsdCxlLG4pfSxvLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHQpe3JldHVybiBjKG51bGwsdCl9LG8uYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHQpe3JldHVybiBjKG51bGwsdCl9LG8uaXNCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIShudWxsPT10fHwhdC5faXNCdWZmZXIpfSxvLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXtpZighby5pc0J1ZmZlcih0KXx8IW8uaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnNcIik7aWYodD09PWUpcmV0dXJuIDA7Zm9yKHZhciBuPXQubGVuZ3RoLHI9ZS5sZW5ndGgsaT0wLHM9TWF0aC5taW4obixyKTtpPHM7KytpKWlmKHRbaV0hPT1lW2ldKXtuPXRbaV0scj1lW2ldO2JyZWFrfXJldHVybiBuPHI/LTE6cjxuPzE6MH0sby5pc0VuY29kaW5nPWZ1bmN0aW9uKHQpe3N3aXRjaChTdHJpbmcodCkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sby5jb25jYXQ9ZnVuY3Rpb24odCxlKXtpZighWih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIG8uYWxsb2MoMCk7dmFyIG47aWYodm9pZCAwPT09ZSlmb3IoZT0wLG49MDtuPHQubGVuZ3RoOysrbillKz10W25dLmxlbmd0aDt2YXIgcj1vLmFsbG9jVW5zYWZlKGUpLGk9MDtmb3Iobj0wO248dC5sZW5ndGg7KytuKXt2YXIgcz10W25dO2lmKCFvLmlzQnVmZmVyKHMpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO3MuY29weShyLGkpLGkrPXMubGVuZ3RofXJldHVybiByfSxvLmJ5dGVMZW5ndGg9dixvLnByb3RvdHlwZS5faXNCdWZmZXI9ITAsby5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCUyIT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz0yKVModGhpcyxlLGUrMSk7cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlNCE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9NClTKHRoaXMsZSxlKzMpLFModGhpcyxlKzEsZSsyKTtyZXR1cm4gdGhpc30sby5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCU4IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz04KVModGhpcyxlLGUrNyksUyh0aGlzLGUrMSxlKzYpLFModGhpcyxlKzIsZSs1KSxTKHRoaXMsZSszLGUrNCk7cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PXQ/XCJcIjowPT09YXJndW1lbnRzLmxlbmd0aD9DKHRoaXMsMCx0KTptLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sby5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCFvLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO3JldHVybiB0aGlzPT09dHx8MD09PW8uY29tcGFyZSh0aGlzLHQpfSxvLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9XCJcIixuPWUuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJih0PXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLG4pLm1hdGNoKC8uezJ9L2cpLmpvaW4oXCIgXCIpLHRoaXMubGVuZ3RoPm4mJih0Kz1cIiAuLi4gXCIpKSxcIjxCdWZmZXIgXCIrdCtcIj5cIn0sby5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUsbixyLGkpe2lmKCFvLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO2lmKHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPXQ/dC5sZW5ndGg6MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09aSYmKGk9dGhpcy5sZW5ndGgpLGU8MHx8bj50Lmxlbmd0aHx8cjwwfHxpPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKHI+PWkmJmU+PW4pcmV0dXJuIDA7aWYocj49aSlyZXR1cm4tMTtpZihlPj1uKXJldHVybiAxO2lmKGU+Pj49MCxuPj4+PTAscj4+Pj0wLGk+Pj49MCx0aGlzPT09dClyZXR1cm4gMDtmb3IodmFyIHM9aS1yLGE9bi1lLHU9TWF0aC5taW4ocyxhKSxoPXRoaXMuc2xpY2UocixpKSxjPXQuc2xpY2UoZSxuKSxmPTA7Zjx1OysrZilpZihoW2ZdIT09Y1tmXSl7cz1oW2ZdLGE9Y1tmXTticmVha31yZXR1cm4gczxhPy0xOmE8cz8xOjB9LG8ucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5pbmRleE9mKHQsZSxuKSE9PS0xfSxvLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYih0aGlzLHQsZSxuLCEwKX0sby5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBiKHRoaXMsdCxlLG4sITEpfSxvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUsbixyKXtpZih2b2lkIDA9PT1lKXI9XCJ1dGY4XCIsbj10aGlzLmxlbmd0aCxlPTA7ZWxzZSBpZih2b2lkIDA9PT1uJiZcInN0cmluZ1wiPT10eXBlb2YgZSlyPWUsbj10aGlzLmxlbmd0aCxlPTA7ZWxzZXtpZighaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7ZXw9MCxpc0Zpbml0ZShuKT8obnw9MCx2b2lkIDA9PT1yJiYocj1cInV0ZjhcIikpOihyPW4sbj12b2lkIDApfXZhciBpPXRoaXMubGVuZ3RoLWU7aWYoKHZvaWQgMD09PW58fG4+aSkmJihuPWkpLHQubGVuZ3RoPjAmJihuPDB8fGU8MCl8fGU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtyfHwocj1cInV0ZjhcIik7Zm9yKHZhciBzPSExOzspc3dpdGNoKHIpe2Nhc2VcImhleFwiOnJldHVybiBFKHRoaXMsdCxlLG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBfKHRoaXMsdCxlLG4pO2Nhc2VcImFzY2lpXCI6cmV0dXJuIHgodGhpcyx0LGUsbik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIEEodGhpcyx0LGUsbik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIEYodGhpcyx0LGUsbik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIFAodGhpcyx0LGUsbik7ZGVmYXVsdDppZihzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIityKTtyPShcIlwiK3IpLnRvTG93ZXJDYXNlKCkscz0hMH19LG8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTt2YXIgdHQ9NDA5NjtvLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubGVuZ3RoO3Q9fn50LGU9dm9pZCAwPT09ZT9uOn5+ZSx0PDA/KHQrPW4sdDwwJiYodD0wKSk6dD5uJiYodD1uKSxlPDA/KGUrPW4sZTwwJiYoZT0wKSk6ZT5uJiYoZT1uKSxlPHQmJihlPXQpO3ZhciByO2lmKG8uVFlQRURfQVJSQVlfU1VQUE9SVClyPXRoaXMuc3ViYXJyYXkodCxlKSxyLl9fcHJvdG9fXz1vLnByb3RvdHlwZTtlbHNle3ZhciBpPWUtdDtyPW5ldyBvKGksdm9pZCAwKTtmb3IodmFyIHM9MDtzPGk7KytzKXJbc109dGhpc1tzK3RdfXJldHVybiByfSxvLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKHQsZSxuKXt0fD0wLGV8PTAsbnx8SSh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW3RdLGk9MSxzPTA7KytzPGUmJihpKj0yNTYpOylyKz10aGlzW3Qrc10qaTtyZXR1cm4gcn0sby5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbih0LGUsbil7dHw9MCxlfD0wLG58fEkodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1t0Ky0tZV0saT0xO2U+MCYmKGkqPTI1Nik7KXIrPXRoaXNbdCstLWVdKmk7cmV0dXJuIHJ9LG8ucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxJKHQsMSx0aGlzLmxlbmd0aCksdGhpc1t0XX0sby5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEkodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdfHRoaXNbdCsxXTw8OH0sby5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEkodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdPDw4fHRoaXNbdCsxXX0sby5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEkodCw0LHRoaXMubGVuZ3RoKSwodGhpc1t0XXx0aGlzW3QrMV08PDh8dGhpc1t0KzJdPDwxNikrMTY3NzcyMTYqdGhpc1t0KzNdfSxvLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8SSh0LDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbdF0rKHRoaXNbdCsxXTw8MTZ8dGhpc1t0KzJdPDw4fHRoaXNbdCszXSl9LG8ucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbih0LGUsbil7dHw9MCxlfD0wLG58fEkodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1t0XSxpPTEscz0wOysrczxlJiYoaSo9MjU2KTspcis9dGhpc1t0K3NdKmk7cmV0dXJuIGkqPTEyOCxyPj1pJiYoci09TWF0aC5wb3coMiw4KmUpKSxyfSxvLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24odCxlLG4pe3R8PTAsZXw9MCxufHxJKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPWUsaT0xLHM9dGhpc1t0Ky0tcl07cj4wJiYoaSo9MjU2KTspcys9dGhpc1t0Ky0tcl0qaTtyZXR1cm4gaSo9MTI4LHM+PWkmJihzLT1NYXRoLnBvdygyLDgqZSkpLHN9LG8ucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEkodCwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1t0XT8oMjU1LXRoaXNbdF0rMSkqLTE6dGhpc1t0XX0sby5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24odCxlKXtlfHxJKHQsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1t0XXx0aGlzW3QrMV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LG8ucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKHQsZSl7ZXx8SSh0LDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbdCsxXXx0aGlzW3RdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxvLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxJKHQsNCx0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh8dGhpc1t0KzJdPDwxNnx0aGlzW3QrM108PDI0fSxvLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxJKHQsNCx0aGlzLmxlbmd0aCksdGhpc1t0XTw8MjR8dGhpc1t0KzFdPDwxNnx0aGlzW3QrMl08PDh8dGhpc1t0KzNdfSxvLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxJKHQsNCx0aGlzLmxlbmd0aCksUS5yZWFkKHRoaXMsdCwhMCwyMyw0KX0sby5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8SSh0LDQsdGhpcy5sZW5ndGgpLFEucmVhZCh0aGlzLHQsITEsMjMsNCl9LG8ucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxJKHQsOCx0aGlzLmxlbmd0aCksUS5yZWFkKHRoaXMsdCwhMCw1Miw4KX0sby5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEkodCw4LHRoaXMubGVuZ3RoKSxRLnJlYWQodGhpcyx0LCExLDUyLDgpfSxvLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbih0LGUsbixyKXtpZih0PSt0LGV8PTAsbnw9MCwhcil7dmFyIGk9TWF0aC5wb3coMiw4Km4pLTE7ayh0aGlzLHQsZSxuLGksMCl9dmFyIHM9MSxvPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytvPG4mJihzKj0yNTYpOyl0aGlzW2Urb109dC9zJjI1NTtyZXR1cm4gZStufSxvLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbih0LGUsbixyKXtpZih0PSt0LGV8PTAsbnw9MCwhcil7dmFyIGk9TWF0aC5wb3coMiw4Km4pLTE7ayh0aGlzLHQsZSxuLGksMCl9dmFyIHM9bi0xLG89MTtmb3IodGhpc1tlK3NdPTI1NSZ0Oy0tcz49MCYmKG8qPTI1Nik7KXRoaXNbZStzXT10L28mMjU1O3JldHVybiBlK259LG8ucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGV8PTAsbnx8ayh0aGlzLHQsZSwxLDI1NSwwKSxvLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh0PU1hdGguZmxvb3IodCkpLHRoaXNbZV09MjU1JnQsZSsxfSxvLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlfD0wLG58fGsodGhpcyx0LGUsMiw2NTUzNSwwKSxvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44KTpCKHRoaXMsdCxlLCEwKSxlKzJ9LG8ucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGV8PTAsbnx8ayh0aGlzLHQsZSwyLDY1NTM1LDApLG8uVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQpOkIodGhpcyx0LGUsITEpLGUrMn0sby5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxrKHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSxvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZSszXT10Pj4+MjQsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrMV09dD4+PjgsdGhpc1tlXT0yNTUmdCk6Tih0aGlzLHQsZSwhMCksZSs0fSxvLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlfD0wLG58fGsodGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLG8uVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0KTpOKHRoaXMsdCxlLCExKSxlKzR9LG8ucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24odCxlLG4scil7aWYodD0rdCxlfD0wLCFyKXt2YXIgaT1NYXRoLnBvdygyLDgqbi0xKTtrKHRoaXMsdCxlLG4saS0xLC1pKX12YXIgcz0wLG89MSxhPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytzPG4mJihvKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK3MtMV0mJihhPTEpLHRoaXNbZStzXT0odC9vPj4wKS1hJjI1NTtyZXR1cm4gZStufSxvLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9K3QsZXw9MCwhcil7dmFyIGk9TWF0aC5wb3coMiw4Km4tMSk7ayh0aGlzLHQsZSxuLGktMSwtaSl9dmFyIHM9bi0xLG89MSxhPTA7Zm9yKHRoaXNbZStzXT0yNTUmdDstLXM+PTAmJihvKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK3MrMV0mJihhPTEpLHRoaXNbZStzXT0odC9vPj4wKS1hJjI1NTtyZXR1cm4gZStufSxvLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGV8PTAsbnx8ayh0aGlzLHQsZSwxLDEyNywtMTI4KSxvLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh0PU1hdGguZmxvb3IodCkpLHQ8MCYmKHQ9MjU1K3QrMSksdGhpc1tlXT0yNTUmdCxlKzF9LG8ucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxrKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSxvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44KTpCKHRoaXMsdCxlLCEwKSxlKzJ9LG8ucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxrKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSxvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09dD4+PjgsdGhpc1tlKzFdPTI1NSZ0KTpCKHRoaXMsdCxlLCExKSxlKzJ9LG8ucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxrKHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksby5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjQpOk4odGhpcyx0LGUsITApLGUrNH0sby5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlfD0wLG58fGsodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKSxvLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09dD4+PjI0LHRoaXNbZSsxXT10Pj4+MTYsdGhpc1tlKzJdPXQ+Pj44LHRoaXNbZSszXT0yNTUmdCk6Tih0aGlzLHQsZSwhMSksZSs0fSxvLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNKHRoaXMsdCxlLCEwLG4pfSxvLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNKHRoaXMsdCxlLCExLG4pfSxvLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gSyh0aGlzLHQsZSwhMCxuKX0sby5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIEsodGhpcyx0LGUsITEsbil9LG8ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlLG4scil7aWYobnx8KG49MCkscnx8MD09PXJ8fChyPXRoaXMubGVuZ3RoKSxlPj10Lmxlbmd0aCYmKGU9dC5sZW5ndGgpLGV8fChlPTApLHI+MCYmcjxuJiYocj1uKSxyPT09bilyZXR1cm4gMDtpZigwPT09dC5sZW5ndGh8fDA9PT10aGlzLmxlbmd0aClyZXR1cm4gMDtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKG48MHx8bj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO3I+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKSx0Lmxlbmd0aC1lPHItbiYmKHI9dC5sZW5ndGgtZStuKTt2YXIgaSxzPXItbjtpZih0aGlzPT09dCYmbjxlJiZlPHIpZm9yKGk9cy0xO2k+PTA7LS1pKXRbaStlXT10aGlzW2krbl07ZWxzZSBpZihzPDFlM3x8IW8uVFlQRURfQVJSQVlfU1VQUE9SVClmb3IoaT0wO2k8czsrK2kpdFtpK2VdPXRoaXNbaStuXTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHQsdGhpcy5zdWJhcnJheShuLG4rcyksZSk7cmV0dXJuIHN9LG8ucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLG4scil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlPyhyPWUsZT0wLG49dGhpcy5sZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiBuJiYocj1uLG49dGhpcy5sZW5ndGgpLDE9PT10Lmxlbmd0aCl7dmFyIGk9dC5jaGFyQ29kZUF0KDApO2k8MjU2JiYodD1pKX1pZih2b2lkIDAhPT1yJiZcInN0cmluZ1wiIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmIW8uaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcil9ZWxzZVwibnVtYmVyXCI9PXR5cGVvZiB0JiYodCY9MjU1KTtpZihlPDB8fHRoaXMubGVuZ3RoPGV8fHRoaXMubGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYobjw9ZSlyZXR1cm4gdGhpcztlPj4+PTAsbj12b2lkIDA9PT1uP3RoaXMubGVuZ3RoOm4+Pj4wLHR8fCh0PTApO3ZhciBzO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWZvcihzPWU7czxuOysrcyl0aGlzW3NdPXQ7ZWxzZXt2YXIgYT1vLmlzQnVmZmVyKHQpP3Q6VyhuZXcgbyh0LHIpLnRvU3RyaW5nKCkpLHU9YS5sZW5ndGg7Zm9yKHM9MDtzPG4tZTsrK3MpdGhpc1tzK2VdPWFbcyV1XX1yZXR1cm4gdGhpc307dmFyIGV0PS9bXitcXC8wLTlBLVphLXotX10vZ30pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGUlND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7cmV0dXJuXCI9XCI9PT10W2UtMl0/MjpcIj1cIj09PXRbZS0xXT8xOjB9ZnVuY3Rpb24gcih0KXtyZXR1cm4gMyp0Lmxlbmd0aC80LW4odCl9ZnVuY3Rpb24gaSh0KXt2YXIgZSxyLGkscyxvLGE9dC5sZW5ndGg7cz1uKHQpLG89bmV3IGMoMyphLzQtcykscj1zPjA/YS00OmE7dmFyIHU9MDtmb3IoZT0wO2U8cjtlKz00KWk9aFt0LmNoYXJDb2RlQXQoZSldPDwxOHxoW3QuY2hhckNvZGVBdChlKzEpXTw8MTJ8aFt0LmNoYXJDb2RlQXQoZSsyKV08PDZ8aFt0LmNoYXJDb2RlQXQoZSszKV0sb1t1KytdPWk+PjE2JjI1NSxvW3UrK109aT4+OCYyNTUsb1t1KytdPTI1NSZpO3JldHVybiAyPT09cz8oaT1oW3QuY2hhckNvZGVBdChlKV08PDJ8aFt0LmNoYXJDb2RlQXQoZSsxKV0+PjQsb1t1KytdPTI1NSZpKToxPT09cyYmKGk9aFt0LmNoYXJDb2RlQXQoZSldPDwxMHxoW3QuY2hhckNvZGVBdChlKzEpXTw8NHxoW3QuY2hhckNvZGVBdChlKzIpXT4+MixvW3UrK109aT4+OCYyNTUsb1t1KytdPTI1NSZpKSxvfWZ1bmN0aW9uIHModCl7cmV0dXJuIHVbdD4+MTgmNjNdK3VbdD4+MTImNjNdK3VbdD4+NiY2M10rdVs2MyZ0XX1mdW5jdGlvbiBvKHQsZSxuKXtmb3IodmFyIHIsaT1bXSxvPWU7bzxuO28rPTMpcj0odFtvXTw8MTYpKyh0W28rMV08PDgpK3RbbysyXSxpLnB1c2gocyhyKSk7cmV0dXJuIGkuam9pbihcIlwiKX1mdW5jdGlvbiBhKHQpe2Zvcih2YXIgZSxuPXQubGVuZ3RoLHI9biUzLGk9XCJcIixzPVtdLGE9MTYzODMsaD0wLGM9bi1yO2g8YztoKz1hKXMucHVzaChvKHQsaCxoK2E+Yz9jOmgrYSkpO3JldHVybiAxPT09cj8oZT10W24tMV0saSs9dVtlPj4yXSxpKz11W2U8PDQmNjNdLGkrPVwiPT1cIik6Mj09PXImJihlPSh0W24tMl08PDgpK3Rbbi0xXSxpKz11W2U+PjEwXSxpKz11W2U+PjQmNjNdLGkrPXVbZTw8MiY2M10saSs9XCI9XCIpLHMucHVzaChpKSxzLmpvaW4oXCJcIil9ZS5ieXRlTGVuZ3RoPXIsZS50b0J5dGVBcnJheT1pLGUuZnJvbUJ5dGVBcnJheT1hO2Zvcih2YXIgdT1bXSxoPVtdLGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxmPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGw9MCxkPWYubGVuZ3RoO2w8ZDsrK2wpdVtsXT1mW2xdLGhbZi5jaGFyQ29kZUF0KGwpXT1sO2hbXCItXCIuY2hhckNvZGVBdCgwKV09NjIsaFtcIl9cIi5jaGFyQ29kZUF0KDApXT02M30sZnVuY3Rpb24odCxlKXtlLnJlYWQ9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgcyxvLGE9OCppLXItMSx1PSgxPDxhKS0xLGg9dT4+MSxjPS03LGY9bj9pLTE6MCxsPW4/LTE6MSxkPXRbZStmXTtmb3IoZis9bCxzPWQmKDE8PC1jKS0xLGQ+Pj0tYyxjKz1hO2M+MDtzPTI1NipzK3RbZStmXSxmKz1sLGMtPTgpO2ZvcihvPXMmKDE8PC1jKS0xLHM+Pj0tYyxjKz1yO2M+MDtvPTI1NipvK3RbZStmXSxmKz1sLGMtPTgpO2lmKDA9PT1zKXM9MS1oO2Vsc2V7aWYocz09PXUpcmV0dXJuIG8/TmFOOihkPy0xOjEpKigxLzApO28rPU1hdGgucG93KDIscikscy09aH1yZXR1cm4oZD8tMToxKSpvKk1hdGgucG93KDIscy1yKX0sZS53cml0ZT1mdW5jdGlvbih0LGUsbixyLGkscyl7dmFyIG8sYSx1LGg9OCpzLWktMSxjPSgxPDxoKS0xLGY9Yz4+MSxsPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZD1yPzA6cy0xLGc9cj8xOi0xLHA9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhhPWlzTmFOKGUpPzE6MCxvPWMpOihvPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHU9TWF0aC5wb3coMiwtbykpPDEmJihvLS0sdSo9MiksZSs9bytmPj0xP2wvdTpsKk1hdGgucG93KDIsMS1mKSxlKnU+PTImJihvKyssdS89MiksbytmPj1jPyhhPTAsbz1jKTpvK2Y+PTE/KGE9KGUqdS0xKSpNYXRoLnBvdygyLGkpLG8rPWYpOihhPWUqTWF0aC5wb3coMixmLTEpKk1hdGgucG93KDIsaSksbz0wKSk7aT49ODt0W24rZF09MjU1JmEsZCs9ZyxhLz0yNTYsaS09OCk7Zm9yKG89bzw8aXxhLGgrPWk7aD4wO3RbbitkXT0yNTUmbyxkKz1nLG8vPTI1NixoLT04KTt0W24rZC1nXXw9MTI4KnB9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PW4uY2FsbCh0KX19LGZ1bmN0aW9uKHQsZSl7fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9bigxKSxvPXIocyksYT1uKDE5KSx1PXIoYSksaD1uKDIwKSxjPXIoaCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS51cmwscj1lLmNsaWVudF9pZCxzPWUucmVkaXJlY3RfdXJpLGE9ZS5yZXNwb25zZV90eXBlLGg9ZS5zY29wZSxmPWUuYXV0aG9yaXR5LGw9ZS5kYXRhLGQ9ZS5wcm9tcHQsZz1lLmRpc3BsYXkscD1lLm1heF9hZ2UseT1lLnVpX2xvY2FsZXMsdj1lLmlkX3Rva2VuX2hpbnQsbT1lLmxvZ2luX2hpbnQsUz1lLmFjcl92YWx1ZXMsYj1lLnJlc291cmNlLHc9ZS5yZXF1ZXN0LEU9ZS5yZXF1ZXN0X3VyaSxfPWUuZXh0cmFRdWVyeVBhcmFtcztpZihpKHRoaXMsdCksIW4pdGhyb3cgby5kZWZhdWx0LmVycm9yKFwiTm8gdXJsIHBhc3NlZCB0byBTaWduaW5SZXF1ZXN0XCIpLG5ldyBFcnJvcihcInVybFwiKTtpZighcil0aHJvdyBvLmRlZmF1bHQuZXJyb3IoXCJObyBjbGllbnRfaWQgcGFzc2VkIHRvIFNpZ25pblJlcXVlc3RcIiksbmV3IEVycm9yKFwiY2xpZW50X2lkXCIpO2lmKCFzKXRocm93IG8uZGVmYXVsdC5lcnJvcihcIk5vIHJlZGlyZWN0X3VyaSBwYXNzZWQgdG8gU2lnbmluUmVxdWVzdFwiKSxuZXcgRXJyb3IoXCJyZWRpcmVjdF91cmlcIik7aWYoIWEpdGhyb3cgby5kZWZhdWx0LmVycm9yKFwiTm8gcmVzcG9uc2VfdHlwZSBwYXNzZWQgdG8gU2lnbmluUmVxdWVzdFwiKSxuZXcgRXJyb3IoXCJyZXNwb25zZV90eXBlXCIpO2lmKCFoKXRocm93IG8uZGVmYXVsdC5lcnJvcihcIk5vIHNjb3BlIHBhc3NlZCB0byBTaWduaW5SZXF1ZXN0XCIpLG5ldyBFcnJvcihcInNjb3BlXCIpO2lmKCFmKXRocm93IG8uZGVmYXVsdC5lcnJvcihcIk5vIGF1dGhvcml0eSBwYXNzZWQgdG8gU2lnbmluUmVxdWVzdFwiKSxuZXcgRXJyb3IoXCJhdXRob3JpdHlcIik7dmFyIHg9dC5pc09pZGMoYSk7dGhpcy5zdGF0ZT1uZXcgYy5kZWZhdWx0KHtub25jZTp4LGRhdGE6bCxjbGllbnRfaWQ6cixhdXRob3JpdHk6Zn0pLG49dS5kZWZhdWx0LmFkZFF1ZXJ5UGFyYW0obixcImNsaWVudF9pZFwiLHIpLG49dS5kZWZhdWx0LmFkZFF1ZXJ5UGFyYW0obixcInJlZGlyZWN0X3VyaVwiLHMpLG49dS5kZWZhdWx0LmFkZFF1ZXJ5UGFyYW0obixcInJlc3BvbnNlX3R5cGVcIixhKSxuPXUuZGVmYXVsdC5hZGRRdWVyeVBhcmFtKG4sXCJzY29wZVwiLGgpLG49dS5kZWZhdWx0LmFkZFF1ZXJ5UGFyYW0obixcInN0YXRlXCIsdGhpcy5zdGF0ZS5pZCkseCYmKG49dS5kZWZhdWx0LmFkZFF1ZXJ5UGFyYW0obixcIm5vbmNlXCIsdGhpcy5zdGF0ZS5ub25jZSkpO3ZhciBBPXtwcm9tcHQ6ZCxkaXNwbGF5OmcsbWF4X2FnZTpwLHVpX2xvY2FsZXM6eSxpZF90b2tlbl9oaW50OnYsbG9naW5faGludDptLGFjcl92YWx1ZXM6UyxyZXNvdXJjZTpiLHJlcXVlc3Q6dyxyZXF1ZXN0X3VyaTpFfTtmb3IodmFyIEYgaW4gQSlBW0ZdJiYobj11LmRlZmF1bHQuYWRkUXVlcnlQYXJhbShuLEYsQVtGXSkpO2Zvcih2YXIgUCBpbiBfKW49dS5kZWZhdWx0LmFkZFF1ZXJ5UGFyYW0obixQLF9bUF0pO3RoaXMudXJsPW59cmV0dXJuIHQuaXNPaWRjPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoL1xccysvZykuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwiaWRfdG9rZW5cIj09PXR9KTtyZXR1cm4hIWVbMF19LHQuaXNPQXV0aD1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KC9cXHMrL2cpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cInRva2VuXCI9PT10fSk7cmV0dXJuISFlWzBdfSx0fSgpO2UuZGVmYXVsdD1mLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDEpLG89cihzKSxhPW4oNSksdT1yKGEpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aSh0aGlzLHQpfXJldHVybiB0LmFkZFF1ZXJ5UGFyYW09ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmluZGV4T2YoXCI/XCIpPDAmJih0Kz1cIj9cIiksXCI/XCIhPT10W3QubGVuZ3RoLTFdJiYodCs9XCImXCIpLHQrPWVuY29kZVVSSUNvbXBvbmVudChlKSx0Kz1cIj1cIix0Kz1lbmNvZGVVUklDb21wb25lbnQobil9LHQucGFyc2VVcmxGcmFnbWVudD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCIjXCIsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dS5kZWZhdWx0O28uZGVmYXVsdC5kZWJ1ZyhcIlVybFV0aWxpdHkucGFyc2VVcmxGcmFnbWVudFwiKSxcInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9bi5sb2NhdGlvbi5ocmVmKTt2YXIgcj10Lmxhc3RJbmRleE9mKGUpO3I+PTAmJih0PXQuc3Vic3RyKHIrMSkpO2Zvcih2YXIgaSxzPXt9LGE9LyhbXiY9XSspPShbXiZdKikvZyxoPTA7aT1hLmV4ZWModCk7KWlmKHNbZGVjb2RlVVJJQ29tcG9uZW50KGlbMV0pXT1kZWNvZGVVUklDb21wb25lbnQoaVsyXSksaCsrPjUwKXJldHVybiBvLmRlZmF1bHQuZXJyb3IoXCJyZXNwb25zZSBleGNlZWRlZCBleHBlY3RlZCBudW1iZXIgb2YgcGFyYW1ldGVyc1wiLHQpLHtlcnJvcjpcIlJlc3BvbnNlIGV4Y2VlZGVkIGV4cGVjdGVkIG51bWJlciBvZiBwYXJhbWV0ZXJzXCJ9O2Zvcih2YXIgYyBpbiBzKXJldHVybiBzO3JldHVybnt9fSx0fSgpO2UuZGVmYXVsdD1oLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksdT1uKDEpLGg9cih1KSxjPW4oMjEpLGY9cihjKSxsPW4oMjIpLGQ9cihsKSxnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLm5vbmNlLG89bi5hdXRob3JpdHksYT1uLmNsaWVudF9pZDtpKHRoaXMsZSk7dmFyIHU9cyh0aGlzLHQuY2FsbCh0aGlzLGFyZ3VtZW50c1swXSkpO3JldHVybiByPT09ITA/dS5fbm9uY2U9KDAsZC5kZWZhdWx0KSgpOnImJih1Ll9ub25jZT1yKSx1Ll9hdXRob3JpdHk9byx1Ll9jbGllbnRfaWQ9YSx1fXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUudG9TdG9yYWdlU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcIlNpZ25pblN0YXRlLnRvU3RvcmFnZVN0cmluZ1wiKSxKU09OLnN0cmluZ2lmeSh7aWQ6dGhpcy5pZCxkYXRhOnRoaXMuZGF0YSxjcmVhdGVkOnRoaXMuY3JlYXRlZCxub25jZTp0aGlzLm5vbmNlLGF1dGhvcml0eTp0aGlzLmF1dGhvcml0eSxjbGllbnRfaWQ6dGhpcy5jbGllbnRfaWR9KX0sZS5mcm9tU3RvcmFnZVN0cmluZz1mdW5jdGlvbih0KXtoLmRlZmF1bHQuZGVidWcoXCJTaWduaW5TdGF0ZS5mcm9tU3RvcmFnZVN0cmluZ1wiKTt2YXIgbj1KU09OLnBhcnNlKHQpO3JldHVybiBuZXcgZShuKX0sYShlLFt7a2V5Olwibm9uY2VcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9uY2V9fSx7a2V5OlwiYXV0aG9yaXR5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1dGhvcml0eX19LHtrZXk6XCJjbGllbnRfaWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpZW50X2lkfX1dKSxlfShmLmRlZmF1bHQpO2UuZGVmYXVsdD1nLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLG89bigxKSxhPXIobyksdT1uKDIyKSxoPXIodSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLmlkLHI9ZS5kYXRhLHM9ZS5jcmVhdGVkO2kodGhpcyx0KSx0aGlzLl9pZD1ufHwoMCxoLmRlZmF1bHQpKCksdGhpcy5fZGF0YT1yLFwibnVtYmVyXCI9PXR5cGVvZiBzJiZzPjA/dGhpcy5fY3JlYXRlZD1zOnRoaXMuX2NyZWF0ZWQ9cGFyc2VJbnQoRGF0ZS5ub3coKS8xZTMpfXJldHVybiB0LnByb3RvdHlwZS50b1N0b3JhZ2VTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiU3RhdGUudG9TdG9yYWdlU3RyaW5nXCIpLEpTT04uc3RyaW5naWZ5KHtpZDp0aGlzLmlkLGRhdGE6dGhpcy5kYXRhLGNyZWF0ZWQ6dGhpcy5jcmVhdGVkfSl9LHQuZnJvbVN0b3JhZ2VTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIlN0YXRlLmZyb21TdG9yYWdlU3RyaW5nXCIpLG5ldyB0KEpTT04ucGFyc2UoZSkpfSx0LmNsZWFyU3RhbGVTdGF0ZT1mdW5jdGlvbihlLG4pe2EuZGVmYXVsdC5kZWJ1ZyhcIlN0YXRlLmNsZWFyU3RhbGVTdGF0ZVwiKTt2YXIgcj1EYXRlLm5vdygpLzFlMy1uO3JldHVybiBlLmdldEFsbEtleXMoKS50aGVuKGZ1bmN0aW9uKG4pe2EuZGVmYXVsdC5kZWJ1ZyhcImdvdCBrZXlzXCIsbik7dmFyIGk9W10scz0hMCxvPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGgsYz1mdW5jdGlvbigpe3ZhciBuPWgudmFsdWU7bD1lLmdldChuKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBzPSExO2lmKGkpdHJ5e3ZhciBvPXQuZnJvbVN0b3JhZ2VTdHJpbmcoaSk7YS5kZWZhdWx0LmRlYnVnKFwiZ290IGl0ZW0gZnJvbSBrZXk6IFwiLG4sby5jcmVhdGVkKSxvLmNyZWF0ZWQ8PXImJihzPSEwKX1jYXRjaCh0KXthLmRlZmF1bHQuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHN0YXRlIGZvciBrZXlcIixuLHQubWVzc2FnZSkscz0hMH1lbHNlIGEuZGVmYXVsdC5kZWJ1ZyhcIm5vIGl0ZW0gaW4gc3RvcmFnZSBmb3Iga2V5OiBcIixuKSxzPSEwO2lmKHMpcmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcInJlbW92ZWQgaXRlbSBmb3Iga2V5OiBcIixuKSxlLnJlbW92ZShuKX0pLGkucHVzaChsKX0sZj1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHM9KGg9Zi5uZXh0KCkpLmRvbmUpO3M9ITApe3ZhciBsO2MoKX19Y2F0Y2godCl7bz0hMCx1PXR9ZmluYWxseXt0cnl7IXMmJmYucmV0dXJuJiZmLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyB1fX1yZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwid2FpdGluZyBvbiBwcm9taXNlIGNvdW50OlwiLGkubGVuZ3RoKSxQcm9taXNlLmFsbChpKX0pfSxzKHQsW3trZXk6XCJpZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6XCJkYXRhXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fSx7a2V5OlwiY3JlYXRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVkfX1dKSx0fSgpO2UuZGVmYXVsdD1jLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7XG4vLyBAcHJlc2VydmUgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgT3BlbiBUZWNobm9sb2dpZXMsIEluYy5cbmZ1bmN0aW9uIG4oKXtmb3IodmFyIHQ9XCJ4eHh4eHh4eHh4eHg0eHh4eXh4eHh4eHh4eHh4eHh4eFwiLGU9XCIwMTIzNDU2Nzg5YWJjZGVmXCIsbj0wLHI9XCJcIixpPTA7aTx0Lmxlbmd0aDtpKyspXCItXCIhPT10W2ldJiZcIjRcIiE9PXRbaV0mJihuPTE2Kk1hdGgucmFuZG9tKCl8MCksXCJ4XCI9PT10W2ldP3IrPWVbbl06XCJ5XCI9PT10W2ldPyhuJj0zLG58PTgscis9ZVtuXSk6cis9dFtpXTtyZXR1cm4gcn1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9bix0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxvPW4oMTkpLGE9cihvKSx1PVwib3BlbmlkXCIsaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aSh0aGlzLHQpO3ZhciBuPWEuZGVmYXVsdC5wYXJzZVVybEZyYWdtZW50KGUsXCIjXCIpO3RoaXMuZXJyb3I9bi5lcnJvcix0aGlzLmVycm9yX2Rlc2NyaXB0aW9uPW4uZXJyb3JfZGVzY3JpcHRpb24sdGhpcy5lcnJvcl91cmk9bi5lcnJvcl91cmksdGhpcy5zdGF0ZT1uLnN0YXRlLHRoaXMuaWRfdG9rZW49bi5pZF90b2tlbix0aGlzLnNlc3Npb25fc3RhdGU9bi5zZXNzaW9uX3N0YXRlLHRoaXMuYWNjZXNzX3Rva2VuPW4uYWNjZXNzX3Rva2VuLHRoaXMudG9rZW5fdHlwZT1uLnRva2VuX3R5cGUsdGhpcy5zY29wZT1uLnNjb3BlLHRoaXMucHJvZmlsZT12b2lkIDA7dmFyIHI9cGFyc2VJbnQobi5leHBpcmVzX2luKTtpZihcIm51bWJlclwiPT10eXBlb2YgciYmcj4wKXt2YXIgcz1wYXJzZUludChEYXRlLm5vdygpLzFlMyk7dGhpcy5leHBpcmVzX2F0PXMrcn19cmV0dXJuIHModCxbe2tleTpcImV4cGlyZXNfaW5cIixnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmV4cGlyZXNfYXQpe3ZhciB0PXBhcnNlSW50KERhdGUubm93KCkvMWUzKTtyZXR1cm4gdGhpcy5leHBpcmVzX2F0LXR9fX0se2tleTpcImV4cGlyZWRcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmV4cGlyZXNfaW47aWYodm9pZCAwIT09dClyZXR1cm4gdDw9MH19LHtrZXk6XCJzY29wZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5zY29wZXx8XCJcIikuc3BsaXQoXCIgXCIpfX0se2tleTpcImlzT3BlbklkQ29ubmVjdFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjb3Blcy5pbmRleE9mKHUpPj0wfHwhIXRoaXMuaWRfdG9rZW59fV0pLHR9KCk7ZS5kZWZhdWx0PWgsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMSksbz1yKHMpLGE9bigxOSksdT1yKGEpLGg9bigyMSksYz1yKGgpLGY9ZnVuY3Rpb24gdChlKXt2YXIgbj1lLnVybCxyPWUuaWRfdG9rZW5faGludCxzPWUucG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpLGE9ZS5kYXRhO2lmKGkodGhpcyx0KSwhbil0aHJvdyBvLmRlZmF1bHQuZXJyb3IoXCJObyB1cmwgcGFzc2VkIHRvIFNpZ25vdXRSZXF1ZXN0XCIpLG5ldyBFcnJvcihcInVybFwiKTtyJiYobj11LmRlZmF1bHQuYWRkUXVlcnlQYXJhbShuLFwiaWRfdG9rZW5faGludFwiLHIpKSxzJiYobj11LmRlZmF1bHQuYWRkUXVlcnlQYXJhbShuLFwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCIscyksYSYmKHRoaXMuc3RhdGU9bmV3IGMuZGVmYXVsdCh7ZGF0YTphfSksbj11LmRlZmF1bHQuYWRkUXVlcnlQYXJhbShuLFwic3RhdGVcIix0aGlzLnN0YXRlLmlkKSkpLHRoaXMudXJsPW59O2UuZGVmYXVsdD1mLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDE5KSxvPXIocyksYT1mdW5jdGlvbiB0KGUpe2kodGhpcyx0KTt2YXIgbj1vLmRlZmF1bHQucGFyc2VVcmxGcmFnbWVudChlLFwiP1wiKTt0aGlzLmVycm9yPW4uZXJyb3IsdGhpcy5lcnJvcl9kZXNjcmlwdGlvbj1uLmVycm9yX2Rlc2NyaXB0aW9uLHRoaXMuZXJyb3JfdXJpPW4uZXJyb3JfdXJpLHRoaXMuc3RhdGU9bi5zdGF0ZX07ZS5kZWZhdWx0PWEsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksbz1uKDEpLGE9cihvKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLl9kYXRhPXt9fXJldHVybiB0LnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiBhLmRlZmF1bHQuZGVidWcoXCJJbk1lbW9yeVdlYlN0b3JhZ2UuZ2V0SXRlbVwiLHQpLHRoaXMuX2RhdGFbdF19LHQucHJvdG90eXBlLnNldEl0ZW09ZnVuY3Rpb24odCxlKXthLmRlZmF1bHQuZGVidWcoXCJJbk1lbW9yeVdlYlN0b3JhZ2Uuc2V0SXRlbVwiLHQpLHRoaXMuX2RhdGFbdF09ZX0sdC5wcm90b3R5cGUucmVtb3ZlSXRlbT1mdW5jdGlvbih0KXthLmRlZmF1bHQuZGVidWcoXCJJbk1lbW9yeVdlYlN0b3JhZ2UucmVtb3ZlSXRlbVwiLHQpLGRlbGV0ZSB0aGlzLl9kYXRhW3RdfSx0LnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX2RhdGEpW3RdfSxzKHQsW3trZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fZGF0YSkubGVuZ3RofX1dKSx0fSgpO2UuZGVmYXVsdD11LHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksdT1uKDEpLGg9cih1KSxjPW4oMiksZj1yKGMpLGw9bigyOCksZD1yKGwpLGc9bigzNCkscD1yKGcpLHk9bigzNSksdj1yKHkpLG09bigzOSksUz1yKG0pLGI9big0MCksdz1yKGIpLEU9big0MiksXz1yKEUpLHg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpTLmRlZmF1bHQsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dy5kZWZhdWx0LGE9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOl8uZGVmYXVsdDtpKHRoaXMsZSksbiBpbnN0YW5jZW9mIGQuZGVmYXVsdHx8KG49bmV3IGQuZGVmYXVsdChuKSk7dmFyIHU9cyh0aGlzLHQuY2FsbCh0aGlzLG4pKTtyZXR1cm4gdS5fZXZlbnRzPW5ldyB2LmRlZmF1bHQobiksdS5fc2lsZW50UmVuZXdTZXJ2aWNlPW5ldyByKHUpLHUuc2V0dGluZ3MuYXV0b21hdGljU2lsZW50UmVuZXcmJihoLmRlZmF1bHQuZGVidWcoXCJhdXRvbWF0aWNTaWxlbnRSZW5ldyBpcyBjb25maWd1cmVkLCBzZXR0aW5nIHVwIHNpbGVudCByZW5ld1wiKSx1LnN0YXJ0U2lsZW50UmVuZXcoKSksdS5zZXR0aW5ncy5tb25pdG9yU2Vzc2lvbiYmKGguZGVmYXVsdC5kZWJ1ZyhcIm1vbml0b3JTZXNzaW9uIGlzIGNvbmZpZ3VyZWQsIHNldHRpbmcgdXAgc2Vzc2lvbiBtb25pdG9yXCIpLHUuX3Nlc3Npb25Nb25pdG9yPW5ldyBvKHUpKSx1Ll90b2tlblJldm9jYXRpb25DbGllbnQ9bmV3IGEodS5fc2V0dGluZ3MpLHV9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5nZXRVc2VyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwiVXNlck1hbmFnZXIuZ2V0VXNlclwiKSx0aGlzLl9sb2FkVXNlcigpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGguZGVmYXVsdC5pbmZvKFwidXNlciBsb2FkZWRcIiksdC5fZXZlbnRzLmxvYWQoZSwhMSksZSk6KGguZGVmYXVsdC5pbmZvKFwidXNlciBub3QgZm91bmQgaW4gc3RvcmFnZVwiKSxudWxsKX0pfSxlLnByb3RvdHlwZS5yZW1vdmVVc2VyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwiVXNlck1hbmFnZXIucmVtb3ZlVXNlclwiKSx0aGlzLnN0b3JlVXNlcihudWxsKS50aGVuKGZ1bmN0aW9uKCl7aC5kZWZhdWx0LmluZm8oXCJ1c2VyIHJlbW92ZWQgZnJvbSBzdG9yYWdlXCIpLHQuX2V2ZW50cy51bmxvYWQoKX0pfSxlLnByb3RvdHlwZS5zaWduaW5SZWRpcmVjdD1mdW5jdGlvbih0KXtyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwiVXNlck1hbmFnZXIuc2lnbmluUmVkaXJlY3RcIiksdGhpcy5fc2lnbmluU3RhcnQodCx0aGlzLl9yZWRpcmVjdE5hdmlnYXRvcikudGhlbihmdW5jdGlvbigpe2guZGVmYXVsdC5pbmZvKFwic2lnbmluUmVkaXJlY3Qgc3VjY2Vzc2Z1bFwiKX0pfSxlLnByb3RvdHlwZS5zaWduaW5SZWRpcmVjdENhbGxiYWNrPWZ1bmN0aW9uKHQpe3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJVc2VyTWFuYWdlci5zaWduaW5SZWRpcmVjdENhbGxiYWNrXCIpLHRoaXMuX3NpZ25pbkVuZCh0fHx0aGlzLl9yZWRpcmVjdE5hdmlnYXRvci51cmwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0LnByb2ZpbGUmJnQucHJvZmlsZS5zdWI/aC5kZWZhdWx0LmluZm8oXCJzaWduaW5SZWRpcmVjdENhbGxiYWNrIHN1Y2Nlc3NmdWwsIHNpZ25lZCBpbiBzdWI6IFwiLHQucHJvZmlsZS5zdWIpOmguZGVmYXVsdC5pbmZvKFwic2lnbmluUmVkaXJlY3RDYWxsYmFjayBzdWNjZXNzZnVsXCIpKSx0fSl9LGUucHJvdG90eXBlLnNpZ25pblBvcHVwPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2guZGVmYXVsdC5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnNpZ25pblBvcHVwXCIpO3ZhciBlPXQucmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnBvcHVwX3JlZGlyZWN0X3VyaXx8dGhpcy5zZXR0aW5ncy5yZWRpcmVjdF91cmk7cmV0dXJuIGU/KHQucmVkaXJlY3RfdXJpPWUsdC5kaXNwbGF5PVwicG9wdXBcIix0aGlzLl9zaWduaW4odCx0aGlzLl9wb3B1cE5hdmlnYXRvcix7c3RhcnRVcmw6ZSxwb3B1cFdpbmRvd0ZlYXR1cmVzOnQucG9wdXBXaW5kb3dGZWF0dXJlc3x8dGhpcy5zZXR0aW5ncy5wb3B1cFdpbmRvd0ZlYXR1cmVzLHBvcHVwV2luZG93VGFyZ2V0OnQucG9wdXBXaW5kb3dUYXJnZXR8fHRoaXMuc2V0dGluZ3MucG9wdXBXaW5kb3dUYXJnZXR9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5wcm9maWxlJiZ0LnByb2ZpbGUuc3ViP2guZGVmYXVsdC5pbmZvKFwic2lnbmluUG9wdXAgc3VjY2Vzc2Z1bCwgc2lnbmVkIGluIHN1YjogXCIsdC5wcm9maWxlLnN1Yik6aC5kZWZhdWx0LmluZm8oXCJzaWduaW5Qb3B1cCBzdWNjZXNzZnVsXCIpKSx0fSkpOihoLmRlZmF1bHQuZXJyb3IoXCJObyBwb3B1cF9yZWRpcmVjdF91cmkgb3IgcmVkaXJlY3RfdXJpIGNvbmZpZ3VyZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gcG9wdXBfcmVkaXJlY3RfdXJpIG9yIHJlZGlyZWN0X3VyaSBjb25maWd1cmVkXCIpKSl9LGUucHJvdG90eXBlLnNpZ25pblBvcHVwQ2FsbGJhY2s9ZnVuY3Rpb24odCl7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnNpZ25pblBvcHVwQ2FsbGJhY2tcIiksdGhpcy5fc2lnbmluQ2FsbGJhY2sodCx0aGlzLl9wb3B1cE5hdmlnYXRvcikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdCYmKHQucHJvZmlsZSYmdC5wcm9maWxlLnN1Yj9oLmRlZmF1bHQuaW5mbyhcInNpZ25pblBvcHVwQ2FsbGJhY2sgc3VjY2Vzc2Z1bCwgc2lnbmVkIGluIHN1YjogXCIsdC5wcm9maWxlLnN1Yik6aC5kZWZhdWx0LmluZm8oXCJzaWduaW5Qb3B1cENhbGxiYWNrIHN1Y2Nlc3NmdWxcIikpLHR9KX0sZS5wcm90b3R5cGUuc2lnbmluU2lsZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtoLmRlZmF1bHQuZGVidWcoXCJVc2VyTWFuYWdlci5zaWduaW5TaWxlbnRcIik7dmFyIG49ZS5yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3Muc2lsZW50X3JlZGlyZWN0X3VyaTtpZighbilyZXR1cm4gaC5kZWZhdWx0LmVycm9yKFwiTm8gc2lsZW50X3JlZGlyZWN0X3VyaSBjb25maWd1cmVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHNpbGVudF9yZWRpcmVjdF91cmkgY29uZmlndXJlZFwiKSk7ZS5yZWRpcmVjdF91cmk9bixlLnByb21wdD1cIm5vbmVcIjt2YXIgcj12b2lkIDA7cmV0dXJuIHI9ZS5pZF90b2tlbl9oaW50fHwhdGhpcy5zZXR0aW5ncy5pbmNsdWRlSWRUb2tlbkluU2lsZW50UmVuZXc/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5fbG9hZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHQpe2UuaWRfdG9rZW5faGludD10JiZ0LmlkX3Rva2VufSksci50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3NpZ25pbihlLHQuX2lmcmFtZU5hdmlnYXRvcix7c3RhcnRVcmw6bixzaWxlbnRSZXF1ZXN0VGltZW91dDplLnNpbGVudFJlcXVlc3RUaW1lb3V0fHx0LnNldHRpbmdzLnNpbGVudFJlcXVlc3RUaW1lb3V0fSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5wcm9maWxlJiZ0LnByb2ZpbGUuc3ViP2guZGVmYXVsdC5pbmZvKFwic2lnbmluU2lsZW50IHN1Y2Nlc3NmdWwsIHNpZ25lZCBpbiBzdWI6IFwiLHQucHJvZmlsZS5zdWIpOmguZGVmYXVsdC5pbmZvKFwic2lnbmluU2lsZW50IHN1Y2Nlc3NmdWxcIikpLHR9KX0sZS5wcm90b3R5cGUuc2lnbmluU2lsZW50Q2FsbGJhY2s9ZnVuY3Rpb24odCl7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnNpZ25pblNpbGVudENhbGxiYWNrXCIpLHRoaXMuX3NpZ25pbkNhbGxiYWNrKHQsdGhpcy5faWZyYW1lTmF2aWdhdG9yKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5wcm9maWxlJiZ0LnByb2ZpbGUuc3ViP2guZGVmYXVsdC5pbmZvKFwic2lnbmluU2lsZW50Q2FsbGJhY2sgc3VjY2Vzc2Z1bCwgc2lnbmVkIGluIHN1YjogXCIsdC5wcm9maWxlLnN1Yik6aC5kZWZhdWx0LmluZm8oXCJzaWduaW5TaWxlbnRDYWxsYmFjayBzdWNjZXNzZnVsXCIpKSx0fSl9LGUucHJvdG90eXBlLnF1ZXJ5U2Vzc2lvblN0YXR1cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aC5kZWZhdWx0LmRlYnVnKFwiVXNlck1hbmFnZXIucXVlcnlTZXNzaW9uU3RhdHVzXCIpO3ZhciBuPWUucmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnNpbGVudF9yZWRpcmVjdF91cmk7cmV0dXJuIG4/KGUucmVkaXJlY3RfdXJpPW4sZS5wcm9tcHQ9XCJub25lXCIsZS5yZXNwb25zZV90eXBlPVwiaWRfdG9rZW5cIixlLnNjb3BlPVwib3BlbmlkXCIsdGhpcy5fc2lnbmluU3RhcnQoZSx0aGlzLl9pZnJhbWVOYXZpZ2F0b3Ise3N0YXJ0VXJsOm4sc2lsZW50UmVxdWVzdFRpbWVvdXQ6ZS5zaWxlbnRSZXF1ZXN0VGltZW91dHx8dGhpcy5zZXR0aW5ncy5zaWxlbnRSZXF1ZXN0VGltZW91dH0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvY2Vzc1NpZ25pblJlc3BvbnNlKGUudXJsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJnb3Qgc2lnbmluIHJlc3BvbnNlXCIpLHQuc2Vzc2lvbl9zdGF0ZSYmdC5wcm9maWxlLnN1YiYmdC5wcm9maWxlLnNpZD8oaC5kZWZhdWx0LmluZm8oXCJxdWVyeVNlc3Npb25TdGF0dXMgc3VjY2VzcyBmb3Igc3ViOiBcIix0LnByb2ZpbGUuc3ViKSx7c2Vzc2lvbl9zdGF0ZTp0LnNlc3Npb25fc3RhdGUsc3ViOnQucHJvZmlsZS5zdWIsc2lkOnQucHJvZmlsZS5zaWR9KTp2b2lkIGguZGVmYXVsdC5pbmZvKFwicXVlcnlTZXNzaW9uU3RhdHVzIHN1Y2Nlc3NmdWwsIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWRcIil9KX0pKTooaC5kZWZhdWx0LmVycm9yKFwiTm8gc2lsZW50X3JlZGlyZWN0X3VyaSBjb25maWd1cmVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHNpbGVudF9yZWRpcmVjdF91cmkgY29uZmlndXJlZFwiKSkpfSxlLnByb3RvdHlwZS5fc2lnbmluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwiX3NpZ25pblwiKSx0aGlzLl9zaWduaW5TdGFydCh0LGUscikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi5fc2lnbmluRW5kKHQudXJsKX0pfSxlLnByb3RvdHlwZS5fc2lnbmluU3RhcnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJfc2lnbmluU3RhcnRcIiksZS5wcmVwYXJlKHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcImdvdCBuYXZpZ2F0b3Igd2luZG93IGhhbmRsZVwiKSxuLmNyZWF0ZVNpZ25pblJlcXVlc3QodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwiZ290IHNpZ25pbiByZXF1ZXN0XCIpLHIudXJsPXQudXJsLHIuaWQ9dC5zdGF0ZS5pZCxlLm5hdmlnYXRlKHIpfSkuY2F0Y2goZnVuY3Rpb24odCl7dGhyb3cgZS5jbG9zZSYmKGguZGVmYXVsdC5kZWJ1ZyhcIkVycm9yIGFmdGVyIHByZXBhcmluZyBuYXZpZ2F0b3IsIGNsb3NpbmcgbmF2aWdhdG9yIHdpbmRvd1wiKSxlLmNsb3NlKCkpLHR9KX0pfSxlLnByb3RvdHlwZS5fc2lnbmluRW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcIl9zaWduaW5FbmRcIiksdGhpcy5wcm9jZXNzU2lnbmluUmVzcG9uc2UodCkudGhlbihmdW5jdGlvbih0KXtoLmRlZmF1bHQuZGVidWcoXCJnb3Qgc2lnbmluIHJlc3BvbnNlXCIpO3ZhciBuPW5ldyBwLmRlZmF1bHQodCk7cmV0dXJuIGUuc3RvcmVVc2VyKG4pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwidXNlciBzdG9yZWRcIiksZS5fZXZlbnRzLmxvYWQobiksbn0pfSl9LGUucHJvdG90eXBlLl9zaWduaW5DYWxsYmFjaz1mdW5jdGlvbih0LGUpe3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJfc2lnbmluQ2FsbGJhY2tcIiksZS5jYWxsYmFjayh0KX0sZS5wcm90b3R5cGUuc2lnbm91dFJlZGlyZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2guZGVmYXVsdC5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnNpZ25vdXRSZWRpcmVjdFwiKTt2YXIgZT10LnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaXx8dGhpcy5zZXR0aW5ncy5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmk7cmV0dXJuIGUmJih0LnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT1lKSx0aGlzLl9zaWdub3V0U3RhcnQodCx0aGlzLl9yZWRpcmVjdE5hdmlnYXRvcikudGhlbihmdW5jdGlvbigpe2guZGVmYXVsdC5pbmZvKFwic2lnbm91dFJlZGlyZWN0IHN1Y2Nlc3NmdWxcIil9KX0sZS5wcm90b3R5cGUuc2lnbm91dFJlZGlyZWN0Q2FsbGJhY2s9ZnVuY3Rpb24odCl7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnNpZ25vdXRSZWRpcmVjdENhbGxiYWNrXCIpLHRoaXMuX3NpZ25vdXRFbmQodHx8dGhpcy5fcmVkaXJlY3ROYXZpZ2F0b3IudXJsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBoLmRlZmF1bHQuaW5mbyhcInNpZ25vdXRSZWRpcmVjdENhbGxiYWNrIHN1Y2Nlc3NmdWxcIiksdH0pfSxlLnByb3RvdHlwZS5zaWdub3V0UG9wdXA9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aC5kZWZhdWx0LmRlYnVnKFwiVXNlck1hbmFnZXIuc2lnbmluUG9wdXBcIik7dmFyIGU9dC5wb3N0X2xvZ291dF9yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3MucG9wdXBfcG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaTtyZXR1cm4gdC5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmk9ZSx0LmRpc3BsYXk9XCJwb3B1cFwiLHQucG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpJiYodC5zdGF0ZT10LnN0YXRlfHx7fSksdGhpcy5fc2lnbm91dCh0LHRoaXMuX3BvcHVwTmF2aWdhdG9yLHtzdGFydFVybDplLHBvcHVwV2luZG93RmVhdHVyZXM6dC5wb3B1cFdpbmRvd0ZlYXR1cmVzfHx0aGlzLnNldHRpbmdzLnBvcHVwV2luZG93RmVhdHVyZXMscG9wdXBXaW5kb3dUYXJnZXQ6dC5wb3B1cFdpbmRvd1RhcmdldHx8dGhpcy5zZXR0aW5ncy5wb3B1cFdpbmRvd1RhcmdldH0pLnRoZW4oZnVuY3Rpb24oKXtoLmRlZmF1bHQuaW5mbyhcInNpZ25vdXRQb3B1cCBzdWNjZXNzZnVsXCIpfSl9LGUucHJvdG90eXBlLnNpZ25vdXRQb3B1cENhbGxiYWNrPWZ1bmN0aW9uKHQsZSl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGUmJlwiYm9vbGVhblwiPT10eXBlb2YgdCYmKHQ9bnVsbCxlPSEwKSxoLmRlZmF1bHQuZGVidWcoXCJVc2VyTWFuYWdlci5zaWdub3V0UG9wdXBDYWxsYmFja1wiKTt2YXIgbj1cIj9cIjtyZXR1cm4gdGhpcy5fcG9wdXBOYXZpZ2F0b3IuY2FsbGJhY2sodCxlLG4pLnRoZW4oZnVuY3Rpb24oKXtoLmRlZmF1bHQuaW5mbyhcInNpZ25vdXRQb3B1cENhbGxiYWNrIHN1Y2Nlc3NmdWxcIil9KX0sZS5wcm90b3R5cGUuX3NpZ25vdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJfc2lnbm91dFwiKSx0aGlzLl9zaWdub3V0U3RhcnQodCxlLHIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uX3NpZ25vdXRFbmQodC51cmwpfSl9LGUucHJvdG90eXBlLl9zaWdub3V0U3RhcnQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10aGlzLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJfc2lnbm91dFN0YXJ0XCIpLG4ucHJlcGFyZShyKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJnb3QgbmF2aWdhdG9yIHdpbmRvdyBoYW5kbGVcIiksZS5fbG9hZFVzZXIoKS50aGVuKGZ1bmN0aW9uKGkpe2guZGVmYXVsdC5kZWJ1ZyhcImxvYWRlZCBjdXJyZW50IHVzZXIgZnJvbSBzdG9yYWdlXCIpO3ZhciBzPWUuX3NldHRpbmdzLnJldm9rZUFjY2Vzc1Rva2VuT25TaWdub3V0P2UuX3Jldm9rZUludGVybmFsKGkpOlByb21pc2UucmVzb2x2ZSgpO3JldHVybiBzLnRoZW4oZnVuY3Rpb24oKXt2YXIgcz10LmlkX3Rva2VuX2hpbnR8fGkmJmkuaWRfdG9rZW47cmV0dXJuIHMmJihoLmRlZmF1bHQuZGVidWcoXCJTZXR0aW5nIGlkX3Rva2VuIGludG8gc2lnbm91dCByZXF1ZXN0XCIpLHQuaWRfdG9rZW5faGludD1zKSxlLnJlbW92ZVVzZXIoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcInVzZXIgcmVtb3ZlZCwgY3JlYXRpbmcgc2lnbm91dCByZXF1ZXN0XCIpLGUuY3JlYXRlU2lnbm91dFJlcXVlc3QodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwiZ290IHNpZ25vdXQgcmVxdWVzdFwiKSxyLnVybD10LnVybCx0LnN0YXRlJiYoci5pZD10LnN0YXRlLmlkKSxuLm5hdmlnYXRlKHIpfSl9KX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dGhyb3cgbi5jbG9zZSYmKGguZGVmYXVsdC5kZWJ1ZyhcIkVycm9yIGFmdGVyIHByZXBhcmluZyBuYXZpZ2F0b3IsIGNsb3NpbmcgbmF2aWdhdG9yIHdpbmRvd1wiKSxuLmNsb3NlKCkpLHR9KX0pfSxlLnByb3RvdHlwZS5fc2lnbm91dEVuZD1mdW5jdGlvbih0KXtyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwiX3NpZ25vdXRFbmRcIiksdGhpcy5wcm9jZXNzU2lnbm91dFJlc3BvbnNlKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGguZGVmYXVsdC5kZWJ1ZyhcImdvdCBzaWdub3V0IHJlc3BvbnNlXCIpLHR9KX0sZS5wcm90b3R5cGUucmV2b2tlQWNjZXNzVG9rZW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJVc2VyTWFuYWdlci5yZXZva2VBY2Nlc3NUb2tlblwiKSx0aGlzLl9sb2FkVXNlcigpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3Jldm9rZUludGVybmFsKGUsITApLnRoZW4oZnVuY3Rpb24obil7aWYobilyZXR1cm4gaC5kZWZhdWx0LmRlYnVnKFwicmVtb3ZpbmcgdG9rZW4gcHJvcGVydGllcyBmcm9tIHVzZXIgYW5kIHJlLXN0b3JpbmdcIiksZS5hY2Nlc3NfdG9rZW49bnVsbCxlLmV4cGlyZXNfYXQ9bnVsbCxlLnRva2VuX3R5cGU9bnVsbCx0LnN0b3JlVXNlcihlKS50aGVuKGZ1bmN0aW9uKCl7aC5kZWZhdWx0LmRlYnVnKFwidXNlciBzdG9yZWRcIiksdC5fZXZlbnRzLmxvYWQoZSl9KX0pfSkudGhlbihmdW5jdGlvbigpe2guZGVmYXVsdC5pbmZvKFwiYWNjZXNzIHRva2VuIHJldm9rZWQgc3VjY2Vzc2Z1bGx5XCIpfSl9LGUucHJvdG90eXBlLl9yZXZva2VJbnRlcm5hbD1mdW5jdGlvbih0LGUpe2guZGVmYXVsdC5kZWJ1ZyhcImNoZWNraW5nIGlmIHRva2VuIHJldm9jYXRpb24gaXMgbmVjZXNzYXJ5XCIpO3ZhciBuPXQmJnQuYWNjZXNzX3Rva2VuO3JldHVybiFufHxuLmluZGV4T2YoXCIuXCIpPj0wPyhoLmRlZmF1bHQuZGVidWcoXCJubyBuZWVkIHRvIHJldm9rZSBkdWUgdG8gbm8gdXNlciwgdG9rZW4sIG9yIEpXVCBmb3JtYXRcIiksUHJvbWlzZS5yZXNvbHZlKCExKSk6dGhpcy5fdG9rZW5SZXZvY2F0aW9uQ2xpZW50LnJldm9rZShuLGUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4hMH0pfSxlLnByb3RvdHlwZS5zdGFydFNpbGVudFJlbmV3PWZ1bmN0aW9uKCl7dGhpcy5fc2lsZW50UmVuZXdTZXJ2aWNlLnN0YXJ0KCl9LGUucHJvdG90eXBlLnN0b3BTaWxlbnRSZW5ldz1mdW5jdGlvbigpe3RoaXMuX3NpbGVudFJlbmV3U2VydmljZS5zdG9wKCl9LGUucHJvdG90eXBlLl9sb2FkVXNlcj1mdW5jdGlvbigpe3JldHVybiBoLmRlZmF1bHQuZGVidWcoXCJfbG9hZFVzZXJcIiksdGhpcy5fdXNlclN0b3JlLmdldCh0aGlzLl91c2VyU3RvcmVLZXkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/KGguZGVmYXVsdC5kZWJ1ZyhcInVzZXIgc3RvcmFnZVN0cmluZyBsb2FkZWRcIikscC5kZWZhdWx0LmZyb21TdG9yYWdlU3RyaW5nKHQpKTooaC5kZWZhdWx0LmRlYnVnKFwibm8gdXNlciBzdG9yYWdlU3RyaW5nXCIpLG51bGwpfSl9LGUucHJvdG90eXBlLnN0b3JlVXNlcj1mdW5jdGlvbih0KXtpZih0KXtoLmRlZmF1bHQuZGVidWcoXCJzdG9yZVVzZXIgc3RvcmluZyB1c2VyXCIpO3ZhciBlPXQudG9TdG9yYWdlU3RyaW5nKCk7cmV0dXJuIHRoaXMuX3VzZXJTdG9yZS5zZXQodGhpcy5fdXNlclN0b3JlS2V5LGUpfXJldHVybiBoLmRlZmF1bHQuZGVidWcoXCJzdG9yZVVzZXIgcmVtb3ZpbmcgdXNlciBzdG9yYWdlXCIpLHRoaXMuX3VzZXJTdG9yZS5yZW1vdmUodGhpcy5fdXNlclN0b3JlS2V5KX0sYShlLFt7a2V5OlwiX3JlZGlyZWN0TmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MucmVkaXJlY3ROYXZpZ2F0b3J9fSx7a2V5OlwiX3BvcHVwTmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MucG9wdXBOYXZpZ2F0b3J9fSx7a2V5OlwiX2lmcmFtZU5hdmlnYXRvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzLmlmcmFtZU5hdmlnYXRvcn19LHtrZXk6XCJfdXNlclN0b3JlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MudXNlclN0b3JlfX0se2tleTpcImV2ZW50c1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHN9fSx7a2V5OlwiX3VzZXJTdG9yZUtleVwiLGdldDpmdW5jdGlvbigpe3JldHVyblwidXNlcjpcIit0aGlzLnNldHRpbmdzLmF1dGhvcml0eStcIjpcIit0aGlzLnNldHRpbmdzLmNsaWVudF9pZH19XSksZX0oZi5kZWZhdWx0KTtlLmRlZmF1bHQ9eCx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLHU9bigxKSxoPShyKHUpLG4oMykpLGM9cihoKSxmPW4oMjkpLGw9cihmKSxkPW4oMzApLGc9cihkKSxwPW4oMzIpLHk9cihwKSx2PW4oNCksbT1yKHYpLFM9big1KSxiPXIoUyksdz02MCxFPTJlMyxfPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLnBvcHVwX3JlZGlyZWN0X3VyaSxvPW4ucG9wdXBfcG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpLGE9bi5wb3B1cFdpbmRvd0ZlYXR1cmVzLHU9bi5wb3B1cFdpbmRvd1RhcmdldCxoPW4uc2lsZW50X3JlZGlyZWN0X3VyaSxjPW4uc2lsZW50UmVxdWVzdFRpbWVvdXQsZj1uLmF1dG9tYXRpY1NpbGVudFJlbmV3LGQ9dm9pZCAwIT09ZiYmZixwPW4uaW5jbHVkZUlkVG9rZW5JblNpbGVudFJlbmV3LHY9dm9pZCAwPT09cHx8cCxTPW4ubW9uaXRvclNlc3Npb24sXz12b2lkIDA9PT1TfHxTLHg9bi5jaGVja1Nlc3Npb25JbnRlcnZhbCxBPXZvaWQgMD09PXg/RTp4LEY9bi5yZXZva2VBY2Nlc3NUb2tlbk9uU2lnbm91dCxQPXZvaWQgMCE9PUYmJkYsTz1uLmFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lLEM9dm9pZCAwPT09Tz93Ok8sVD1uLnJlZGlyZWN0TmF2aWdhdG9yLEQ9dm9pZCAwPT09VD9uZXcgbC5kZWZhdWx0OlQsUj1uLnBvcHVwTmF2aWdhdG9yLGo9dm9pZCAwPT09Uj9uZXcgZy5kZWZhdWx0OlIsSD1uLmlmcmFtZU5hdmlnYXRvcixJPXZvaWQgMD09PUg/bmV3IHkuZGVmYXVsdDpILGs9bi51c2VyU3RvcmUsQj12b2lkIDA9PT1rP25ldyBtLmRlZmF1bHQoe3N0b3JlOmIuZGVmYXVsdC5zZXNzaW9uU3RvcmFnZX0pOms7aSh0aGlzLGUpO3ZhciBOPXModGhpcyx0LmNhbGwodGhpcyxhcmd1bWVudHNbMF0pKTtyZXR1cm4gTi5fcG9wdXBfcmVkaXJlY3RfdXJpPXIsTi5fcG9wdXBfcG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpPW8sTi5fcG9wdXBXaW5kb3dGZWF0dXJlcz1hLE4uX3BvcHVwV2luZG93VGFyZ2V0PXUsTi5fc2lsZW50X3JlZGlyZWN0X3VyaT1oLE4uX3NpbGVudFJlcXVlc3RUaW1lb3V0PWMsTi5fYXV0b21hdGljU2lsZW50UmVuZXc9ISFkLE4uX2luY2x1ZGVJZFRva2VuSW5TaWxlbnRSZW5ldz12LE4uX2FjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lPUMsTi5fbW9uaXRvclNlc3Npb249XyxOLl9jaGVja1Nlc3Npb25JbnRlcnZhbD1BLE4uX3Jldm9rZUFjY2Vzc1Rva2VuT25TaWdub3V0PVAsTi5fcmVkaXJlY3ROYXZpZ2F0b3I9RCxOLl9wb3B1cE5hdmlnYXRvcj1qLE4uX2lmcmFtZU5hdmlnYXRvcj1JLE4uX3VzZXJTdG9yZT1CLE59cmV0dXJuIG8oZSx0KSxhKGUsW3trZXk6XCJwb3B1cF9yZWRpcmVjdF91cmlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXBfcmVkaXJlY3RfdXJpfX0se2tleTpcInBvcHVwX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cF9wb3N0X2xvZ291dF9yZWRpcmVjdF91cml9fSx7a2V5OlwicG9wdXBXaW5kb3dGZWF0dXJlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cFdpbmRvd0ZlYXR1cmVzfX0se2tleTpcInBvcHVwV2luZG93VGFyZ2V0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwV2luZG93VGFyZ2V0fX0se2tleTpcInNpbGVudF9yZWRpcmVjdF91cmlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2lsZW50X3JlZGlyZWN0X3VyaX19LHtrZXk6XCJzaWxlbnRSZXF1ZXN0VGltZW91dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWxlbnRSZXF1ZXN0VGltZW91dH19LHtrZXk6XCJhdXRvbWF0aWNTaWxlbnRSZW5ld1wiLGdldDpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMuc2lsZW50X3JlZGlyZWN0X3VyaXx8IXRoaXMuX2F1dG9tYXRpY1NpbGVudFJlbmV3KX19LHtrZXk6XCJpbmNsdWRlSWRUb2tlbkluU2lsZW50UmVuZXdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5jbHVkZUlkVG9rZW5JblNpbGVudFJlbmV3fX0se2tleTpcImFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lfX0se2tleTpcIm1vbml0b3JTZXNzaW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vbml0b3JTZXNzaW9ufX0se2tleTpcImNoZWNrU2Vzc2lvbkludGVydmFsXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrU2Vzc2lvbkludGVydmFsfX0se2tleTpcInJldm9rZUFjY2Vzc1Rva2VuT25TaWdub3V0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jldm9rZUFjY2Vzc1Rva2VuT25TaWdub3V0fX0se2tleTpcInJlZGlyZWN0TmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlZGlyZWN0TmF2aWdhdG9yfX0se2tleTpcInBvcHVwTmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwTmF2aWdhdG9yfX0se2tleTpcImlmcmFtZU5hdmlnYXRvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZnJhbWVOYXZpZ2F0b3J9fSx7a2V5OlwidXNlclN0b3JlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJTdG9yZX19XSksZX0oYy5kZWZhdWx0KTtlLmRlZmF1bHQ9Xyx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxvPW4oMSksYT1yKG8pLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aSh0aGlzLHQpfXJldHVybiB0LnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKX0sdC5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGEuZGVmYXVsdC5kZWJ1ZyhcIlJlZGlyZWN0TmF2aWdhdG9yLm5hdmlnYXRlXCIpLHQmJnQudXJsPyh3aW5kb3cubG9jYXRpb249dC51cmwsUHJvbWlzZS5yZXNvbHZlKCkpOihhLmRlZmF1bHQuZXJyb3IoXCJObyB1cmwgcHJvdmlkZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gdXJsIHByb3ZpZGVkXCIpKSl9LHModCxbe2tleTpcInVybFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmRlZmF1bHQuZGVidWcoXCJSZWRpcmVjdE5hdmlnYXRvci51cmxcIiksd2luZG93LmxvY2F0aW9uLmhyZWZ9fV0pLHR9KCk7ZS5kZWZhdWx0PXUsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMSksbz1yKHMpLGE9bigzMSksdT1yKGEpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aSh0aGlzLHQpfXJldHVybiB0LnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB1LmRlZmF1bHQodCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKX0sdC5wcm90b3R5cGUuY2FsbGJhY2s9ZnVuY3Rpb24odCxlLG4pe28uZGVmYXVsdC5kZWJ1ZyhcIlBvcHVwTmF2aWdhdG9yLmNhbGxiYWNrXCIpO3RyeXtyZXR1cm4gdS5kZWZhdWx0Lm5vdGlmeU9wZW5lcih0LGUsbiksUHJvbWlzZS5yZXNvbHZlKCl9Y2F0Y2godCl7cmV0dXJuIFByb21pc2UucmVqZWN0KHQpfX0sdH0oKTtlLmRlZmF1bHQ9aCx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxvPW4oMSksYT1yKG8pLHU9bigxOSksaD1yKHUpLGM9NTAwLGY9XCJsb2NhdGlvbj1ubyx0b29sYmFyPW5vLHdpZHRoPTUwMCxoZWlnaHQ9NTAwLGxlZnQ9MTAwLHRvcD0xMDA7XCIsbD1cIl9ibGFua1wiLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXM7aSh0aGlzLHQpLGEuZGVmYXVsdC5kZWJ1ZyhcIlBvcHVwV2luZG93LmN0b3JcIiksdGhpcy5fcHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbih0LGUpe24uX3Jlc29sdmU9dCxuLl9yZWplY3Q9ZX0pO3ZhciByPWUucG9wdXBXaW5kb3dUYXJnZXR8fGwscz1lLnBvcHVwV2luZG93RmVhdHVyZXN8fGY7dGhpcy5fcG9wdXA9d2luZG93Lm9wZW4oXCJcIixyLHMpLHRoaXMuX3BvcHVwJiYoYS5kZWZhdWx0LmRlYnVnKFwicG9wdXAgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcIiksdGhpcy5fY2hlY2tGb3JQb3B1cENsb3NlZFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLl9jaGVja0ZvclBvcHVwQ2xvc2VkLmJpbmQodGhpcyksYykpfXJldHVybiB0LnByb3RvdHlwZS5uYXZpZ2F0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiUG9wdXBXaW5kb3cubmF2aWdhdGVcIiksdGhpcy5fcG9wdXA/dCYmdC51cmw/KGEuZGVmYXVsdC5kZWJ1ZyhcIlNldHRpbmcgVVJMIGluIHBvcHVwXCIpLHRoaXMuX2lkPXQuaWQsdGhpcy5faWQmJih3aW5kb3dbXCJwb3B1cENhbGxiYWNrX1wiK3QuaWRdPXRoaXMuX2NhbGxiYWNrLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLmZvY3VzKCksdGhpcy5fcG9wdXAud2luZG93LmxvY2F0aW9uPXQudXJsKTp0aGlzLl9lcnJvcihcIk5vIHVybCBwcm92aWRlZFwiKTp0aGlzLl9lcnJvcihcIkVycm9yIG9wZW5pbmcgcG9wdXAgd2luZG93XCIpLHRoaXMucHJvbWlzZX0sdC5wcm90b3R5cGUuX3N1Y2Nlc3M9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYW51cCgpLGEuZGVmYXVsdC5kZWJ1ZyhcIlN1Y2Nlc3NmdWwgcmVzcG9uc2UgZnJvbSBwb3B1cCB3aW5kb3dcIiksdGhpcy5fcmVzb2x2ZSh0KX0sdC5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFudXAoKSxhLmRlZmF1bHQuZXJyb3IodCksdGhpcy5fcmVqZWN0KG5ldyBFcnJvcih0KSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW51cCghMSl9LHQucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKHQpe2EuZGVmYXVsdC5kZWJ1ZyhcIlBvcHVwV2luZG93Ll9jbGVhbnVwXCIpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2NoZWNrRm9yUG9wdXBDbG9zZWRUaW1lciksdGhpcy5fY2hlY2tGb3JQb3B1cENsb3NlZFRpbWVyPW51bGwsZGVsZXRlIHdpbmRvd1tcInBvcHVwQ2FsbGJhY2tfXCIrdGhpcy5faWRdLHRoaXMuX3BvcHVwJiYhdCYmdGhpcy5fcG9wdXAuY2xvc2UoKSx0aGlzLl9wb3B1cD1udWxsfSx0LnByb3RvdHlwZS5fY2hlY2tGb3JQb3B1cENsb3NlZD1mdW5jdGlvbigpe2EuZGVmYXVsdC5kZWJ1ZyhcIlBvcHVwV2luZG93Ll9jaGVja0ZvclBvcHVwQ2xvc2VkXCIpLHRoaXMuX3BvcHVwJiYhdGhpcy5fcG9wdXAuY2xvc2VkfHx0aGlzLl9lcnJvcihcIlBvcHVwIHdpbmRvdyBjbG9zZWRcIil9LHQucHJvdG90eXBlLl9jYWxsYmFjaz1mdW5jdGlvbih0LGUpe2EuZGVmYXVsdC5kZWJ1ZyhcIlBvcHVwV2luZG93Ll9jYWxsYmFja1wiKSx0aGlzLl9jbGVhbnVwKGUpLHQ/dGhpcy5fc3VjY2Vzcyh7dXJsOnR9KTp0aGlzLl9lcnJvcihcIkludmFsaWQgcmVzcG9uc2UgZnJvbSBwb3B1cFwiKX0sdC5ub3RpZnlPcGVuZXI9ZnVuY3Rpb24odCxlLG4pe2lmKGEuZGVmYXVsdC5kZWJ1ZyhcIlBvcHVwV2luZG93Lm5vdGlmeU9wZW5lclwiKSx3aW5kb3cub3BlbmVyJiYodD10fHx3aW5kb3cubG9jYXRpb24uaHJlZikpe3ZhciByPWguZGVmYXVsdC5wYXJzZVVybEZyYWdtZW50KHQsbik7aWYoci5zdGF0ZSl7dmFyIGk9XCJwb3B1cENhbGxiYWNrX1wiK3Iuc3RhdGUscz13aW5kb3cub3BlbmVyW2ldO3M/KGEuZGVmYXVsdC5kZWJ1ZyhcInBhc3NpbmcgdXJsIG1lc3NhZ2UgdG8gb3BlbmVyXCIpLHModCxlKSk6YS5kZWZhdWx0Lndhcm4oXCJubyBtYXRjaGluZyBjYWxsYmFjayBmb3VuZCBvbiBvcGVuZXJcIil9ZWxzZSBhLmRlZmF1bHQud2FybihcIm5vIHN0YXRlIGZvdW5kIGluIHJlc3BvbnNlIHVybFwiKX19LHModCxbe2tleTpcInByb21pc2VcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX19XSksdH0oKTtlLmRlZmF1bHQ9ZCx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9bigxKSxvPXIocyksYT1uKDMzKSx1PXIoYSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpKHRoaXMsdCl9cmV0dXJuIHQucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHUuZGVmYXVsdCh0KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfSx0LnByb3RvdHlwZS5jYWxsYmFjaz1mdW5jdGlvbih0KXtvLmRlZmF1bHQuZGVidWcoXCJJRnJhbWVOYXZpZ2F0b3IuY2FsbGJhY2tcIik7dHJ5e3JldHVybiB1LmRlZmF1bHQubm90aWZ5UGFyZW50KHQpLFByb21pc2UucmVzb2x2ZSgpfWNhdGNoKHQpe3JldHVybiBQcm9taXNlLnJlamVjdCh0KX19LHR9KCk7ZS5kZWZhdWx0PWgsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksbz1uKDEpLGE9cihvKSx1PTFlNCxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj10aGlzO2kodGhpcyx0KSxhLmRlZmF1bHQuZGVidWcoXCJJRnJhbWVXaW5kb3cuY3RvclwiKSx0aGlzLl9wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7bi5fcmVzb2x2ZT10LG4uX3JlamVjdD1lfSksdGhpcy5fYm91bmRNZXNzYWdlRXZlbnQ9dGhpcy5fbWVzc2FnZS5iaW5kKHRoaXMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX2JvdW5kTWVzc2FnZUV2ZW50LCExKSx0aGlzLl9mcmFtZT13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSx0aGlzLl9mcmFtZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZnJhbWUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuX2ZyYW1lLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fZnJhbWUuc3R5bGUud2lkdGg9MCx0aGlzLl9mcmFtZS5zdHlsZS5oZWlnaHQ9MCx3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9mcmFtZSl9cmV0dXJuIHQucHJvdG90eXBlLm5hdmlnYXRlPWZ1bmN0aW9uKHQpe2lmKGEuZGVmYXVsdC5kZWJ1ZyhcIklGcmFtZVdpbmRvdy5uYXZpZ2F0ZVwiKSx0JiZ0LnVybCl7dmFyIGU9dC5zaWxlbnRSZXF1ZXN0VGltZW91dHx8dTthLmRlZmF1bHQuZGVidWcoXCJVc2luZyB0aW1lb3V0IG9mOlwiLGUpLHRoaXMuX3RpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX3RpbWVvdXQuYmluZCh0aGlzKSxlKSx0aGlzLl9mcmFtZS5zcmM9dC51cmx9ZWxzZSB0aGlzLl9lcnJvcihcIk5vIHVybCBwcm92aWRlZFwiKTtyZXR1cm4gdGhpcy5wcm9taXNlfSx0LnByb3RvdHlwZS5fc3VjY2Vzcz1mdW5jdGlvbih0KXt0aGlzLl9jbGVhbnVwKCksYS5kZWZhdWx0LmRlYnVnKFwiU3VjY2Vzc2Z1bCByZXNwb25zZSBmcm9tIGZyYW1lIHdpbmRvd1wiKSx0aGlzLl9yZXNvbHZlKHQpfSx0LnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYW51cCgpLGEuZGVmYXVsdC5lcnJvcih0KSx0aGlzLl9yZWplY3QobmV3IEVycm9yKHQpKX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbnVwKCl9LHQucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKCl7dGhpcy5fZnJhbWUmJihhLmRlZmF1bHQuZGVidWcoXCJJRnJhbWVXaW5kb3cuX2NsZWFudXBcIiksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5fYm91bmRNZXNzYWdlRXZlbnQsITEpLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHdpbmRvdy5kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2ZyYW1lKSx0aGlzLl90aW1lcj1udWxsLHRoaXMuX2ZyYW1lPW51bGwsdGhpcy5fYm91bmRNZXNzYWdlRXZlbnQ9bnVsbCl9LHQucHJvdG90eXBlLl90aW1lb3V0PWZ1bmN0aW9uKCl7YS5kZWZhdWx0LmRlYnVnKFwiSUZyYW1lV2luZG93Ll90aW1lb3V0XCIpLHRoaXMuX2Vycm9yKFwiRnJhbWUgd2luZG93IHRpbWVkIG91dFwiKX0sdC5wcm90b3R5cGUuX21lc3NhZ2U9ZnVuY3Rpb24odCl7aWYoYS5kZWZhdWx0LmRlYnVnKFwiSUZyYW1lV2luZG93Ll9tZXNzYWdlXCIpLHRoaXMuX3RpbWVyJiZ0Lm9yaWdpbj09PXRoaXMuX29yaWdpbiYmdC5zb3VyY2U9PT10aGlzLl9mcmFtZS5jb250ZW50V2luZG93KXt2YXIgZT10LmRhdGE7ZT90aGlzLl9zdWNjZXNzKHt1cmw6ZX0pOnRoaXMuX2Vycm9yKFwiSW52YWxpZCByZXNwb25zZSBmcm9tIGZyYW1lXCIpfX0sdC5ub3RpZnlQYXJlbnQ9ZnVuY3Rpb24odCl7YS5kZWZhdWx0LmRlYnVnKFwiSUZyYW1lV2luZG93Lm5vdGlmeVBhcmVudFwiKSx3aW5kb3cucGFyZW50JiZ3aW5kb3chPT13aW5kb3cucGFyZW50JiYodD10fHx3aW5kb3cubG9jYXRpb24uaHJlZix0JiYoYS5kZWZhdWx0LmRlYnVnKFwicG9zdGluZyB1cmwgbWVzc2FnZSB0byBwYXJlbnRcIiksd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh0LGxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitsb2NhdGlvbi5ob3N0KSkpfSxzKHQsW3trZXk6XCJwcm9taXNlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9fSx7a2V5OlwiX29yaWdpblwiLGdldDpmdW5jdGlvbigpe3JldHVybiBsb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrbG9jYXRpb24uaG9zdH19XSksdH0oKTtlLmRlZmF1bHQ9aCx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxvPW4oMSksYT1yKG8pLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUuaWRfdG9rZW4scj1lLnNlc3Npb25fc3RhdGUscz1lLmFjY2Vzc190b2tlbixvPWUudG9rZW5fdHlwZSxhPWUuc2NvcGUsdT1lLnByb2ZpbGUsaD1lLmV4cGlyZXNfYXQsYz1lLnN0YXRlO2kodGhpcyx0KSx0aGlzLmlkX3Rva2VuPW4sdGhpcy5zZXNzaW9uX3N0YXRlPXIsdGhpcy5hY2Nlc3NfdG9rZW49cyx0aGlzLnRva2VuX3R5cGU9byx0aGlzLnNjb3BlPWEsdGhpcy5wcm9maWxlPXUsdGhpcy5leHBpcmVzX2F0PWgsdGhpcy5zdGF0ZT1jfXJldHVybiB0LnByb3RvdHlwZS50b1N0b3JhZ2VTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiVXNlci50b1N0b3JhZ2VTdHJpbmdcIiksSlNPTi5zdHJpbmdpZnkoe2lkX3Rva2VuOnRoaXMuaWRfdG9rZW4sc2Vzc2lvbl9zdGF0ZTp0aGlzLnNlc3Npb25fc3RhdGUsYWNjZXNzX3Rva2VuOnRoaXMuYWNjZXNzX3Rva2VuLHRva2VuX3R5cGU6dGhpcy50b2tlbl90eXBlLHNjb3BlOnRoaXMuc2NvcGUscHJvZmlsZTp0aGlzLnByb2ZpbGUsZXhwaXJlc19hdDp0aGlzLmV4cGlyZXNfYXR9KX0sdC5mcm9tU3RvcmFnZVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwiVXNlci5mcm9tU3RvcmFnZVN0cmluZ1wiKSxuZXcgdChKU09OLnBhcnNlKGUpKX0scyh0LFt7a2V5OlwiZXhwaXJlc19pblwiLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuZXhwaXJlc19hdCl7dmFyIHQ9cGFyc2VJbnQoRGF0ZS5ub3coKS8xZTMpO3JldHVybiB0aGlzLmV4cGlyZXNfYXQtdH19fSx7a2V5OlwiZXhwaXJlZFwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXhwaXJlc19pbjtpZih2b2lkIDAhPT10KXJldHVybiB0PD0wfX0se2tleTpcInNjb3Blc1wiLGdldDpmdW5jdGlvbigpe3JldHVybih0aGlzLnNjb3BlfHxcIlwiKS5zcGxpdChcIiBcIil9fV0pLHR9KCk7ZS5kZWZhdWx0PXUsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigxKSx1PXIoYSksaD1uKDM2KSxjPXIoaCksZj1uKDM4KSxsPXIoZiksZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4pe2kodGhpcyxlKTt2YXIgcj1zKHRoaXMsdC5jYWxsKHRoaXMsbikpO3JldHVybiByLl91c2VyTG9hZGVkPW5ldyBsLmRlZmF1bHQoXCJVc2VyIGxvYWRlZFwiKSxyLl91c2VyVW5sb2FkZWQ9bmV3IGwuZGVmYXVsdChcIlVzZXIgdW5sb2FkZWRcIiksci5fc2lsZW50UmVuZXdFcnJvcj1uZXcgbC5kZWZhdWx0KFwiU2lsZW50IHJlbmV3IGVycm9yXCIpLHIuX3VzZXJTaWduZWRPdXQ9bmV3IGwuZGVmYXVsdChcIlVzZXIgc2lnbmVkIG91dFwiKSxyLl91c2VyU2Vzc2lvbkNoYW5nZWQ9bmV3IGwuZGVmYXVsdChcIlVzZXIgc2Vzc2lvbiBjaGFuZ2VkXCIpLHJ9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUpe3ZhciBuPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dS5kZWZhdWx0LmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMubG9hZFwiKSx0LnByb3RvdHlwZS5sb2FkLmNhbGwodGhpcyxlKSxuJiZ0aGlzLl91c2VyTG9hZGVkLnJhaXNlKGUpfSxlLnByb3RvdHlwZS51bmxvYWQ9ZnVuY3Rpb24oKXt1LmRlZmF1bHQuZGVidWcoXCJVc2VyTWFuYWdlckV2ZW50cy51bmxvYWRcIiksdC5wcm90b3R5cGUudW5sb2FkLmNhbGwodGhpcyksdGhpcy5fdXNlclVubG9hZGVkLnJhaXNlKCl9LGUucHJvdG90eXBlLmFkZFVzZXJMb2FkZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdXNlckxvYWRlZC5hZGRIYW5kbGVyKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVVc2VyTG9hZGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3VzZXJMb2FkZWQucmVtb3ZlSGFuZGxlcih0KX0sZS5wcm90b3R5cGUuYWRkVXNlclVubG9hZGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3VzZXJVbmxvYWRlZC5hZGRIYW5kbGVyKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVVc2VyVW5sb2FkZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdXNlclVubG9hZGVkLnJlbW92ZUhhbmRsZXIodCl9LGUucHJvdG90eXBlLmFkZFNpbGVudFJlbmV3RXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5fc2lsZW50UmVuZXdFcnJvci5hZGRIYW5kbGVyKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVTaWxlbnRSZW5ld0Vycm9yPWZ1bmN0aW9uKHQpe3RoaXMuX3NpbGVudFJlbmV3RXJyb3IucmVtb3ZlSGFuZGxlcih0KX0sZS5wcm90b3R5cGUuX3JhaXNlU2lsZW50UmVuZXdFcnJvcj1mdW5jdGlvbih0KXt1LmRlZmF1bHQuZGVidWcoXCJVc2VyTWFuYWdlckV2ZW50cy5fcmFpc2VTaWxlbnRSZW5ld0Vycm9yXCIsdC5tZXNzYWdlKSx0aGlzLl9zaWxlbnRSZW5ld0Vycm9yLnJhaXNlKHQpfSxlLnByb3RvdHlwZS5hZGRVc2VyU2lnbmVkT3V0PWZ1bmN0aW9uKHQpe3RoaXMuX3VzZXJTaWduZWRPdXQuYWRkSGFuZGxlcih0KX0sZS5wcm90b3R5cGUucmVtb3ZlVXNlclNpZ25lZE91dD1mdW5jdGlvbih0KXt0aGlzLl91c2VyU2lnbmVkT3V0LnJlbW92ZUhhbmRsZXIodCl9LGUucHJvdG90eXBlLl9yYWlzZVVzZXJTaWduZWRPdXQ9ZnVuY3Rpb24odCl7dS5kZWZhdWx0LmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMuX3JhaXNlVXNlclNpZ25lZE91dFwiKSx0aGlzLl91c2VyU2lnbmVkT3V0LnJhaXNlKHQpfSxlLnByb3RvdHlwZS5hZGRVc2VyU2Vzc2lvbkNoYW5nZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdXNlclNlc3Npb25DaGFuZ2VkLmFkZEhhbmRsZXIodCl9LGUucHJvdG90eXBlLnJlbW92ZVVzZXJTZXNzaW9uQ2hhbmdlZD1mdW5jdGlvbih0KXt0aGlzLl91c2VyU2Vzc2lvbkNoYW5nZWQucmVtb3ZlSGFuZGxlcih0KX0sZS5wcm90b3R5cGUuX3JhaXNlVXNlclNlc3Npb25DaGFuZ2VkPWZ1bmN0aW9uKHQpe3UuZGVmYXVsdC5kZWJ1ZyhcIlVzZXJNYW5hZ2VyRXZlbnRzLl9yYWlzZVVzZXJTZXNzaW9uQ2hhbmdlZFwiKSx0aGlzLl91c2VyU2Vzc2lvbkNoYW5nZWQucmFpc2UodCl9LGV9KGMuZGVmYXVsdCk7ZS5kZWZhdWx0PWQsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMSksbz1yKHMpLGE9bigzNyksdT1yKGEpLGg9NjAsYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLmFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lLHI9dm9pZCAwPT09bj9oOm4scz1lLmFjY2Vzc1Rva2VuRXhwaXJpbmdUaW1lcixvPXZvaWQgMD09PXM/bmV3IHUuZGVmYXVsdChcIkFjY2VzcyB0b2tlbiBleHBpcmluZ1wiKTpzLGE9ZS5hY2Nlc3NUb2tlbkV4cGlyZWRUaW1lcixjPXZvaWQgMD09PWE/bmV3IHUuZGVmYXVsdChcIkFjY2VzcyB0b2tlbiBleHBpcmVkXCIpOmE7aSh0aGlzLHQpLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lPXIsdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZz1vLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJlZD1jfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2lmKG8uZGVmYXVsdC5kZWJ1ZyhcIkFjY2Vzc1Rva2VuRXZlbnRzLmxvYWRcIiksdGhpcy5fY2FuY2VsVGltZXJzKCksXG50LmFjY2Vzc190b2tlbil7dmFyIGU9dC5leHBpcmVzX2luO2lmKG8uZGVmYXVsdC5kZWJ1ZyhcImFjY2VzcyB0b2tlbiBwcmVzZW50LCByZW1haW5pbmcgZHVyYXRpb246XCIsZSksZT4wKXt2YXIgbj1lLXRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lO248PTAmJihuPTEpLG8uZGVmYXVsdC5kZWJ1ZyhcInJlZ2lzdGVyaW5nIGV4cGlyaW5nIHRpbWVyIGluOlwiLG4pLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmcuaW5pdChuKX12YXIgcj1lKzE7by5kZWZhdWx0LmRlYnVnKFwicmVnaXN0ZXJpbmcgZXhwaXJlZCB0aW1lciBpbjpcIixyKSx0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyZWQuaW5pdChyKX19LHQucHJvdG90eXBlLnVubG9hZD1mdW5jdGlvbigpe28uZGVmYXVsdC5kZWJ1ZyhcIkFjY2Vzc1Rva2VuRXZlbnRzLnVubG9hZFwiKSx0aGlzLl9jYW5jZWxUaW1lcnMoKX0sdC5wcm90b3R5cGUuX2NhbmNlbFRpbWVycz1mdW5jdGlvbigpe28uZGVmYXVsdC5kZWJ1ZyhcImNhbmNlbGluZyBleGlzdGluZyBhY2Nlc3MgdG9rZW4gdGltZXJzXCIpLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmcuY2FuY2VsKCksdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmVkLmNhbmNlbCgpfSx0LnByb3RvdHlwZS5hZGRBY2Nlc3NUb2tlbkV4cGlyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmcuYWRkSGFuZGxlcih0KX0sdC5wcm90b3R5cGUucmVtb3ZlQWNjZXNzVG9rZW5FeHBpcmluZz1mdW5jdGlvbih0KXt0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyaW5nLnJlbW92ZUhhbmRsZXIodCl9LHQucHJvdG90eXBlLmFkZEFjY2Vzc1Rva2VuRXhwaXJlZD1mdW5jdGlvbih0KXt0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyZWQuYWRkSGFuZGxlcih0KX0sdC5wcm90b3R5cGUucmVtb3ZlQWNjZXNzVG9rZW5FeHBpcmVkPWZ1bmN0aW9uKHQpe3RoaXMuX2FjY2Vzc1Rva2VuRXhwaXJlZC5yZW1vdmVIYW5kbGVyKHQpfSx0fSgpO2UuZGVmYXVsdD1jLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksdT1uKDEpLGg9cih1KSxjPW4oNSksZj1yKGMpLGw9bigzOCksZD1yKGwpLGc9NSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmYuZGVmYXVsdC50aW1lcjtpKHRoaXMsZSk7dmFyIG89cyh0aGlzLHQuY2FsbCh0aGlzLG4pKTtyZXR1cm4gby5fdGltZXI9cixvLl9ub3dGdW5jPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCkvMWUzfSxvfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt0aGlzLmNhbmNlbCgpLHQ8PTAmJih0PTEpLHQ9cGFyc2VJbnQodCksaC5kZWZhdWx0LmRlYnVnKFwiVGltZXIuaW5pdCB0aW1lciBcIit0aGlzLl9uYW1lK1wiIGZvciBkdXJhdGlvbjpcIix0KSx0aGlzLl9leHBpcmF0aW9uPXRoaXMubm93K3Q7dmFyIGU9Zzt0PGUmJihlPXQpLHRoaXMuX3RpbWVySGFuZGxlPXRoaXMuX3RpbWVyLnNldEludGVydmFsKHRoaXMuX2NhbGxiYWNrLmJpbmQodGhpcyksMWUzKmUpfSxlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl90aW1lckhhbmRsZSYmKGguZGVmYXVsdC5kZWJ1ZyhcIlRpbWVyLmNhbmNlbDogXCIsdGhpcy5fbmFtZSksdGhpcy5fdGltZXIuY2xlYXJJbnRlcnZhbCh0aGlzLl90aW1lckhhbmRsZSksdGhpcy5fdGltZXJIYW5kbGU9bnVsbCl9LGUucHJvdG90eXBlLl9jYWxsYmFjaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2V4cGlyYXRpb24tdGhpcy5ub3c7aC5kZWZhdWx0LmRlYnVnKFwiVGltZXIuX2NhbGxiYWNrOyBcIit0aGlzLl9uYW1lK1wiIHRpbWVyIGV4cGlyZXMgaW46XCIsZSksdGhpcy5fZXhwaXJhdGlvbjw9dGhpcy5ub3cmJih0aGlzLmNhbmNlbCgpLHQucHJvdG90eXBlLnJhaXNlLmNhbGwodGhpcykpfSxhKGUsW3trZXk6XCJub3dcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5fbm93RnVuYygpKX19XSksZX0oZC5kZWZhdWx0KTtlLmRlZmF1bHQ9cCx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9bigxKSxvPXIocyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aSh0aGlzLHQpLHRoaXMuX25hbWU9ZSx0aGlzLl9jYWxsYmFja3M9W119cmV0dXJuIHQucHJvdG90eXBlLmFkZEhhbmRsZXI9ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzLnB1c2godCl9LHQucHJvdG90eXBlLnJlbW92ZUhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FsbGJhY2tzLmZpbmRJbmRleChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KTtlPj0wJiZ0aGlzLl9jYWxsYmFja3Muc3BsaWNlKGUsMSl9LHQucHJvdG90eXBlLnJhaXNlPWZ1bmN0aW9uKCl7by5kZWZhdWx0LmRlYnVnKFwiUmFpc2luZyBldmVudDogXCIrdGhpcy5fbmFtZSk7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy5fY2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KHI9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBzPXIudmFsdWU7cy5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX19Y2F0Y2godCl7ZT0hMCxuPXR9ZmluYWxseXt0cnl7IXQmJmkucmV0dXJuJiZpLnJldHVybigpfWZpbmFsbHl7aWYoZSl0aHJvdyBufX19LHR9KCk7ZS5kZWZhdWx0PWEsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMSksbz1yKHMpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2kodGhpcyx0KSx0aGlzLl91c2VyTWFuYWdlcj1lfXJldHVybiB0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMuX2NhbGxiYWNrfHwodGhpcy5fY2FsbGJhY2s9dGhpcy5fdG9rZW5FeHBpcmluZy5iaW5kKHRoaXMpLHRoaXMuX3VzZXJNYW5hZ2VyLmV2ZW50cy5hZGRBY2Nlc3NUb2tlbkV4cGlyaW5nKHRoaXMuX2NhbGxiYWNrKSx0aGlzLl91c2VyTWFuYWdlci5nZXRVc2VyKCkudGhlbihmdW5jdGlvbih0KXt9KS5jYXRjaChmdW5jdGlvbih0KXtvLmRlZmF1bHQuZXJyb3IoXCJFcnJvciBmcm9tIGdldFVzZXI6XCIsdC5tZXNzYWdlKX0pKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2NhbGxiYWNrJiYodGhpcy5fdXNlck1hbmFnZXIuZXZlbnRzLnJlbW92ZUFjY2Vzc1Rva2VuRXhwaXJpbmcodGhpcy5fY2FsbGJhY2spLGRlbGV0ZSB0aGlzLl9jYWxsYmFjayl9LHQucHJvdG90eXBlLl90b2tlbkV4cGlyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztvLmRlZmF1bHQuZGVidWcoXCJTaWxlbnRSZW5ld1NlcnZpY2UgYXV0b21hdGljYWxseSByZW5ld2luZyBhY2Nlc3MgdG9rZW5cIiksdGhpcy5fdXNlck1hbmFnZXIuc2lnbmluU2lsZW50KCkudGhlbihmdW5jdGlvbih0KXtvLmRlZmF1bHQuZGVidWcoXCJTaWxlbnQgdG9rZW4gcmVuZXdhbCBzdWNjZXNzZnVsXCIpfSxmdW5jdGlvbihlKXtvLmRlZmF1bHQuZXJyb3IoXCJFcnJvciBmcm9tIHNpZ25pblNpbGVudDpcIixlLm1lc3NhZ2UpLHQuX3VzZXJNYW5hZ2VyLmV2ZW50cy5fcmFpc2VTaWxlbnRSZW5ld0Vycm9yKGUpfSl9LHR9KCk7ZS5kZWZhdWx0PWEsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksbz1uKDEpLGE9cihvKSx1PW4oNDEpLGg9cih1KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmguZGVmYXVsdDtpZihpKHRoaXMsdCksIWUpdGhyb3cgYS5kZWZhdWx0LmVycm9yKFwiTm8gdXNlciBtYW5hZ2VyIHBhc3NlZCB0byBTZXNzaW9uTW9uaXRvclwiKSxuZXcgRXJyb3IoXCJ1c2VyTWFuYWdlclwiKTt0aGlzLl91c2VyTWFuYWdlcj1lLHRoaXMuX0NoZWNrU2Vzc2lvbklGcmFtZUN0b3I9cix0aGlzLl91c2VyTWFuYWdlci5ldmVudHMuYWRkVXNlckxvYWRlZCh0aGlzLl9zdGFydC5iaW5kKHRoaXMpKSx0aGlzLl91c2VyTWFuYWdlci5ldmVudHMuYWRkVXNlclVubG9hZGVkKHRoaXMuX3N0b3AuYmluZCh0aGlzKSksdGhpcy5fdXNlck1hbmFnZXIuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24odCl7dCYmbi5fc3RhcnQodCl9KS5jYXRjaChmdW5jdGlvbih0KXthLmRlZmF1bHQuZXJyb3IoXCJTZXNzaW9uTW9uaXRvciBjdG9yOyBlcnJvciBmcm9tIGdldFVzZXI6XCIsdC5tZXNzYWdlKX0pfXJldHVybiB0LnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuc2Vzc2lvbl9zdGF0ZTtuJiYodGhpcy5fc3ViPXQucHJvZmlsZS5zdWIsdGhpcy5fc2lkPXQucHJvZmlsZS5zaWQsYS5kZWZhdWx0LmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX3N0YXJ0OyBzZXNzaW9uX3N0YXRlOlwiLG4sXCIsIHN1YjpcIix0aGlzLl9zdWIpLHRoaXMuX2NoZWNrU2Vzc2lvbklGcmFtZT90aGlzLl9jaGVja1Nlc3Npb25JRnJhbWUuc3RhcnQobik6dGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldENoZWNrU2Vzc2lvbklmcmFtZSgpLnRoZW4oZnVuY3Rpb24odCl7aWYodCl7YS5kZWZhdWx0LmRlYnVnKFwiSW5pdGlhbGl6aW5nIGNoZWNrIHNlc3Npb24gaWZyYW1lXCIpO3ZhciByPWUuX2NsaWVudF9pZCxpPWUuX2NoZWNrU2Vzc2lvbkludGVydmFsO2UuX2NoZWNrU2Vzc2lvbklGcmFtZT1uZXcgZS5fQ2hlY2tTZXNzaW9uSUZyYW1lQ3RvcihlLl9jYWxsYmFjay5iaW5kKGUpLHIsdCxpKSxlLl9jaGVja1Nlc3Npb25JRnJhbWUubG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtlLl9jaGVja1Nlc3Npb25JRnJhbWUuc3RhcnQobil9KX1lbHNlIGEuZGVmYXVsdC53YXJuKFwiTm8gY2hlY2sgc2Vzc2lvbiBpZnJhbWUgZm91bmQgaW4gdGhlIG1ldGFkYXRhXCIpfSkuY2F0Y2goZnVuY3Rpb24odCl7YS5kZWZhdWx0LmVycm9yKFwiRXJyb3IgZnJvbSBnZXRDaGVja1Nlc3Npb25JZnJhbWU6XCIsdC5tZXNzYWdlKX0pKX0sdC5wcm90b3R5cGUuX3N0b3A9ZnVuY3Rpb24oKXthLmRlZmF1bHQuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fc3RvcFwiKSx0aGlzLl9zdWI9bnVsbCx0aGlzLl9zaWQ9bnVsbCx0aGlzLl9jaGVja1Nlc3Npb25JRnJhbWUmJnRoaXMuX2NoZWNrU2Vzc2lvbklGcmFtZS5zdG9wKCl9LHQucHJvdG90eXBlLl9jYWxsYmFjaz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7YS5kZWZhdWx0LmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX2NhbGxiYWNrXCIpLHRoaXMuX3VzZXJNYW5hZ2VyLnF1ZXJ5U2Vzc2lvblN0YXR1cygpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG49ITA7ZT9lLnN1Yj09PXQuX3N1Yj8obj0hMSx0Ll9jaGVja1Nlc3Npb25JRnJhbWUuc3RhcnQoZS5zZXNzaW9uX3N0YXRlKSxlLnNpZD09PXQuX3NpZD9hLmRlZmF1bHQuZGVidWcoXCJTYW1lIHN1YiBzdGlsbCBsb2dnZWQgaW4gYXQgT1AsIHJlc3RhcnRpbmcgY2hlY2sgc2Vzc2lvbiBpZnJhbWU7IHNlc3Npb25fc3RhdGU6XCIsZS5zZXNzaW9uX3N0YXRlKTooYS5kZWZhdWx0LmRlYnVnKFwiU2FtZSBzdWIgc3RpbGwgbG9nZ2VkIGluIGF0IE9QLCBzZXNzaW9uIHN0YXRlIGhhcyBjaGFuZ2VkLCByZXN0YXJ0aW5nIGNoZWNrIHNlc3Npb24gaWZyYW1lOyBzZXNzaW9uX3N0YXRlOlwiLGUuc2Vzc2lvbl9zdGF0ZSksdC5fdXNlck1hbmFnZXIuZXZlbnRzLl9yYWlzZVVzZXJTZXNzaW9uQ2hhbmdlZCgpKSk6YS5kZWZhdWx0LmRlYnVnKFwiRGlmZmVyZW50IHN1YmplY3Qgc2lnbmVkIGludG8gT1A6XCIsZS5zdWIpOmEuZGVmYXVsdC5kZWJ1ZyhcIlN1YmplY3Qgbm8gbG9uZ2VyIHNpZ25lZCBpbnRvIE9QXCIpLG4mJihhLmRlZmF1bHQuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s7IHJhaXNpbmcgc2lnbmVkIG91dCBldmVudFwiKSx0Ll91c2VyTWFuYWdlci5ldmVudHMuX3JhaXNlVXNlclNpZ25lZE91dCgpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2EuZGVmYXVsdC5kZWJ1ZyhcIkVycm9yIGNhbGxpbmcgcXVlcnlDdXJyZW50U2lnbmluU2Vzc2lvbjsgcmFpc2luZyBzaWduZWQgb3V0IGV2ZW50XCIsZS5tZXNzYWdlKSx0Ll91c2VyTWFuYWdlci5ldmVudHMuX3JhaXNlVXNlclNpZ25lZE91dCgpfSl9LHModCxbe2tleTpcIl9zZXR0aW5nc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyTWFuYWdlci5zZXR0aW5nc319LHtrZXk6XCJfbWV0YWRhdGFTZXJ2aWNlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJNYW5hZ2VyLm1ldGFkYXRhU2VydmljZX19LHtrZXk6XCJfY2xpZW50X2lkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzLmNsaWVudF9pZH19LHtrZXk6XCJfY2hlY2tTZXNzaW9uSW50ZXJ2YWxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3MuY2hlY2tTZXNzaW9uSW50ZXJ2YWx9fV0pLHR9KCk7ZS5kZWZhdWx0PWMsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMSksbz1yKHMpLGE9MmUzLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyLHMpe2kodGhpcyx0KSx0aGlzLl9jYWxsYmFjaz1lLHRoaXMuX2NsaWVudF9pZD1uLHRoaXMuX3VybD1yLHRoaXMuX2ludGVydmFsPXN8fGE7dmFyIG89ci5pbmRleE9mKFwiL1wiLHIuaW5kZXhPZihcIi8vXCIpKzIpO3RoaXMuX2ZyYW1lX29yaWdpbj1yLnN1YnN0cigwLG8pLHRoaXMuX2ZyYW1lPXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHRoaXMuX2ZyYW1lLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9mcmFtZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5fZnJhbWUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLl9mcmFtZS5zdHlsZS53aWR0aD0wLHRoaXMuX2ZyYW1lLnN0eWxlLmhlaWdodD0wLHRoaXMuX2ZyYW1lLnNyYz1yfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7dC5fZnJhbWUub25sb2FkPWZ1bmN0aW9uKCl7ZSgpfSx3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0Ll9mcmFtZSksdC5fYm91bmRNZXNzYWdlRXZlbnQ9dC5fbWVzc2FnZS5iaW5kKHQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQuX2JvdW5kTWVzc2FnZUV2ZW50LCExKX0pfSx0LnByb3RvdHlwZS5fbWVzc2FnZT1mdW5jdGlvbih0KXt0Lm9yaWdpbj09PXRoaXMuX2ZyYW1lX29yaWdpbiYmdC5zb3VyY2U9PT10aGlzLl9mcmFtZS5jb250ZW50V2luZG93JiYoXCJlcnJvclwiPT09dC5kYXRhPyhvLmRlZmF1bHQuZXJyb3IoXCJlcnJvciBtZXNzYWdlIGZyb20gY2hlY2sgc2Vzc2lvbiBvcCBpZnJhbWVcIiksdGhpcy5zdG9wKCkpOlwiY2hhbmdlZFwiPT09dC5kYXRhPyhvLmRlZmF1bHQuZGVidWcoXCJjaGFuZ2VkIG1lc3NhZ2UgZnJvbSBjaGVjayBzZXNzaW9uIG9wIGlmcmFtZVwiKSx0aGlzLnN0b3AoKSx0aGlzLl9jYWxsYmFjaygpKTpvLmRlZmF1bHQuZGVidWcodC5kYXRhK1wiIG1lc3NhZ2UgZnJvbSBjaGVjayBzZXNzaW9uIG9wIGlmcmFtZVwiKSl9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fc2Vzc2lvbl9zdGF0ZSE9PXQmJihvLmRlZmF1bHQuZGVidWcoXCJDaGVja1Nlc3Npb25JRnJhbWUuc3RhcnRcIiksdGhpcy5zdG9wKCksdGhpcy5fc2Vzc2lvbl9zdGF0ZT10LHRoaXMuX3RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuX2ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoZS5fY2xpZW50X2lkK1wiIFwiK2UuX3Nlc3Npb25fc3RhdGUsZS5fZnJhbWVfb3JpZ2luKX0sdGhpcy5faW50ZXJ2YWwpKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe28uZGVmYXVsdC5kZWJ1ZyhcIkNoZWNrU2Vzc2lvbklGcmFtZS5zdG9wXCIpLHRoaXMuX3Nlc3Npb25fc3RhdGU9bnVsbCx0aGlzLl90aW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1udWxsKX0sdH0oKTtlLmRlZmF1bHQ9dSx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9bigxKSxvPXIocyksYT1uKDcpLHU9cihhKSxoPW4oNSksYz1yKGgpLGY9XCJhY2Nlc3NfdG9rZW5cIixsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06Yy5kZWZhdWx0LlhNTEh0dHBSZXF1ZXN0LHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnUuZGVmYXVsdDtpZihpKHRoaXMsdCksIWUpdGhyb3cgby5kZWZhdWx0LmVycm9yKFwiTm8gc2V0dGluZ3MgcHJvdmlkZWRcIiksbmV3IEVycm9yKFwiTm8gc2V0dGluZ3MgcHJvdmlkZWQuXCIpO3RoaXMuX3NldHRpbmdzPWUsdGhpcy5fWE1MSHR0cFJlcXVlc3RDdG9yPW4sdGhpcy5fbWV0YWRhdGFTZXJ2aWNlPW5ldyByKHRoaXMuX3NldHRpbmdzKX1yZXR1cm4gdC5wcm90b3R5cGUucmV2b2tlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZihvLmRlZmF1bHQuZGVidWcoXCJUb2tlblJldm9jYXRpb25DbGllbnQucmV2b2tlXCIpLCF0KXRocm93IG8uZGVmYXVsdC5lcnJvcihcIk5vIGFjY2Vzc1Rva2VuIHByb3ZpZGVkXCIpLG5ldyBFcnJvcihcIk5vIGFjY2Vzc1Rva2VuIHByb3ZpZGVkLlwiKTtyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldFJldm9jYXRpb25FbmRwb2ludCgpLnRoZW4oZnVuY3Rpb24ocil7aWYocil7dmFyIGk9bi5fc2V0dGluZ3MuY2xpZW50X2lkLHM9bi5fc2V0dGluZ3MuY2xpZW50X3NlY3JldDtyZXR1cm4gbi5fcmV2b2tlKHIsaSxzLHQpfWlmKGUpdGhyb3cgby5kZWZhdWx0LmVycm9yKFwiUmV2b2NhdGlvbiBub3Qgc3VwcG9ydGVkXCIpLG5ldyBFcnJvcihcIlJldm9jYXRpb24gbm90IHN1cHBvcnRlZFwiKX0pfSx0LnByb3RvdHlwZS5fcmV2b2tlPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXM7cmV0dXJuIG8uZGVmYXVsdC5kZWJ1ZyhcIkNhbGxpbmcgcmV2b2NhdGlvbiBlbmRwb2ludFwiKSxuZXcgUHJvbWlzZShmdW5jdGlvbihzLGEpe3ZhciB1PW5ldyBpLl9YTUxIdHRwUmVxdWVzdEN0b3I7dS5vcGVuKFwiUE9TVFwiLHQpLHUub25sb2FkPWZ1bmN0aW9uKCl7by5kZWZhdWx0LmRlYnVnKFwiSFRUUCByZXNwb25zZSByZWNlaXZlZCwgc3RhdHVzXCIsdS5zdGF0dXMpLDIwMD09PXUuc3RhdHVzP3MoKTphKEVycm9yKHUuc3RhdHVzVGV4dCtcIiAoXCIrdS5zdGF0dXMrXCIpXCIpKX07dmFyIGg9XCJjbGllbnRfaWQ9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpO24mJihoKz1cIiZjbGllbnRfc2VjcmV0PVwiK2VuY29kZVVSSUNvbXBvbmVudChuKSksaCs9XCImdG9rZW5fdHlwZV9oaW50PVwiK2VuY29kZVVSSUNvbXBvbmVudChmKSxoKz1cIiZ0b2tlbj1cIitlbmNvZGVVUklDb21wb25lbnQociksdS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiksdS5zZW5kKGgpfSl9LHR9KCk7ZS5kZWZhdWx0PWwsdC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMSksbz0ocihzKSxuKDQ0KSksYT1yKG8pLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aSh0aGlzLHQpfXJldHVybiB0LnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBhLmRlZmF1bHQodCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKX0sdH0oKTtlLmRlZmF1bHQ9dSx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxvPW4oMSksYT1yKG8pLHU9XCJsb2NhdGlvbj1ubyx0b29sYmFyPW5vLHpvb209bm9cIixoPVwiX2JsYW5rXCIsYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpcztpKHRoaXMsdCksYS5kZWZhdWx0LmRlYnVnKFwiQ29yZG92YVBvcHVwV2luZG93LmN0b3JcIiksdGhpcy5fcHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbih0LGUpe24uX3Jlc29sdmU9dCxuLl9yZWplY3Q9ZX0pLHRoaXMuZmVhdHVyZXM9ZS5wb3B1cFdpbmRvd0ZlYXR1cmVzfHx1LHRoaXMudGFyZ2V0PWUucG9wdXBXaW5kb3dUYXJnZXR8fGgsdGhpcy5yZWRpcmVjdF91cmk9ZS5zdGFydFVybCxhLmRlZmF1bHQuZGVidWcoXCJyZWRpcmVjdF91cmk6IFwiK3RoaXMucmVkaXJlY3RfdXJpKX1yZXR1cm4gdC5wcm90b3R5cGUuX2lzSW5BcHBCcm93c2VySW5zdGFsbGVkPWZ1bmN0aW9uKHQpe3JldHVybltcImNvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlclwiLFwiY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyLmluYXBwYnJvd3NlclwiLFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiXS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfSl9LHQucHJvdG90eXBlLm5hdmlnYXRlPWZ1bmN0aW9uKHQpe2lmKGEuZGVmYXVsdC5kZWJ1ZyhcIkNvcmRvdmFQb3B1cFdpbmRvdy5uYXZpZ2F0ZVwiKSx0JiZ0LnVybCl7aWYoIXdpbmRvdy5jb3Jkb3ZhKXJldHVybiB0aGlzLl9lcnJvcihcImNvcmRvdmEgaXMgdW5kZWZpbmVkXCIpO3ZhciBlPXdpbmRvdy5jb3Jkb3ZhLnJlcXVpcmUoXCJjb3Jkb3ZhL3BsdWdpbl9saXN0XCIpLm1ldGFkYXRhO2lmKHRoaXMuX2lzSW5BcHBCcm93c2VySW5zdGFsbGVkKGUpPT09ITEpcmV0dXJuIHRoaXMuX2Vycm9yKFwiSW5BcHBCcm93c2VyIHBsdWdpbiBub3QgZm91bmRcIik7dGhpcy5fcG9wdXA9Y29yZG92YS5JbkFwcEJyb3dzZXIub3Blbih0LnVybCx0aGlzLnRhcmdldCx0aGlzLmZlYXR1cmVzKSx0aGlzLl9wb3B1cD8oYS5kZWZhdWx0LmRlYnVnKFwicG9wdXAgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcIiksdGhpcy5fZXhpdENhbGxiYWNrRXZlbnQ9dGhpcy5fZXhpdENhbGxiYWNrLmJpbmQodGhpcyksdGhpcy5fbG9hZFN0YXJ0Q2FsbGJhY2tFdmVudD10aGlzLl9sb2FkU3RhcnRDYWxsYmFjay5iaW5kKHRoaXMpLHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJleGl0XCIsdGhpcy5fZXhpdENhbGxiYWNrRXZlbnQsITEpLHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIix0aGlzLl9sb2FkU3RhcnRDYWxsYmFja0V2ZW50LCExKSk6dGhpcy5fZXJyb3IoXCJFcnJvciBvcGVuaW5nIHBvcHVwIHdpbmRvd1wiKX1lbHNlIHRoaXMuX2Vycm9yKFwiTm8gdXJsIHByb3ZpZGVkXCIpO3JldHVybiB0aGlzLnByb21pc2V9LHQucHJvdG90eXBlLl9sb2FkU3RhcnRDYWxsYmFjaz1mdW5jdGlvbih0KXswPT09dC51cmwuaW5kZXhPZih0aGlzLnJlZGlyZWN0X3VyaSkmJnRoaXMuX3N1Y2Nlc3Moe3VybDp0LnVybH0pfSx0LnByb3RvdHlwZS5fZXhpdENhbGxiYWNrPWZ1bmN0aW9uKHQpe3RoaXMuX2Vycm9yKHQpfSx0LnByb3RvdHlwZS5fc3VjY2Vzcz1mdW5jdGlvbih0KXt0aGlzLl9jbGVhbnVwKCksYS5kZWZhdWx0LmRlYnVnKFwiU3VjY2Vzc2Z1bCByZXNwb25zZSBmcm9tIGNvcmRvdmEgcG9wdXAgd2luZG93XCIpLHRoaXMuX3Jlc29sdmUodCl9LHQucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbih0KXt0aGlzLl9jbGVhbnVwKCksYS5kZWZhdWx0LmVycm9yKHQpLHRoaXMuX3JlamVjdChuZXcgRXJyb3IodCkpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFudXAoKX0sdC5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24oKXthLmRlZmF1bHQuZGVidWcoXCJDb3Jkb3ZhUG9wdXBXaW5kb3cuX2NsZWFudXBcIiksdGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXhpdFwiLHRoaXMuX2V4aXRDYWxsYmFja0V2ZW50LCExKSx0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsdGhpcy5fbG9hZFN0YXJ0Q2FsbGJhY2tFdmVudCwhMSksdGhpcy5fcG9wdXAuY2xvc2UoKSksdGhpcy5fcG9wdXA9bnVsbH0scyh0LFt7a2V5OlwicHJvbWlzZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlfX1dKSx0fSgpO2UuZGVmYXVsdD1jLHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDEpLG89KHIocyksbig0NCkpLGE9cihvKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbih0KXt0LnBvcHVwV2luZG93RmVhdHVyZXM9XCJoaWRkZW49eWVzXCI7dmFyIGU9bmV3IGEuZGVmYXVsdCh0KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfSx0fSgpO2UuZGVmYXVsdD11LHQuZXhwb3J0cz1lLmRlZmF1bHR9XSl9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9vaWRjLWNsaWVudC9saWIvb2lkYy1jbGllbnQubWluLmpzXG4vLyBtb2R1bGUgaWQgPSA2MzVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///635\n");

/***/ }),

/***/ 636:
/*!************************************************!*\
  !*** ./src/auth/login-callback.component.html ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9naW4tY2FsbGJhY2suY29tcG9uZW50Lmh0bWw/ZTBkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXV0aC9sb2dpbi1jYWxsYmFjay5jb21wb25lbnQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNjM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///636\n");

/***/ }),

/***/ 637:
/*!***********************************************!*\
  !*** ./src/auth/logout-callback.component.ts ***!
  \***********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar auth_service_1 = __webpack_require__(/*! ./auth.service */ 45);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 61);\r\nvar LogoutCallbackComponent = (function () {\r\n    function LogoutCallbackComponent(_authService, _router) {\r\n        this._authService = _authService;\r\n        this._router = _router;\r\n    }\r\n    LogoutCallbackComponent.prototype.ngOnInit = function () {\r\n        console.log('LogoutCallbackComponent.ngOnInit() called.');\r\n        this._authService.onSignedOut();\r\n        this._router.navigate(['/login']);\r\n    };\r\n    LogoutCallbackComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'one-logout-callback',\r\n            template: __webpack_require__(/*! ./logout-callback.component.html */ 638)\r\n        }),\r\n        __metadata(\"design:paramtypes\", [auth_service_1.AuthService, router_1.Router])\r\n    ], LogoutCallbackComponent);\r\n    return LogoutCallbackComponent;\r\n}());\r\nexports.LogoutCallbackComponent = LogoutCallbackComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9nb3V0LWNhbGxiYWNrLmNvbXBvbmVudC50cz85MjBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi9hdXRoLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ29uZS1sb2dvdXQtY2FsbGJhY2snLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vbG9nb3V0LWNhbGxiYWNrLmNvbXBvbmVudC5odG1sJylcclxufSlcclxuZXhwb3J0IGNsYXNzIExvZ291dENhbGxiYWNrQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9hdXRoU2VydmljZTogQXV0aFNlcnZpY2UsIHByaXZhdGUgX3JvdXRlcjogUm91dGVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgbmdPbkluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2dvdXRDYWxsYmFja0NvbXBvbmVudC5uZ09uSW5pdCgpIGNhbGxlZC4nKTtcclxuICAgICAgICB0aGlzLl9hdXRoU2VydmljZS5vblNpZ25lZE91dCgpO1xyXG4gICAgICAgIHRoaXMuX3JvdXRlci5uYXZpZ2F0ZShbJy9sb2dpbiddKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9hdXRoL2xvZ291dC1jYWxsYmFjay5jb21wb25lbnQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQUpBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFGQTtBQVVBO0FBQUE7QUFWQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///637\n");

/***/ }),

/***/ 638:
/*!*************************************************!*\
  !*** ./src/auth/logout-callback.component.html ***!
  \*************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n<head>\\r\\n    <meta charset=\\\"utf-8\\\" />\\r\\n    <title></title>\\r\\n</head>\\r\\n<body>\\r\\n\\r\\n</body>\\r\\n</html>\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9nb3V0LWNhbGxiYWNrLmNvbXBvbmVudC5odG1sPzBlYmMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjwhRE9DVFlQRSBodG1sPlxcclxcbjxodG1sPlxcclxcbjxoZWFkPlxcclxcbiAgICA8bWV0YSBjaGFyc2V0PVxcXCJ1dGYtOFxcXCIgLz5cXHJcXG4gICAgPHRpdGxlPjwvdGl0bGU+XFxyXFxuPC9oZWFkPlxcclxcbjxib2R5PlxcclxcblxcclxcbjwvYm9keT5cXHJcXG48L2h0bWw+XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXV0aC9sb2dvdXQtY2FsbGJhY2suY29tcG9uZW50Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDYzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///638\n");

/***/ }),

/***/ 639:
/*!*******************************************!*\
  !*** ./src/auth/login-renew.component.ts ***!
  \*******************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar auth_service_1 = __webpack_require__(/*! ./auth.service */ 45);\r\nvar LoginRenewComponent = (function () {\r\n    function LoginRenewComponent(_authService) {\r\n        this._authService = _authService;\r\n    }\r\n    LoginRenewComponent.prototype.ngOnInit = function () {\r\n        this._authService.onSilentRenew();\r\n    };\r\n    LoginRenewComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'login-renew',\r\n            template: __webpack_require__(/*! ./login-renew.component.html */ 640)\r\n        }),\r\n        __metadata(\"design:paramtypes\", [auth_service_1.AuthService])\r\n    ], LoginRenewComponent);\r\n    return LoginRenewComponent;\r\n}());\r\nexports.LoginRenewComponent = LoginRenewComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9naW4tcmVuZXcuY29tcG9uZW50LnRzPzg1NTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuL2F1dGguc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnbG9naW4tcmVuZXcnLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vbG9naW4tcmVuZXcuY29tcG9uZW50Lmh0bWwnKVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTG9naW5SZW5ld0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfYXV0aFNlcnZpY2U6IEF1dGhTZXJ2aWNlKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgbmdPbkluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLm9uU2lsZW50UmVuZXcoKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9hdXRoL2xvZ2luLXJlbmV3LmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBTUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFQQTtBQUpBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFGQTtBQVFBO0FBQUE7QUFSQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///639\n");

/***/ }),

/***/ 640:
/*!*********************************************!*\
  !*** ./src/auth/login-renew.component.html ***!
  \*********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9naW4tcmVuZXcuY29tcG9uZW50Lmh0bWw/ZjJiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXV0aC9sb2dpbi1yZW5ldy5jb21wb25lbnQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNjQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///640\n");

/***/ }),

/***/ 641:
/*!**************************************!*\
  !*** ./src/auth/logout.component.ts ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar auth_service_1 = __webpack_require__(/*! ./auth.service */ 45);\r\nvar LogoutComponent = (function () {\r\n    function LogoutComponent(_authService) {\r\n        this._authService = _authService;\r\n    }\r\n    LogoutComponent.prototype.ngOnInit = function () {\r\n        this._authService.requestSignOut();\r\n    };\r\n    LogoutComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'logout',\r\n            template: __webpack_require__(/*! ./logout.component.html */ 642)\r\n        }),\r\n        __metadata(\"design:paramtypes\", [auth_service_1.AuthService])\r\n    ], LogoutComponent);\r\n    return LogoutComponent;\r\n}());\r\nexports.LogoutComponent = LogoutComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9nb3V0LmNvbXBvbmVudC50cz9jZDliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4vYXV0aC5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdsb2dvdXQnLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vbG9nb3V0LmNvbXBvbmVudC5odG1sJylcclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dvdXRDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2F1dGhTZXJ2aWNlOiBBdXRoU2VydmljZSkgeyB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UucmVxdWVzdFNpZ25PdXQoKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9hdXRoL2xvZ291dC5jb21wb25lbnQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQU9BO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBTkE7QUFMQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRkE7QUFPQTtBQUFBO0FBUEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///641\n");

/***/ }),

/***/ 642:
/*!****************************************!*\
  !*** ./src/auth/logout.component.html ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9nb3V0LmNvbXBvbmVudC5odG1sPzcwZDUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2F1dGgvbG9nb3V0LmNvbXBvbmVudC5odG1sXG4vLyBtb2R1bGUgaWQgPSA2NDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///642\n");

/***/ }),

/***/ 643:
/*!*************************************!*\
  !*** ./src/auth/login.component.ts ***!
  \*************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar auth_service_1 = __webpack_require__(/*! ./auth.service */ 45);\r\nvar LoginComponent = (function () {\r\n    function LoginComponent(_authService) {\r\n        this._authService = _authService;\r\n    }\r\n    LoginComponent.prototype.ngOnInit = function () {\r\n        console.log('login component onInit');\r\n        this._authService.requestSignIn();\r\n    };\r\n    LoginComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'login',\r\n            template: __webpack_require__(/*! ./login.component.html */ 644)\r\n        }),\r\n        __metadata(\"design:paramtypes\", [auth_service_1.AuthService])\r\n    ], LoginComponent);\r\n    return LoginComponent;\r\n}());\r\nexports.LoginComponent = LoginComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9naW4uY29tcG9uZW50LnRzPzg4NjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuL2F1dGguc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnbG9naW4nLFxyXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vbG9naW4uY29tcG9uZW50Lmh0bWwnKVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTG9naW5Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2F1dGhTZXJ2aWNlOiBBdXRoU2VydmljZSkgeyB9XHJcblxyXG4gICAgcHVibGljIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2dpbiBjb21wb25lbnQgb25Jbml0Jyk7XHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UucmVxdWVzdFNpZ25JbigpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2F1dGgvbG9naW4uY29tcG9uZW50LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFNQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFKQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRkE7QUFRQTtBQUFBO0FBUkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///643\n");

/***/ }),

/***/ 644:
/*!***************************************!*\
  !*** ./src/auth/login.component.html ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = \"\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvbG9naW4uY29tcG9uZW50Lmh0bWw/MmY4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXV0aC9sb2dpbi5jb21wb25lbnQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNjQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///644\n");

/***/ }),

/***/ 645:
/*!********************************!*\
  !*** ./src/auth/secureHttp.ts ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar http_1 = __webpack_require__(/*! @angular/http */ 107);\r\nvar Observable_1 = __webpack_require__(/*! rxjs/Observable */ 0);\r\nvar SecureHttp = (function (_super) {\r\n    __extends(SecureHttp, _super);\r\n    function SecureHttp(backend, defaultOptions, _router, _authService) {\r\n        var _this = _super.call(this, backend, defaultOptions) || this;\r\n        _this.backend = backend;\r\n        _this.defaultOptions = defaultOptions;\r\n        _this._router = _router;\r\n        _this._authService = _authService;\r\n        return _this;\r\n    }\r\n    SecureHttp.prototype.get = function (url, options) {\r\n        var _this = this;\r\n        var http = new http_1.Http(this._backend, this._defaultOptions);\r\n        return this._authService.isAuthorized()\r\n            .mergeMap(function (isAuthorized) {\r\n            if (isAuthorized) {\r\n                return _this.createSecureOptions(options).mergeMap(function (secureOptions) {\r\n                    return _super.prototype.get.call(_this, url, secureOptions)\r\n                        .catch(function (error) { return _this.handleException(http, error, url, secureOptions); });\r\n                });\r\n            }\r\n            return _this._authService.createUnauthorizedResponse('UnAuthorized');\r\n        });\r\n    };\r\n    SecureHttp.prototype.post = function (url, body, options) {\r\n        var _this = this;\r\n        return this.createSecureOptions(options).mergeMap(function (secureOptions) {\r\n            return _super.prototype.post.call(_this, url, body, secureOptions);\r\n        });\r\n    };\r\n    SecureHttp.prototype.createNoContentResponse = function (error) {\r\n        var response = new http_1.Response(new http_1.ResponseOptions({\r\n            body: null,\r\n            headers: error.headers,\r\n            status: 204,\r\n            statusText: 'No Content',\r\n            type: error.type,\r\n            url: error.url\r\n        }));\r\n        return Observable_1.Observable.of(response);\r\n    };\r\n    SecureHttp.prototype.createSecureOptions = function (options) {\r\n        var _this = this;\r\n        return this.getDefaultHeaders().mergeMap(function (newHeaders) {\r\n            if (options) {\r\n                if (options.headers) {\r\n                    _this.mergeHeaders(options.headers, newHeaders);\r\n                }\r\n                else {\r\n                    options.headers = newHeaders;\r\n                }\r\n            }\r\n            else {\r\n                options = new http_1.RequestOptions({ headers: newHeaders });\r\n            }\r\n            return Observable_1.Observable.of(options);\r\n        });\r\n    };\r\n    SecureHttp.prototype.getDefaultHeaders = function () {\r\n        return this._authService.getAuthorizationHeader().mergeMap(function (authHeader) {\r\n            var headers = new http_1.Headers();\r\n            if (authHeader) {\r\n                headers.append('Authorization', authHeader);\r\n            }\r\n            headers.append('timestamp', (new Date()).getTime().toString());\r\n            headers.append('Cache-Control', 'no-cache');\r\n            return Observable_1.Observable.of(headers);\r\n        });\r\n    };\r\n    SecureHttp.prototype.handleException = function (http, error, url, options) {\r\n        console.log('SecureHttp.handleException()');\r\n        console.error(error);\r\n        switch (error.status) {\r\n            case 401:\r\n                return this._authService.createUnauthorizedResponse(error);\r\n            case 404:\r\n                return this.createNoContentResponse(error);\r\n        }\r\n        return Observable_1.Observable.throw(error);\r\n    };\r\n    SecureHttp.prototype.mergeHeaders = function (target, source) {\r\n        source.forEach(function (values, name, headers) {\r\n            target.set(name, values);\r\n        });\r\n    };\r\n    return SecureHttp;\r\n}(http_1.Http));\r\nexports.SecureHttp = SecureHttp;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvc2VjdXJlSHR0cC50cz8zNDdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHAsIENvbm5lY3Rpb25CYWNrZW5kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzLCBIZWFkZXJzLCBSZXNwb25zZSwgUmVzcG9uc2VPcHRpb25zIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi9hdXRoLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWN1cmVIdHRwIGV4dGVuZHMgSHR0cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIGJhY2tlbmQ6IENvbm5lY3Rpb25CYWNrZW5kLFxyXG4gICAgICAgIHByaXZhdGUgZGVmYXVsdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zLFxyXG4gICAgICAgIHByaXZhdGUgX3JvdXRlcjogUm91dGVyLFxyXG4gICAgICAgIHByaXZhdGUgX2F1dGhTZXJ2aWNlOiBBdXRoU2VydmljZVxyXG4gICAgKSB7XHJcbiAgICAgICAgc3VwZXIoYmFja2VuZCwgZGVmYXVsdE9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCh1cmw6IHN0cmluZywgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zQXJncyk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcclxuICAgICAgICBsZXQgaHR0cCA9IG5ldyBIdHRwKHRoaXMuX2JhY2tlbmQsIHRoaXMuX2RlZmF1bHRPcHRpb25zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dGhTZXJ2aWNlLmlzQXV0aG9yaXplZCgpXHJcbiAgICAgICAgICAgIC5tZXJnZU1hcChpc0F1dGhvcml6ZWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQXV0aG9yaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlY3VyZU9wdGlvbnMob3B0aW9ucykubWVyZ2VNYXAoc2VjdXJlT3B0aW9ucyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQodXJsLCBzZWN1cmVPcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHRoaXMuaGFuZGxlRXhjZXB0aW9uKGh0dHAsIGVycm9yLCB1cmwsIHNlY3VyZU9wdGlvbnMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRoU2VydmljZS5jcmVhdGVVbmF1dGhvcml6ZWRSZXNwb25zZSgnVW5BdXRob3JpemVkJylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnNBcmdzKTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlY3VyZU9wdGlvbnMob3B0aW9ucykubWVyZ2VNYXAoc2VjdXJlT3B0aW9ucyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5wb3N0KHVybCwgYm9keSwgc2VjdXJlT3B0aW9ucyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVOb0NvbnRlbnRSZXNwb25zZShlcnJvcjogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobmV3IFJlc3BvbnNlT3B0aW9ucyh7XHJcbiAgICAgICAgICAgIGJvZHk6IG51bGwsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGVycm9yLmhlYWRlcnMsXHJcbiAgICAgICAgICAgIHN0YXR1czogMjA0LFxyXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiAnTm8gQ29udGVudCcsXHJcbiAgICAgICAgICAgIHR5cGU6IGVycm9yLnR5cGUsXHJcbiAgICAgICAgICAgIHVybDogZXJyb3IudXJsXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5vZihyZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVTZWN1cmVPcHRpb25zKG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9uc0FyZ3MpOiBPYnNlcnZhYmxlPFJlcXVlc3RPcHRpb25zQXJncz4ge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREZWZhdWx0SGVhZGVycygpLm1lcmdlTWFwKG5ld0hlYWRlcnMgPT4ge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVyZ2VIZWFkZXJzKG9wdGlvbnMuaGVhZGVycywgbmV3SGVhZGVycyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IG5ld0hlYWRlcnM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gbmV3IFJlcXVlc3RPcHRpb25zKHsgaGVhZGVyczogbmV3SGVhZGVycyB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUub2Yob3B0aW9ucyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0SGVhZGVycygpOiBPYnNlcnZhYmxlPEhlYWRlcnM+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dGhTZXJ2aWNlLmdldEF1dGhvcml6YXRpb25IZWFkZXIoKS5tZXJnZU1hcChhdXRoSGVhZGVyID0+IHtcclxuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGF1dGhIZWFkZXIpIHtcclxuICAgICAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKCdBdXRob3JpemF0aW9uJywgYXV0aEhlYWRlcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKCd0aW1lc3RhbXAnLCAobmV3IERhdGUoKSkuZ2V0VGltZSgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZCgnQ2FjaGUtQ29udHJvbCcsICduby1jYWNoZScpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUub2YoaGVhZGVycyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVFeGNlcHRpb24oaHR0cDogSHR0cCwgZXJyb3I6IGFueSwgdXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9uc0FyZ3MpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZWN1cmVIdHRwLmhhbmRsZUV4Y2VwdGlvbigpJyk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXJyb3Iuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgNDAxOlxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIHVuYXV0aG9yaXplZC4gYmFkIGFjY2VzcyB0b2tlbi5cclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aFNlcnZpY2UuY3JlYXRlVW5hdXRob3JpemVkUmVzcG9uc2UoZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSA0MDQ6XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIHdlYiBhcGkgcmV0dXJuZWQgbm8gY29udGVudC5cclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVOb0NvbnRlbnRSZXNwb25zZShlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIGJ5IGRlZmF1bHQsIGp1c3QgcmV0aHJvdyB0aGUgb3JpZ2luYWwgZXJyb3IuXHJcbiAgICAgICAgLy9cclxuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS50aHJvdyhlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtZXJnZUhlYWRlcnModGFyZ2V0OiBIZWFkZXJzLCBzb3VyY2U6IEhlYWRlcnMpOiB2b2lkIHtcclxuICAgICAgICBzb3VyY2UuZm9yRWFjaCgodmFsdWVzOiBzdHJpbmdbXSwgbmFtZTogc3RyaW5nLCBoZWFkZXJzOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT4pID0+IHtcclxuICAgICAgICAgICAgdGFyZ2V0LnNldChuYW1lLCB2YWx1ZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvYXV0aC9zZWN1cmVIdHRwLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQUlBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUE1R0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///645\n");

/***/ }),

/***/ 646:
/*!*******************************!*\
  !*** ./src/auth/authGuard.ts ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 61);\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 8);\r\nvar auth_service_1 = __webpack_require__(/*! ./auth.service */ 45);\r\nvar AuthGuard = (function () {\r\n    function AuthGuard(_authService, _router) {\r\n        this._authService = _authService;\r\n        this._router = _router;\r\n    }\r\n    AuthGuard.prototype.canActivate = function (route, state) {\r\n        console.log('can activate called');\r\n        return this.canActivateInternal(route, state);\r\n    };\r\n    AuthGuard.prototype.canActivateChild = function (childRoute, state) {\r\n        return this.canActivateInternal(childRoute, state);\r\n    };\r\n    AuthGuard.prototype.canActivateInternal = function (route, state) {\r\n        var _this = this;\r\n        var url = state.url;\r\n        console.log(\"AuthGuard.canActivate() - activation attempted to \" + url + \".\");\r\n        return this._authService.isAuthorized().map(function (isAuthorized) {\r\n            if (isAuthorized) {\r\n                console.log('AuthGuard.canActivate() - authorized.');\r\n                return true;\r\n            }\r\n            console.log(\"AuthGuard.canActivate() - not authorized. redirecting to login.\");\r\n            _this._authService.redirectToLoginFrom(url);\r\n            return false;\r\n        });\r\n    };\r\n    AuthGuard = __decorate([\r\n        core_1.Injectable(),\r\n        __metadata(\"design:paramtypes\", [auth_service_1.AuthService, router_1.Router])\r\n    ], AuthGuard);\r\n    return AuthGuard;\r\n}());\r\nexports.AuthGuard = AuthGuard;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2F1dGgvYXV0aEd1YXJkLnRzPzM0MDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FuQWN0aXZhdGUsIENhbkFjdGl2YXRlQ2hpbGQsIFJvdXRlciwgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgUm91dGVyU3RhdGVTbmFwc2hvdCB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgQXV0aEd1YXJkIGltcGxlbWVudHMgQ2FuQWN0aXZhdGUsIENhbkFjdGl2YXRlQ2hpbGQge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfYXV0aFNlcnZpY2U6IEF1dGhTZXJ2aWNlLCBwcml2YXRlIF9yb3V0ZXI6IFJvdXRlcikgeyB9XHJcblxyXG4gICAgcHVibGljIGNhbkFjdGl2YXRlKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjYW4gYWN0aXZhdGUgY2FsbGVkJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuQWN0aXZhdGVJbnRlcm5hbChyb3V0ZSwgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYW5BY3RpdmF0ZUNoaWxkKGNoaWxkUm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90KTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuQWN0aXZhdGVJbnRlcm5hbChjaGlsZFJvdXRlLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYW5BY3RpdmF0ZUludGVybmFsKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGxldCB1cmwgPSBzdGF0ZS51cmw7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEF1dGhHdWFyZC5jYW5BY3RpdmF0ZSgpIC0gYWN0aXZhdGlvbiBhdHRlbXB0ZWQgdG8gJHt1cmx9LmApO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fYXV0aFNlcnZpY2UuaXNBdXRob3JpemVkKCkubWFwKGlzQXV0aG9yaXplZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc0F1dGhvcml6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoR3VhcmQuY2FuQWN0aXZhdGUoKSAtIGF1dGhvcml6ZWQuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEF1dGhHdWFyZC5jYW5BY3RpdmF0ZSgpIC0gbm90IGF1dGhvcml6ZWQuIHJlZGlyZWN0aW5nIHRvIGxvZ2luLmApO1xyXG4gICAgICAgICAgICB0aGlzLl9hdXRoU2VydmljZS5yZWRpcmVjdFRvTG9naW5Gcm9tKHVybCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2F1dGgvYXV0aEd1YXJkLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExQkE7QUFEQTtBQUVBO0FBREE7QUEyQkE7QUFBQTtBQTNCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///646\n");

/***/ })

},[621]);